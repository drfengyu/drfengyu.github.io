<!DOCTYPE html>
<html lang="zh-CN">
    <head>
  <!-- 元数据 -->
  <meta charset="utf-8">
  <link rel="icon" href="/images/favicon.ico">
  <title>深入浅出Windows通用应用程序开发(一) | 浅梦博客</title>
  <meta name="author" content="浅梦风凌" />
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="robots" content="index,follow" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <meta name="format-detection" content="telphone=no, email=no" />
  
    <meta name="keywords" content="UWP" />
  
  <meta name="description" content="创建Windows 10通用应用创建Hello World项目1.打开vs,New Project,C#,Windows,Universal&#x2F;UWP,选择一个空白项目模板(Universal Windows),单击OK按钮完成项目的创建.2.MainPage.xaml 123456789101112131415&lt;Page    x:Class&#x3D;&quot;App1.MainPage&amp;quot">
<meta property="og:type" content="article">
<meta property="og:title" content="深入浅出Windows通用应用程序开发(一)">
<meta property="og:url" content="https://drfengling.github.io/qm/7b676f35.html">
<meta property="og:site_name" content="浅梦博客">
<meta property="og:description" content="创建Windows 10通用应用创建Hello World项目1.打开vs,New Project,C#,Windows,Universal&#x2F;UWP,选择一个空白项目模板(Universal Windows),单击OK按钮完成项目的创建.2.MainPage.xaml 123456789101112131415&lt;Page    x:Class&#x3D;&quot;App1.MainPage&amp;quot">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://drfengling.github.io/images/favicon.ico">
<meta property="article:published_time" content="2022-11-29T05:15:57.000Z">
<meta property="article:modified_time" content="2022-12-05T02:32:22.431Z">
<meta property="article:author" content="浅梦风凌">
<meta property="article:tag" content="UWP">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://drfengling.github.io/images/favicon.ico">
<meta name="twitter:site" content="@null">
  
  <!-- 站点验证相关 -->
  
    
    
    
  
  <!-- 样式表文件 -->
  <link rel="stylesheet" id="kratos-css" href="/css/kratosr.min.css" type="text/css" media="all">
  
    <link rel="stylesheet" id="darkmode-css" href="/css/kr-color-dark.min.css" type="text/css" media="(prefers-color-scheme: dark)">
    <script src="/js/kr-dark.min.js"></script>
  
  
    <link rel="stylesheet" id="highlight-css" href="/css/highlight/night-eighties.min.css" type="text/css" media="all">
  
  
  <link rel="stylesheet" id="fontawe-css" href="https://unpkg.com/font-awesome@4.7.0/css/font-awesome.min.css" type="text/css" media="all">
  <link rel="stylesheet" id="nprogress-css" href="https://unpkg.com/nprogress@0.2.0/nprogress.css" type="text/css" media="all">
  
  
  <!-- 不得不预先加载的一些JS文件 -->
  <script src="https://unpkg.com/jquery@3.6.0/dist/jquery.min.js"></script>
  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
    <script src="https://unpkg.com/qrcode_js@1.0.0/qrcode.min.js"></script>
  
  
  <style>
    
      .kratos-cover.kratos-cover-2 {
        background-image: url('/images/banner.webp');
      }
    
    
      @media(min-width:768px) {
        body.custom-background {
          background-image: url('/images/bg.webp');
        }
      }
    
  </style>
  
  <script src="/live2d-widget/autoload.js"></script>
<div style="display: none;">
    <script src="https://cdn.jsdelivr.net/npm/aplayer@1.10/dist/APlayer.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/meting@1.2/dist/Meting.min.js"></script>
    <link rel="stylesheet" type='text/css' href="https://cdn.jsdelivr.net/npm/aplayer@1.10/dist/APlayer.min.css">
</div>

<meta name="generator" content="Hexo 5.4.2"><link rel="alternate" href="/atom.xml" title="浅梦博客" type="application/atom+xml">
</head>


    <body class="custom-background">
        <div id="kratos-wrapper">
    <div id="kratos-page">
        <div id="kratos-header">
            <header id="kratos-desktop-topnav" class="kratos-topnav">
                <div class="container">
                    <div class="nav-header">
                        <nav id="kratos-menu-wrap">
                            <ul id="kratos-primary-menu" class="sf-menu">
                                
                                    
                                        <li><a href="/"><i class="fa fa-home"></i>首页</a></li>
                                    
                                
                                    
                                        <li><a href="/archives/"><i class="fa fa-file"></i>档案馆</a></li>
                                    
                                
                                    
                                        <li><a href="/friends/"><i class="fa fa-paw"></i>好伙伴</a></li>
                                    
                                
                                    
                                        <li>
                                            <a><i class="fa fa-link"></i>链接</a>
                                            <ul class="sub-menu">
                                                
                                                    
                                                
                                                    
                                                        <li><a href="https://drfengling.github.io/">浅梦博客</a></li>
                                                    
                                                
                                                    
                                                        <li><a target="_blank" rel="noopener" href="https://github.com/Drfengling/Drfengling.github.io">项目链接</a></li>
                                                    
                                                
                                            </ul>
                                        </li>
                                    
                                
                                    
                                        <li>
                                            <a><i class="fa fa-music" aria-hidden="true"></i>歌单</a>
                                            <ul class="sub-menu">
                                                
                                                    
                                                
                                                    
                                                        <li><a href="/playlist/">飙升榜</a></li>
                                                    
                                                
                                            </ul>
                                        </li>
                                    
                                
                            </ul>
                        </nav>
                    </div>
                </div>
            </header>
            <header id="kratos-mobile-topnav" class="kratos-topnav">
                <div class="container">
                    <div class="color-logo"><a href="/">浅梦博客</a></div>
                    <div class="nav-toggle">
                        <a class="kratos-nav-toggle js-kratos-nav-toggle">
                            <i></i>
                        </a>
                    </div>
                </div>
            </header>
        </div>
        <div class="kratos-start kratos-hero-2">
            <!-- <div class="kratos-overlay"></div> -->
            <div class="kratos-cover kratos-cover-2 text-center">
                <div class="desc desc2 animate-box">
                    <a href="/">
                        <h2>浅梦博客</h2> <br />
                        <span></span>
                    </a>
                </div>
            </div>
        </div>

        <div id="kratos-blog-post">
            <div class="container">
                <div id="main" class="row">
                    

        

            <section class="col-md-8">

        

            <article>
    
    <div class="kratos-hentry kratos-post-inner clearfix">
        <header class="kratos-entry-header">
            
                <h1 class="kratos-entry-title text-center">深入浅出Windows通用应用程序开发(一)</h1>
            
            
            <ul class="kratos-post-meta text-center">
                <li><i class="fa fa-calendar"></i> 2022-11-29</li>
                <li><i class="fa fa-user"></i> 作者 浅梦风凌</li>
                <li>
                    <i class="fa fa-edit"></i> 
                    
                    
                        ~63.57K
                    
                    字
                </li>
                
            </ul>
        </header>
        <div class="kratos-post-content">
            <div id="expire-alert" class="alert alert-warning hidden" role="alert">
                <div class="icon"><i class="fa fa-warning"></i></div>
                <div class="text"><p>本文最后编辑于 <time datetime="1670207542431"></time> 前，其中的内容可能需要更新。</p></div>
            </div>
            
                <div class="kratos-post-inner-toc">
                    <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAWindows-10%E9%80%9A%E7%94%A8%E5%BA%94%E7%94%A8"><span class="toc-number">1.</span> <span class="toc-text">创建Windows 10通用应用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAHello-World%E9%A1%B9%E7%9B%AE"><span class="toc-number"></span> <span class="toc-text">创建Hello World项目</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E6%9E%90%E5%BA%94%E7%94%A8"><span class="toc-number">1.</span> <span class="toc-text">解析应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E5%90%8C%E5%B9%B3%E5%8F%B0%E8%AE%BE%E5%A4%87%E7%9A%84%E9%80%82%E9%85%8D"><span class="toc-number">2.</span> <span class="toc-text">不同平台设备的适配</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%B9%E5%AE%9A%E5%B9%B3%E5%8F%B0%E7%9A%84API%E8%B0%83%E7%94%A8"><span class="toc-number"></span> <span class="toc-text">特定平台的API调用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%95%8C%E9%9D%A2%E9%80%82%E9%85%8D"><span class="toc-number">1.</span> <span class="toc-text">界面适配</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#xaml%E7%95%8C%E9%9D%A2%E5%8E%9F%E7%90%86%E5%92%8C%E8%AF%AD%E6%B3%95"><span class="toc-number">1.1.</span> <span class="toc-text">xaml界面原理和语法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E5%85%83%E7%B4%A0"><span class="toc-number">2.</span> <span class="toc-text">对象元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E5%B1%9E%E6%80%A7"><span class="toc-number">3.</span> <span class="toc-text">设置属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%99%84%E5%8A%A0%E5%B1%9E%E6%80%A7"><span class="toc-number">4.</span> <span class="toc-text">附加属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%87%E8%AE%B0%E6%89%A9%E5%B1%95"><span class="toc-number">5.</span> <span class="toc-text">标记扩展</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6"><span class="toc-number">6.</span> <span class="toc-text">事件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Xaml%E5%8E%9F%E7%90%86"><span class="toc-number">7.</span> <span class="toc-text">Xaml原理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E5%8A%A0%E8%BD%BDxaml"><span class="toc-number"></span> <span class="toc-text">动态加载xaml</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#XAML%E6%A0%91%E7%BB%93%E6%9E%84"><span class="toc-number">0.1.</span> <span class="toc-text">XAML树结构</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E8%A7%86%E5%8C%96%E6%A0%91"><span class="toc-number">1.</span> <span class="toc-text">可视化树</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%8D%E5%8E%86%E5%8F%AF%E8%A7%86%E5%8C%96%E6%A0%91"><span class="toc-number">2.</span> <span class="toc-text">遍历可视化树</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A1%86%E6%9E%B6%E5%92%8C%E9%A1%B5%E9%9D%A2"><span class="toc-number">3.</span> <span class="toc-text">框架和页面</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2%E5%AF%BC%E8%88%AA"><span class="toc-number">4.</span> <span class="toc-text">页面导航</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%A7%E4%BB%B6%E7%BC%96%E7%A8%8B"><span class="toc-number">4.1.</span> <span class="toc-text">控件编程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%83%E5%B1%80%E6%8E%A7%E4%BB%B6"><span class="toc-number">4.2.</span> <span class="toc-text">布局控件</span></a></li></ol></li></ol>
                </div>
            
            <hr />
            <h3 id="创建Windows-10通用应用"><a href="#创建Windows-10通用应用" class="headerlink" title="创建Windows 10通用应用"></a>创建Windows 10通用应用</h3><h2 id="创建Hello-World项目"><a href="#创建Hello-World项目" class="headerlink" title="创建Hello World项目"></a>创建Hello World项目</h2><p>1.打开vs,New Project,C#,Windows,Universal/UWP,选择一个空白项目模板(Universal Windows),单击OK按钮完成项目的创建.<br>2.MainPage.xaml</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;Page</span><br><span class="line">    x:Class=<span class="string">&quot;App1.MainPage&quot;</span></span><br><span class="line">    xmlns=<span class="string">&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;</span></span><br><span class="line">    xmlns:x=<span class="string">&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;</span></span><br><span class="line">    xmlns:<span class="built_in">local</span>=<span class="string">&quot;using:App1&quot;</span></span><br><span class="line">    xmlns:d=<span class="string">&quot;http://schemas.microsoft.com/expression/blend/2008&quot;</span></span><br><span class="line">    xmlns:mc=<span class="string">&quot;http://schemas.openxmlformats.org/markup-compatibility/2006&quot;</span></span><br><span class="line">    mc:Ignorable=<span class="string">&quot;d&quot;</span></span><br><span class="line">    Background=<span class="string">&quot;&#123;ThemeResource ApplicationPageBackgroundThemeBrush&#125;&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;Grid&gt;</span><br><span class="line">        &lt;Button HorizontalAlignment=<span class="string">&quot;Center&quot;</span> VerticalAlignment=<span class="string">&quot;Center&quot;</span> Content=<span class="string">&quot;Hello,App&quot;</span> Click=<span class="string">&quot;Button_Click&quot;</span>/&gt;</span><br><span class="line">    &lt;/Grid&gt;</span><br><span class="line">&lt;/Page&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>3.编辑部署程序<br>选择Deploy Solution在模拟器上运行应用程序.</p>
<h3 id="解析应用"><a href="#解析应用" class="headerlink" title="解析应用"></a>解析应用</h3><p>1.MainPage.xaml<br>    Background=”{ThemeResource ApplicationPageBackgroundThemeBrush}”&gt;<br>表示当前背景使用的是系统的主题资源背景.<br>2.App.xaml.cs</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br></pre></td><td class="code"><pre><span class="line">using System;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using System.IO;</span><br><span class="line">using System.Linq;</span><br><span class="line">using System.Runtime.InteropServices.WindowsRuntime;</span><br><span class="line">using Windows.ApplicationModel;</span><br><span class="line">using Windows.ApplicationModel.Activation;</span><br><span class="line">using Windows.Foundation;</span><br><span class="line">using Windows.Foundation.Collections;</span><br><span class="line">using Windows.UI.Xaml;</span><br><span class="line">using Windows.UI.Xaml.Controls;</span><br><span class="line">using Windows.UI.Xaml.Controls.Primitives;</span><br><span class="line">using Windows.UI.Xaml.Data;</span><br><span class="line">using Windows.UI.Xaml.Input;</span><br><span class="line">using Windows.UI.Xaml.Media;</span><br><span class="line">using Windows.UI.Xaml.Media.Animation;</span><br><span class="line">using Windows.UI.Xaml.Navigation;</span><br><span class="line"></span><br><span class="line">namespace App1</span><br><span class="line">&#123;</span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// 提供特定于应用程序的行为，以补充默认的应用程序类。</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    sealed partial class App : Application</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        private TransitionCollection transitions;</span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 初始化单一实例应用程序对象。这是执行的创作代码的第一行，</span><br><span class="line">        /// 已执行，逻辑上等同于 main() 或 WinMain()。</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        public <span class="function"><span class="title">App</span></span>()</span><br><span class="line">        &#123;</span><br><span class="line">            this.InitializeComponent();</span><br><span class="line">            this.Suspending += OnSuspending;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 在应用程序由最终用户正常启动时进行调用。</span><br><span class="line">        /// 将在启动应用程序以打开特定文件等情况下使用。</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        /// &lt;param name=<span class="string">&quot;e&quot;</span>&gt;有关启动请求和过程的详细信息。&lt;/param&gt;</span><br><span class="line">        protected override void OnLaunched(LaunchActivatedEventArgs e)</span><br><span class="line">        &#123;</span><br><span class="line">            Frame rootFrame = Window.Current.Content as Frame;</span><br><span class="line"></span><br><span class="line">            // 不要在窗口已包含内容时重复应用程序初始化，</span><br><span class="line">            // 只需确保窗口处于活动状态</span><br><span class="line">            <span class="keyword">if</span> (rootFrame == null)</span><br><span class="line">            &#123;</span><br><span class="line">                // 创建要充当导航上下文的框架，并导航到第一页</span><br><span class="line">                rootFrame = new Frame();</span><br><span class="line">                //设置当前的页面框架可以缓存的页面数量</span><br><span class="line"></span><br><span class="line">                rootFrame.CacheSize=1;</span><br><span class="line"></span><br><span class="line">                rootFrame.NavigationFailed += OnNavigationFailed;</span><br><span class="line">                //判断程序的上一个状态.</span><br><span class="line">                <span class="keyword">if</span> (e.PreviousExecutionState == ApplicationExecutionState.Terminated)</span><br><span class="line">                &#123;</span><br><span class="line">                    //如果是从休眠程序启动,这里要加载上一个状态的相关数据</span><br><span class="line">                    //TODO: 从之前挂起的应用程序加载状态</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                // 将框架放在当前窗口中</span><br><span class="line">                Window.Current.Content = rootFrame;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (e.PrelaunchActivated == <span class="literal">false</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                //判断框架内容是否为空</span><br><span class="line">                <span class="keyword">if</span> (rootFrame.Content == null)</span><br><span class="line">                &#123;</span><br><span class="line">                    //如果相关的动画值不为空则添加动画</span><br><span class="line">                    <span class="keyword">if</span> (rootFrame.ContentTransitions!=null)</span><br><span class="line">                    &#123;</span><br><span class="line">                        this.transitions= new TransitionCollection();</span><br><span class="line">                        foreach (var item <span class="keyword">in</span> rootFrame.ContentTransitions)</span><br><span class="line">                        &#123;</span><br><span class="line">                            this.transitions.Add(item);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    rootFrame.ContentTransitions= null;</span><br><span class="line">                    //添加导航跳转完成的事件</span><br><span class="line">                    rootFrame.Navigated += RootFrame_Navigated;</span><br><span class="line">                    ///导航跳转到引用程序的MainPage页面</span><br><span class="line">                    <span class="keyword">if</span> (!rootFrame.Navigate(typeof(MainPage), e.Arguments)) &#123;</span><br><span class="line">                        throw new Exception(<span class="string">&quot;Failed to create initial page.&quot;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    // 当导航堆栈尚未还原时，导航到第一页，</span><br><span class="line">                    // 并通过将所需信息作为导航参数传入来配置</span><br><span class="line">                    // 参数</span><br><span class="line">                    rootFrame.Navigate(typeof(MainPage), e.Arguments);</span><br><span class="line">                &#125;</span><br><span class="line">                // 确保当前窗口处于活动状态</span><br><span class="line">                Window.Current.Activate();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        //导航事件完成的处理程序,从新创建启动动画的集合.</span><br><span class="line">        private void RootFrame_Navigated(object sender, NavigationEventArgs e)</span><br><span class="line">        &#123;</span><br><span class="line">            var rootFrame = sender as Frame;</span><br><span class="line">            rootFrame.ContentTransitions=this.transitions= new <span class="function"><span class="title">TransitionCollection</span></span>() &#123; new NavigationThemeTransition()&#125;;</span><br><span class="line">            rootFrame.Navigated-= RootFrame_Navigated;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 导航到特定页失败时调用</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        ///&lt;param name=<span class="string">&quot;sender&quot;</span>&gt;导航失败的框架&lt;/param&gt;</span><br><span class="line">        ///&lt;param name=<span class="string">&quot;e&quot;</span>&gt;有关导航失败的详细信息&lt;/param&gt;</span><br><span class="line">        void OnNavigationFailed(object sender, NavigationFailedEventArgs e)</span><br><span class="line">        &#123;</span><br><span class="line">            throw new Exception(<span class="string">&quot;Failed to load Page &quot;</span> + e.SourcePageType.FullName);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 在将要挂起应用程序执行时调用。  在不知道应用程序</span><br><span class="line">        /// 无需知道应用程序会被终止还是会恢复，</span><br><span class="line">        /// 并让内存内容保持不变。</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        /// &lt;param name=<span class="string">&quot;sender&quot;</span>&gt;挂起的请求的源。&lt;/param&gt;</span><br><span class="line">        /// &lt;param name=<span class="string">&quot;e&quot;</span>&gt;有关挂起请求的详细信息。&lt;/param&gt;</span><br><span class="line">        private void OnSuspending(object sender, SuspendingEventArgs e)</span><br><span class="line">        &#123;</span><br><span class="line">            var deferral = e.SuspendingOperation.GetDeferral();</span><br><span class="line">            //TODO: 保存应用程序状态并停止任何后台活动</span><br><span class="line">            deferral.Complete();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>应用程序的三种主要状态,Running,NotRunning,Suspended.<br>1.应用启动 从其他状态到Running<br>2.应用激活 从NotRunning到Running<br>activated事件参数包括一个PreviousExecutionState属性,该属性告诉你应用在激活之前处于哪种状态.此属性是ApplicationExecutionState属性枚举值之一,CloseByUser,Terminated,NotRunning.PreviousExecutionState.Running,Suspended.应用以前不是被终止,因此不用担心还原数据.<br>3.应用挂起.从Running状态到Suspended状态.<br>4.应用恢复 从Suspended状态到Running状态.</p>
<p>3.Package.appxmanifest<br>声明应用的标识,应用的功能以及用来进行部署和更新的信息.<br>Package元素是整个清单的根节点.Identity元素表示应用程序版本发布者名称的信息.mp:PhoneIdentity元素表示应用程序相关的唯一标识符信息.Properties元素包含应用程序的名称,发布者名称等信息的设置.Prerequisites元素则是用于设置应用程序所支持的系统版本号,Resources元素表示应用程序所使用资源信息.Applicaitons元素包含了与应用程序相关的logo设置,闪屏图片设置等可视化的设置信息.Capablities元素表示当前应用程序所使用的一些手机特定功能,例如internetClient表示使用网络的功能</p>
<h3 id="不同平台设备的适配"><a href="#不同平台设备的适配" class="headerlink" title="不同平台设备的适配"></a>不同平台设备的适配</h3><h2 id="特定平台的API调用"><a href="#特定平台的API调用" class="headerlink" title="特定平台的API调用"></a>特定平台的API调用</h2><p>Window10里面有Windows Mobile Extension SDK和Windows Desktop Extension SDK分别表示手机版本和桌面版本的扩展SDK.都是内置在WIndow10SDK里面的,默认情况下不会给项目工程加上,需要使用时可以在项目工程里引用.Project,Add Reference,Window Universal,Extensions.在使用Api时必须判断当前环境支不支持.<br>判断方法为Windows.Foundation.Metadata.ApiInformation.IsTypePresent(string typeName),typename表示带完整命名空间的API名称,i返回true表示支持.ji返回false表示不支持.下面通过一个手机硬件后退键的适配来演示如何使用和适配特定平台的API.<br>首先创建WIndow10通用应用程序项目,BackButtonDemo,在项目里面引用Windows Mobile Extension SDK.<br>1.BlackPage.xaml</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br></pre></td><td class="code"><pre><span class="line">&lt;Page</span><br><span class="line">    x:Class=<span class="string">&quot;App1.BlankPage&quot;</span></span><br><span class="line">    xmlns=<span class="string">&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;</span></span><br><span class="line">    xmlns:x=<span class="string">&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;</span></span><br><span class="line">    xmlns:<span class="built_in">local</span>=<span class="string">&quot;using:App1&quot;</span></span><br><span class="line">    xmlns:d=<span class="string">&quot;http://schemas.microsoft.com/expression/blend/2008&quot;</span></span><br><span class="line">    xmlns:mc=<span class="string">&quot;http://schemas.openxmlformats.org/markup-compatibility/2006&quot;</span></span><br><span class="line">    mc:Ignorable=<span class="string">&quot;d&quot;</span></span><br><span class="line">    Background=<span class="string">&quot;&#123;ThemeResource ApplicationPageBackgroundThemeBrush&#125;&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;Grid&gt;</span><br><span class="line">        &lt;StackPanel VerticalAlignment=<span class="string">&quot;Top&quot;</span> Orientation=<span class="string">&quot;Horizontal&quot;</span>&gt;</span><br><span class="line">            &lt;Button x:Name=<span class="string">&quot;backButton&quot;</span> Margin=<span class="string">&quot;24,24,24,24&quot;</span> Click=<span class="string">&quot;backButton_Click&quot;</span> Style=<span class="string">&quot;&#123;StaticResource NavigationBackButtonNormalStyle&#125;&quot;</span>/&gt;</span><br><span class="line">            &lt;TextBlock Text=<span class="string">&quot;你好&quot;</span> FontSize=<span class="string">&quot;30&quot;</span> HorizontalAlignment=<span class="string">&quot;Left&quot;</span> VerticalAlignment=<span class="string">&quot;Center&quot;</span>/&gt;</span><br><span class="line">            </span><br><span class="line">        &lt;/StackPanel&gt;</span><br><span class="line">    &lt;/Grid&gt;</span><br><span class="line">&lt;/Page&gt;</span><br><span class="line">//App.xaml.cs</span><br><span class="line">using System;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using System.IO;</span><br><span class="line">using System.Linq;</span><br><span class="line">using System.Runtime.InteropServices.WindowsRuntime;</span><br><span class="line">using Windows.Foundation;</span><br><span class="line">using Windows.Foundation.Collections;</span><br><span class="line">using Windows.UI.Xaml;</span><br><span class="line">using Windows.UI.Xaml.Controls;</span><br><span class="line">using Windows.UI.Xaml.Controls.Primitives;</span><br><span class="line">using Windows.UI.Xaml.Data;</span><br><span class="line">using Windows.UI.Xaml.Input;</span><br><span class="line">using Windows.UI.Xaml.Media;</span><br><span class="line">using Windows.UI.Xaml.Navigation;</span><br><span class="line"></span><br><span class="line">// https://go.microsoft.com/fwlink/?LinkId=234238 上介绍了“空白页”项模板</span><br><span class="line"></span><br><span class="line">namespace App1</span><br><span class="line">&#123;</span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// 可用于自身或导航至 Frame 内部的空白页。</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    public sealed partial class BlankPage : Page</span><br><span class="line">    &#123;</span><br><span class="line">        public <span class="function"><span class="title">BlankPage</span></span>()</span><br><span class="line">        &#123;</span><br><span class="line">            this.InitializeComponent();</span><br><span class="line">            <span class="keyword">if</span> (App.IsHardwareButtonsAPIPresent)</span><br><span class="line">            &#123;</span><br><span class="line">                backButton.Visibility = Visibility.Collapsed;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                backButton.Visibility = Visibility.Visible;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 后退按钮处理</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        /// &lt;param name=<span class="string">&quot;sender&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">        /// &lt;param name=<span class="string">&quot;e&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">        private void backButton_Click(object sender, RoutedEventArgs e)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(this.Frame.CanGoBack)</span><br><span class="line">            &#123; this.Frame.GoBack(); &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">///MainPage.xaml</span><br><span class="line">&lt;Page</span><br><span class="line">    x:Class=<span class="string">&quot;App1.MainPage&quot;</span></span><br><span class="line">    xmlns=<span class="string">&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;</span></span><br><span class="line">    xmlns:x=<span class="string">&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;</span></span><br><span class="line">    xmlns:<span class="built_in">local</span>=<span class="string">&quot;using:App1&quot;</span></span><br><span class="line">    xmlns:d=<span class="string">&quot;http://schemas.microsoft.com/expression/blend/2008&quot;</span></span><br><span class="line">    xmlns:mc=<span class="string">&quot;http://schemas.openxmlformats.org/markup-compatibility/2006&quot;</span></span><br><span class="line">    mc:Ignorable=<span class="string">&quot;d&quot;</span></span><br><span class="line">    Background=<span class="string">&quot;&#123;ThemeResource ApplicationPageBackgroundThemeBrush&#125;&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;Grid&gt;</span><br><span class="line">        &lt;StackPanel Orientation=<span class="string">&quot;Vertical&quot;</span>&gt;</span><br><span class="line">            &lt;Button HorizontalAlignment=<span class="string">&quot;Center&quot;</span> VerticalAlignment=<span class="string">&quot;Center&quot;</span> Content=<span class="string">&quot;Hello,App&quot;</span> Click=<span class="string">&quot;Button_Click&quot;</span>/&gt;</span><br><span class="line">            &lt;Button Content=<span class="string">&quot;跳转到新的页面&quot;</span> Click=<span class="string">&quot;Button2_Click&quot;</span> VerticalAlignment=<span class="string">&quot;Center&quot;</span> HorizontalAlignment=<span class="string">&quot;Center&quot;</span>/&gt;</span><br><span class="line">            </span><br><span class="line">        &lt;/StackPanel&gt;</span><br><span class="line">    &lt;/Grid&gt;</span><br><span class="line">&lt;/Page&gt;</span><br><span class="line">using System;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using System.IO;</span><br><span class="line">using System.Linq;</span><br><span class="line">using System.Runtime.InteropServices.WindowsRuntime;</span><br><span class="line">using Windows.Foundation;</span><br><span class="line">using Windows.Foundation.Collections;</span><br><span class="line">using Windows.UI.Xaml;</span><br><span class="line">using Windows.UI.Xaml.Controls;</span><br><span class="line">using Windows.UI.Xaml.Controls.Primitives;</span><br><span class="line">using Windows.UI.Xaml.Data;</span><br><span class="line">using Windows.UI.Xaml.Input;</span><br><span class="line">using Windows.UI.Xaml.Media;</span><br><span class="line">using Windows.UI.Xaml.Navigation;</span><br><span class="line"></span><br><span class="line">// https://go.microsoft.com/fwlink/?LinkId=402352&amp;clcid=0x804 上介绍了“空白页”项模板</span><br><span class="line"></span><br><span class="line">namespace App1</span><br><span class="line">&#123;</span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// 可用于自身或导航至 Frame 内部的空白页。</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    public sealed partial class MainPage : Page</span><br><span class="line">    &#123;</span><br><span class="line">        public <span class="function"><span class="title">MainPage</span></span>()</span><br><span class="line">        &#123;</span><br><span class="line">            this.InitializeComponent();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        private async void Button_Click(object sender, RoutedEventArgs e)</span><br><span class="line">        &#123;</span><br><span class="line">            MediaElement media=new MediaElement();</span><br><span class="line">            var synth = new Windows.Media.SpeechSynthesis.SpeechSynthesizer();</span><br><span class="line">            Windows.Media.SpeechSynthesis.SpeechSynthesisStream stream = await synth.SynthesizeTextToStreamAsync(<span class="string">&quot;Hello,App!&quot;</span>);</span><br><span class="line">            media.SetSource(stream,stream.ContentType);</span><br><span class="line">            media.Play();   </span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        private void Button2_Click(object sender, RoutedEventArgs e)</span><br><span class="line">        &#123;</span><br><span class="line">            this.Frame.Navigate(typeof(BlankPage));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="界面适配"><a href="#界面适配" class="headerlink" title="界面适配"></a>界面适配</h3><p>1.使用相对的布局控件来进行排列,如Grid,RelativePanel等.<br>2.使用相对的属性来设置控件在容器的位置.如orizontaolAligment，VertaicalAlignment属性<br>3.设置长度宽度的最大值最小值限制;<br>4.根据设备实际分辨率来设置长度宽度或者位置;</p>
<h4 id="xaml界面原理和语法"><a href="#xaml界面原理和语法" class="headerlink" title="xaml界面原理和语法"></a>xaml界面原理和语法</h4><h3 id="对象元素"><a href="#对象元素" class="headerlink" title="对象元素"></a>对象元素</h3><p>Xaml的对象元素是指Xaml中一个完整的节点.</p>
<h3 id="设置属性"><a href="#设置属性" class="headerlink" title="设置属性"></a>设置属性</h3><p>1.使用属性语法<br>2.使用属性元素语法<br>3.使用内容元素语法<br>4.使用集合语法</p>
<h3 id="附加属性"><a href="#附加属性" class="headerlink" title="附加属性"></a>附加属性</h3><h3 id="标记扩展"><a href="#标记扩展" class="headerlink" title="标记扩展"></a>标记扩展</h3><p>1.Binding 实现在Xaml载入时,将数据绑定到xaml对象.<br>2.StaticResource标记扩展,实现引用数据字典中定义的静态资源.<br>3.ThemeResource标记扩展,表示系统内置的静态资源.<br>4.TemplateBinding标记扩展,实现在Xaml页面中对象模板绑定调用.<br>5.RelativeSource标记扩展,实现对特定数据源的绑定.</p>
<h3 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h3><p>&lt;元素对象 事件名称 =”事件处理”&gt;</p>
<h3 id="Xaml原理"><a href="#Xaml原理" class="headerlink" title="Xaml原理"></a>Xaml原理</h3><h2 id="动态加载xaml"><a href="#动态加载xaml" class="headerlink" title="动态加载xaml"></a>动态加载xaml</h2><p>动态加载Xaml是指在程序运行时通过解析xaml格式的字符串或文件来动态生成UI的效果.<br>使用XamlReader.Load方法动态加载XAML对XAML的字符串是有一定要求的,这些格式良好的XAML片段必须符合以下要求:<br>1.Xaml内容串必须定义单个根元素,使用XamlReader.Load创建的内容只能赋予一个Win10对象,它们是1对1关系.<br>2.内容字符串Xaml必须是格式良好的xml,并且必须是可分析的Xaml.<br>3.所需的根元素还必须指定某一默认的Xml命名空间值,这通常是命名空间xmlns=”<a target="_blank" rel="noopener" href="http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;">http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;</a><br>动态加载Xaml的示例:演示了使用XamlReader.Load方法加载Xaml字符串生成一个按钮和加载XAML文件生成一个矩形</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">   &lt;StackPanel x:Name=<span class="string">&quot;sp_Show&quot;</span>&gt;</span><br><span class="line">                &lt;Button x:Name=<span class="string">&quot;bt_addXaml&quot;</span> Content=<span class="string">&quot;加载Xaml按钮&quot;</span> Click=<span class="string">&quot;bt_addXaml_Click&quot;</span>/&gt;</span><br><span class="line">            &lt;/StackPanel&gt;</span><br><span class="line"></span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 加载Xaml按钮</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        /// &lt;param name=<span class="string">&quot;sender&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">        /// &lt;param name=<span class="string">&quot;e&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">        private void bt_addXaml_Click(object sender, RoutedEventArgs e)</span><br><span class="line">        &#123;</span><br><span class="line">            //注意Xaml字符串里面的命名空间<span class="string">&quot;http://schemas.microsoft.com/winfx/2006/presentation&quot;</span>不能少</span><br><span class="line">            string buttonXaml = $<span class="string">&quot;&lt;Button xmlns=&#x27;http://schemas.microsoft.com/winfx/2006/xaml/presentation&#x27; Content=\&quot;加载XAML文件\&quot; Foreground=\&quot;Red\&quot;/&gt;&quot;</span>;</span><br><span class="line">            Button btnRed=(Button)XamlReader.Load(buttonXaml);</span><br><span class="line">            btnRed.Click += BtnRed_Click;</span><br><span class="line">            sp_Show.Children.Add(btnRed);</span><br><span class="line">        &#125;</span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 已加载的XAML按钮关联的事件</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        /// &lt;param name=<span class="string">&quot;sender&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">        /// &lt;param name=<span class="string">&quot;e&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">        private async void BtnRed_Click(object sender, RoutedEventArgs e)</span><br><span class="line">        &#123;</span><br><span class="line">            string xaml = string.Empty;</span><br><span class="line">            //加载程序的Retangle.xaml文件</span><br><span class="line">            StorageFile fileRead=await Windows.ApplicationModel.Package.Current. InstalledLocation.GetFileAsync(<span class="string">&quot;Rectangle.xaml&quot;</span>);</span><br><span class="line">            //读取文件的内容</span><br><span class="line">            xaml=await FileIO.ReadTextAsync(fileRead);</span><br><span class="line">            //加载Rectangle</span><br><span class="line">            Rectangle rectangle=(Rectangle)XamlReader.Load(xaml);</span><br><span class="line">            sp_Show.Children.Add(rectangle);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">/// Rectangle.xaml</span><br><span class="line">&lt;Rectangle</span><br><span class="line">    xmlns=<span class="string">&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;</span></span><br><span class="line">    xmlns:x=<span class="string">&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;</span></span><br><span class="line">    Height=<span class="string">&quot;100&quot;</span> Width=<span class="string">&quot;200&quot;</span></span><br><span class="line">    &gt;</span><br><span class="line"></span><br><span class="line">    &lt;Rectangle.Fill&gt;</span><br><span class="line">        &lt;LinearGradientBrush&gt;</span><br><span class="line">            &lt;GradientStop Color=<span class="string">&quot;Black&quot;</span> Offset=<span class="string">&quot;0&quot;</span>/&gt;</span><br><span class="line">            &lt;GradientStop Color=<span class="string">&quot;Red&quot;</span> Offset=<span class="string">&quot;0.5&quot;</span>/&gt;</span><br><span class="line">            &lt;GradientStop Color=<span class="string">&quot;Black&quot;</span> Offset=<span class="string">&quot;1&quot;</span>/&gt;</span><br><span class="line">        &lt;/LinearGradientBrush&gt;</span><br><span class="line">    &lt;/Rectangle.Fill&gt;</span><br><span class="line">&lt;/Rectangle&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>添加Rectangle.xaml文件,需要手动设置Build Action属性为Content.表示作为内容资源来使用。</p>
<h4 id="XAML树结构"><a href="#XAML树结构" class="headerlink" title="XAML树结构"></a>XAML树结构</h4><h3 id="可视化树"><a href="#可视化树" class="headerlink" title="可视化树"></a>可视化树</h3><p>VisualTreeHelper类<br>VisualTreeHelper是一个静态帮助器类,它提供了一个在可视化对象级别编程的低级功能<br>提供了用来枚举可视化树成员的功能.可以在运行时对可视化树执行操作,并且可以遍历到模板部件,这是一种可用来检查模板组成情况的有用手段.此外,可以检查可能通过数据绑定填充的子集合，或者是应用程序代码可能无法全部了解运行时对象树的完整本质的子集合.若要检索父级,请调用GetParent方法.若要检索父级,请调用GetParent方法,若要检索可视化对象的子级或直接子代,请调用GetChild方法,此方法返回父级在指定索引处的子对象.<br>VisualTreeHelper4个常用静态方法<br>1.FindElementsInHostCoordinates 检索一组对象,这些对象位于某一对象的坐标空间的指定点或矩形内<br>2.GetChild 使用提供的索引,通过检查可视化树获取所提供对象的特定子对象<br>3.GetChildrenCount 返回在可视化树中在某一对象的子集合中存在的子级的数目.<br>4.GetParent 返回可视化树中某一对象的父对象.</p>
<h3 id="遍历可视化树"><a href="#遍历可视化树" class="headerlink" title="遍历可视化树"></a>遍历可视化树</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"> &lt;StackPanel x:Name=<span class="string">&quot;stackPanel&quot;</span> Margin=<span class="string">&quot;12,0,12,0&quot;</span>&gt;</span><br><span class="line">               &lt;TextBox&gt;</span><br><span class="line">               &lt;/TextBox&gt;</span><br><span class="line">               &lt;Button Content=<span class="string">&quot;遍历&quot;</span> Click=<span class="string">&quot;Button_Click1&quot;</span>&gt;</span><br><span class="line">               &lt;/Button&gt;</span><br><span class="line">           &lt;/StackPanel&gt;</span><br><span class="line"></span><br><span class="line">string visualTreeStr = <span class="string">&quot;&quot;</span>;</span><br><span class="line">       /// &lt;summary&gt;</span><br><span class="line">       /// 单击事件,弹出XAML页面里面StackPanel控件的可视化树的所有对象.</span><br><span class="line">       /// &lt;/summary&gt;</span><br><span class="line">       /// &lt;param name=<span class="string">&quot;sender&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">       /// &lt;param name=<span class="string">&quot;e&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">       private async void Button_Click1(object sender, RoutedEventArgs e)</span><br><span class="line">       &#123;</span><br><span class="line">           visualTreeStr = <span class="string">&quot;&quot;</span>;</span><br><span class="line">           GetChildType(stackPanel);</span><br><span class="line">           MessageDialog messageDialog = new MessageDialog(visualTreeStr);</span><br><span class="line">           await messageDialog.ShowAsync();</span><br><span class="line"></span><br><span class="line">       &#125;</span><br><span class="line">       /// &lt;summary&gt;</span><br><span class="line">       /// 获取某个XAML元素的可视化对象的递归方法</span><br><span class="line">       /// &lt;/summary&gt;</span><br><span class="line">       /// &lt;param name=<span class="string">&quot;stackPanel&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">       /// &lt;exception cref=<span class="string">&quot;NotImplementedException&quot;</span>&gt;&lt;/exception&gt;</span><br><span class="line">       private void GetChildType(DependencyObject reference)</span><br><span class="line">       &#123;</span><br><span class="line">           //获取子对象的个数</span><br><span class="line">           int count=VisualTreeHelper.GetChildrenCount(reference);</span><br><span class="line">           //如果子对象的个数不为0 继续递归</span><br><span class="line">           <span class="keyword">if</span> (count&gt;0)</span><br><span class="line">           &#123;</span><br><span class="line">               <span class="keyword">for</span> (int i = 0; i &lt;= VisualTreeHelper.GetChildrenCount(reference)-1; i++)</span><br><span class="line">               &#123;</span><br><span class="line">                   //获取当前节点的子对象.</span><br><span class="line">                   var child=VisualTreeHelper.GetChild(reference, i);</span><br><span class="line">                   //获取子对象的类型</span><br><span class="line">                   visualTreeStr += child.GetType().ToString() + count + <span class="string">&quot;&quot;</span>;</span><br><span class="line">                   //递归调用</span><br><span class="line">                   GetChildType(child);</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure>
<h3 id="框架和页面"><a href="#框架和页面" class="headerlink" title="框架和页面"></a>框架和页面</h3><p>Frame frmae=Window.current.Content as Frame;<br>this.Frame.Navigate(typeof(BlackPage1));</p>
<h3 id="页面导航"><a href="#页面导航" class="headerlink" title="页面导航"></a>页面导航</h3><p>应用的导航历史记录是一种后进先出的堆栈结构.该结构还称为后退堆栈,因为它所包含的一组页面在后退导航的堆栈结构中,最新的页面会被添加到顶部,此操作称为推送操作.删除堆栈顶部项的操作称为弹出操作.<br>还可以使用Frame类BackStack属性获取后退堆栈的项目,后退堆栈的项目为PageStackEntry类的对象.PackStackEntry类表示后退或前进导航历史记录中的一个条目.通过PageStackEntry类的Type属性和Parameter属性可以知道导航过来的Page对象的类型和参数.</p>
<h4 id="控件编程"><a href="#控件编程" class="headerlink" title="控件编程"></a>控件编程</h4><p>扁平化设计风格<br>系统控件基类有FrameworkElement类.Panel类,Control类.ContentControl类.和ItemControl类.所有的系统控件都派生自这5个基类.这5个基类自身之间也是派生的关系.<br>FrameworkElement类<br>Panel类 Control类<br>Control类<br>ContentControl类 ItemControl类<br>1.FrameworkElement类<br>2.Panel类<br>布局<br>3.Control类<br>表示用户界面元素的基类.这些元素使用ControlTemplate来定义其外观.ControlTemplate是控件的模板.由多个元素组成,并且可以直接由用户去定义和修改.<br>4.ContentControl类<br>Content属性<br>5.ItemsControl类.<br>ItemsControl类是派生自Control类,表示一个可用于呈现项的集合的控件.ItemsControl类本身也是一个列表控件类.或用于显示从指向某个对象的数据绑定中获取的列表.当然,ItemsControl类只是封装了列表的一些基本特性,ItemSource属性,指定为对某个对象集合的引用.</p>
<p>5各类别<br>1.面板控件 Pannel派生 Canvas,Grid,StackPanel,RelativePanel.<br>2.内容控件 Button,RadioButton,HyperlinkButton,CheckBox,ScrollViewer.<br><ContentPresenter Content="{TemplateBinding Content}" ContentTemplate="{TemplateBinding ContentTemplate}" ContentTemplateSelector="{TemplateBinding ContentTemplateSelector}"/><br>ContentPresenter元素用于ContentControl的Template的内部,不同的内容控件(如Button,CheckBox)会把ContentPresenter放置在控件内部不同的地方.内容控件通过给Content属性赋值就会把相关信息传递到了ContentPresenter里面进行呈现和显示.<br>3.列表控件<br>这类控件由ItemsControl类派生,经常用于显示数据的集合,包括ListBox,Pivot,ListView和GridView控件.<br>最主要的属性 Items表示生成控件内容的集合.ItemsPanel表示定义了控制项的布局的面板.ItemSource表示生成ItemsControl的内容的集合.ItemTemplate表示用于显示每个项的DataTemplate.<br>4.普通控件<br>直接派生Control类，包含TextBox,PasswordBox,ProgressBar,ScrollBar,Slider等控件.这类控件的共性特点是可以自定义或者修改其控件的数据模板,也就是说控件内部的呈现元素可以通过模板去修改.<br>5.其他控件<br>FrameworkElement TextBlock. Border.Image,MediaElement.Popup.<br>4.2 Button<br>1.Windows.UI.Controls.Button.<br>按钮控件三个状态. 分别是按下状态(Press),悬停状态(Hover),释放状态(Release) 通过设置按钮控件的ClickMode属性来控制按钮在哪种状态下才执行Clcik事件.<br>2.文字的相关属性<br>Win10内置的SymbolIcon图形作为Content属性.在Visual Studio里面打开按钮属性窗口.<br>选择Symbol的图形就可以看到一系列扁平化的图标图形.<br>TextBox<br>如需支持Enter换行 需要把AcceptsReturn设为true.<br>通过InputScope属性来设置在控件输入信息所提供的键盘类型,比如TextBox只是要求用户输入手机号,<br>设置InputScope=”TelephoneNumber”来制定电话号码的输入键盘.可以通过枚举值InputScopeNameValue来看到所有的键盘类型,包括EmailSmtpAddress,Url,Number等.<br>textBox1.InputScope=new InputScope();<br>textBox1.InputScope.Names.Add(new InputScopeName(){NameValue=InputScopeNameValue.TelephoneLocalNumber});<br>3.控件头<br>Header 请输入用户名<br>4.5边框 Border<br>边框是指在另一个对象周围绘制边框,背景或同时绘制二者的控件.<br>4.6 超链接<br>&lt;HyperlinkButton …/&gt; 或 <HyperlinkButton>内容</HyperlinkButton>                <HyperlinkButton Content="Google" NavigateUri="http://goole.com"/><br>4.7 单选按钮<br>4.9 ProgressBar<br>重复模式 非重复模式 IsIndeterminate true 重复 默认</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">&lt;TextBlock Text=<span class="string">&quot;选择ProgressBar的类型:&quot;</span>/&gt;</span><br><span class="line">                &lt;RadioButton Content=<span class="string">&quot;Determinate类型&quot;</span> Height=<span class="string">&quot;71&quot;</span> Name=<span class="string">&quot;radioButton1&quot;</span> GroupName=<span class="string">&quot;Type&quot;</span>/&gt;</span><br><span class="line">                &lt;RadioButton Content=<span class="string">&quot;Indeterminate类型&quot;</span> Height=<span class="string">&quot;71&quot;</span> Name=<span class="string">&quot;radioButton2&quot;</span> GroupName=<span class="string">&quot;Type&quot;</span> IsChecked=<span class="string">&quot;True&quot;</span>/&gt;</span><br><span class="line">                &lt;Button Content=<span class="string">&quot;启动ProgressBar&quot;</span> Height=<span class="string">&quot;72&quot;</span> x:Name=<span class="string">&quot;begin&quot;</span> Click=<span class="string">&quot;begin_Click&quot;</span>/&gt;</span><br><span class="line">                &lt;Button Content=<span class="string">&quot;取消ProgressBar&quot;</span> Height=<span class="string">&quot;72&quot;</span> x:Name=<span class="string">&quot;cancel&quot;</span> Click=<span class="string">&quot;cancel_Click&quot;</span>/&gt;</span><br><span class="line">                &lt;ProgressBar x:Name=<span class="string">&quot;progressBar1&quot;</span> IsIndeterminate=<span class="string">&quot;True&quot;</span>/&gt; </span><br><span class="line"></span><br><span class="line">  private void cancel_Click(object sender, RoutedEventArgs e)</span><br><span class="line">        &#123;</span><br><span class="line">            //隐藏进度条</span><br><span class="line">            progressBar1.Visibility= Visibility.Collapsed;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        private void begin_Click(object sender, RoutedEventArgs e)</span><br><span class="line">        &#123;</span><br><span class="line">            //设置进度条为可见</span><br><span class="line">            progressBar1.Visibility = Visibility.Visible;</span><br><span class="line">            <span class="keyword">if</span> (radioButton1.IsChecked==<span class="literal">true</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                //设置进度条为不可重复模式</span><br><span class="line">                progressBar1.IsIndeterminate = <span class="literal">false</span>;</span><br><span class="line">                //使用一个定时器,每一秒钟触发以下进度的改变</span><br><span class="line">                DispatcherTimer timer= new DispatcherTimer();</span><br><span class="line">                timer.Interval = TimeSpan.FromSeconds(1);</span><br><span class="line">                timer.Tick += Timer_Tick;</span><br><span class="line">                timer.Start();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                //设置进度条的值为0</span><br><span class="line">                progressBar1.Value = 0;</span><br><span class="line">                //设置进度条为重复模式</span><br><span class="line">                progressBar1.IsIndeterminate=<span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        //定时器的定时触发的事件处理</span><br><span class="line">        private async void Timer_Tick(object sender, object e)</span><br><span class="line">        &#123;</span><br><span class="line">            //如果进度没有到达100则在原来的进度基础上再增加10</span><br><span class="line">            <span class="keyword">if</span> (progressBar1.Value&lt;100)</span><br><span class="line">            &#123;</span><br><span class="line">                progressBar1.Value += 10;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                </span><br><span class="line">                //进度完成</span><br><span class="line">                (sender as DispatcherTimer).Tick-= Timer_Tick;</span><br><span class="line">                //停止定时器的运行</span><br><span class="line">                (sender as DispatcherTimer).Stop();</span><br><span class="line">                await new MessageDialog(<span class="string">&quot;进度完成&quot;</span>).ShowAsync();</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
<p>4.10 滚动视图(ScrollViewer)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line">&lt;ScrollViewer Height=<span class="string">&quot;200&quot;</span> Width=<span class="string">&quot;200&quot;</span> VerticalScrollBarVisibility=<span class="string">&quot;Auto&quot;</span> HorizontalScrollBarVisibility=<span class="string">&quot;Auto&quot;</span>&gt;</span><br><span class="line">                   &lt;ScrollViewer.Content&gt;</span><br><span class="line">                       &lt;StackPanel&gt;</span><br><span class="line">                           &lt;Image Source=<span class="string">&quot;/Assets/StoreLogo.png&quot;</span>/&gt;</span><br><span class="line">                       &lt;/StackPanel&gt;</span><br><span class="line">                   &lt;/ScrollViewer.Content&gt;</span><br><span class="line">               &lt;/ScrollViewer&gt;</span><br><span class="line"></span><br><span class="line">               &lt;StackPanel&gt;</span><br><span class="line">                   &lt;ScrollViewer Name=<span class="string">&quot;scrollViewer1&quot;</span> VerticalScrollBarVisibility=<span class="string">&quot;Hidden&quot;</span> Height=<span class="string">&quot;300&quot;</span>&gt;</span><br><span class="line">                       &lt;StackPanel Name=<span class="string">&quot;stkpnImage&quot;</span>/&gt;</span><br><span class="line">                   &lt;/ScrollViewer&gt;</span><br><span class="line">                   &lt;Button Content=<span class="string">&quot;往上&quot;</span> FontSize=<span class="string">&quot;30&quot;</span> Click=<span class="string">&quot;btnUp_Click&quot;</span>/&gt;</span><br><span class="line">                   &lt;Button Content=<span class="string">&quot;往下&quot;</span> FontSize=<span class="string">&quot;30&quot;</span> Click=<span class="string">&quot;btnDown_Click&quot;</span>/&gt;</span><br><span class="line">                   &lt;Button Content=<span class="string">&quot;停止&quot;</span> FontSize=<span class="string">&quot;30&quot;</span></span><br><span class="line">                           Click=<span class="string">&quot;stop_Click&quot;</span>/&gt;</span><br><span class="line">                      //添加图片到ScrollViewer里面的StackPanel中.</span><br><span class="line">           <span class="keyword">for</span> (int i = 0; i &lt;=30; i++)</span><br><span class="line">           &#123;</span><br><span class="line">               Image imgItem = new Image();</span><br><span class="line">               imgItem.Width = 200;</span><br><span class="line">               imgItem.Height = 200;</span><br><span class="line">               //4张图片循环添加到StackPanel的子节点上</span><br><span class="line">               <span class="keyword">if</span> (i % 4 == 0)</span><br><span class="line">               &#123;</span><br><span class="line">                   imgItem.Source = (new BitmapImage(new Uri(<span class="string">&quot;a.jpg&quot;</span>, UriKind.RelativeOrAbsolute)));</span><br><span class="line"></span><br><span class="line">               &#125;</span><br><span class="line">               <span class="keyword">else</span> <span class="keyword">if</span> (i % 4 == 1)</span><br><span class="line">               &#123;</span><br><span class="line">                   imgItem.Source = (new BitmapImage(new Uri(<span class="string">&quot;b.jpg&quot;</span>, UriKind.RelativeOrAbsolute)));</span><br><span class="line">               &#125;</span><br><span class="line">               <span class="keyword">else</span> <span class="keyword">if</span> (i % 4 == 2)</span><br><span class="line">               &#123;</span><br><span class="line">                   imgItem.Source = (new BitmapImage(new Uri(<span class="string">&quot;c.jpg&quot;</span>, UriKind.RelativeOrAbsolute)));</span><br><span class="line">               &#125;</span><br><span class="line">               <span class="keyword">else</span> <span class="keyword">if</span> (i % 4 == 3) &#123;</span><br><span class="line">                   imgItem.Source = (new BitmapImage(new Uri(<span class="string">&quot;d.jpg&quot;</span>, UriKind.RelativeOrAbsolute)));</span><br><span class="line">               &#125;;</span><br><span class="line">               this.stkpnImage.Children.Add(imgItem);</span><br><span class="line">           &#125;</span><br><span class="line">           //初始化tmrDown定时触发器</span><br><span class="line">           tmrDowm = new DispatcherTimer();</span><br><span class="line">           //每500毫秒跑一次</span><br><span class="line">           tmrDowm.Interval=new TimeSpan(500);</span><br><span class="line">           //加入每次tick的事件</span><br><span class="line">           tmrDowm.Tick += TmrDowm_Tick;</span><br><span class="line">           //初始化tmrUp定时触发器</span><br><span class="line">           tmrUp=new DispatcherTimer();</span><br><span class="line">           tmrUp.Interval=new TimeSpan(500);</span><br><span class="line">           tmrUp.Tick += TmrUp_Tick;</span><br><span class="line"></span><br><span class="line">private DispatcherTimer tmrDowm;</span><br><span class="line">       //往上滚动的定时触发器</span><br><span class="line">       private DispatcherTimer tmrUp;</span><br><span class="line">       //往上按钮事件</span><br><span class="line">       private void btnUp_Click(object sender, RoutedEventArgs e)</span><br><span class="line">       &#123;</span><br><span class="line">           tmrDowm.Stop();</span><br><span class="line">           tmrUp.Start();</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       private void TmrUp_Tick(object sender, object e)</span><br><span class="line">       &#123;</span><br><span class="line">           //将VerticalOffset-10将出现图片将往上滚动的效果</span><br><span class="line">           scrollViewer1.ChangeView(0,scrollViewer1.VerticalOffset-10,0);</span><br><span class="line">       &#125;</span><br><span class="line">       private void TmrDowm_Tick(object sender, object e)</span><br><span class="line">       &#123;</span><br><span class="line">           //先停止往上的定时触发器</span><br><span class="line">           tmrUp.Stop();</span><br><span class="line">           //将VerticalOffset+10将出现图片往下滚动的效果</span><br><span class="line">           scrollViewer1.ChangeView(0, scrollViewer1.VerticalOffset + 10, 0);</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       private void btnDown_Click(object sender, RoutedEventArgs e)</span><br><span class="line">       &#123;</span><br><span class="line">           tmrUp.Stop();</span><br><span class="line">           tmrDowm.Start();</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       private void stop_Click(object sender, RoutedEventArgs e)</span><br><span class="line">       &#123;</span><br><span class="line">           tmrDowm.Stop();</span><br><span class="line">           tmrUp.Stop();</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure>
<p>4.11.Slider</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"> &lt;StackPanel Grid.Row=<span class="string">&quot;1&quot;</span>&gt;</span><br><span class="line">            &lt;Grid Name=<span class="string">&quot;controlGrid&quot;</span>&gt;</span><br><span class="line">                &lt;Grid.RowDefinitions&gt;</span><br><span class="line">                    &lt;RowDefinition Height=<span class="string">&quot;*&quot;</span>/&gt;</span><br><span class="line">                    &lt;RowDefinition Height=<span class="string">&quot;*&quot;</span>/&gt;</span><br><span class="line">                    &lt;RowDefinition Height=<span class="string">&quot;*&quot;</span>/&gt;</span><br><span class="line">                &lt;/Grid.RowDefinitions&gt;</span><br><span class="line">                &lt;Grid.ColumnDefinitions&gt;</span><br><span class="line">                    &lt;ColumnDefinition Width=<span class="string">&quot;*&quot;</span>/&gt;</span><br><span class="line">                    &lt;ColumnDefinition Width=<span class="string">&quot;*&quot;</span>/&gt;</span><br><span class="line">                    &lt;ColumnDefinition Width=<span class="string">&quot;*&quot;</span>/&gt;</span><br><span class="line">                &lt;/Grid.ColumnDefinitions&gt;</span><br><span class="line">                &lt;!--设置红色--&gt;</span><br><span class="line">                &lt;TextBlock Text=<span class="string">&quot;红色&quot;</span> Foreground=<span class="string">&quot;Red&quot;</span> FontSize=<span class="string">&quot;20&quot;</span>/&gt;</span><br><span class="line">                &lt;Slider x:Name=<span class="string">&quot;redSlider&quot;</span> Grid.Row=<span class="string">&quot;1&quot;</span> Foreground=<span class="string">&quot;Red&quot;</span> Minimum=<span class="string">&quot;0&quot;</span> Maximum=<span class="string">&quot;255&quot;</span></span><br><span class="line">                        ValueChanged=<span class="string">&quot;redSlider_ValueChanged&quot;</span>/&gt;</span><br><span class="line">                &lt;TextBlock x:Name=<span class="string">&quot;redText&quot;</span> Grid.Row=<span class="string">&quot;2&quot;</span> Text=<span class="string">&quot;0&quot;</span> Foreground=<span class="string">&quot;Red&quot;</span> FontSize=<span class="string">&quot;20&quot;</span>/&gt;</span><br><span class="line">                &lt;!--设置绿色--&gt;</span><br><span class="line">                &lt;TextBlock Grid.Column=<span class="string">&quot;1&quot;</span> Text=<span class="string">&quot;绿色&quot;</span> Foreground=<span class="string">&quot;Green&quot;</span> FontSize=<span class="string">&quot;20&quot;</span>/&gt;</span><br><span class="line">                &lt;Slider x:Name=<span class="string">&quot;greenSlider&quot;</span> Foreground=<span class="string">&quot;Green&quot;</span> FontSize=<span class="string">&quot;20&quot;</span> Minimum=<span class="string">&quot;0&quot;</span> Maximum=<span class="string">&quot;255&quot;</span> ValueChanged=<span class="string">&quot;redSlider_ValueChanged&quot;</span> Grid.Column=<span class="string">&quot;1&quot;</span> Grid.Row=<span class="string">&quot;1&quot;</span>&gt;&lt;/Slider&gt;</span><br><span class="line">                &lt;TextBlock x:Name=<span class="string">&quot;greenText&quot;</span> Grid.Column=<span class="string">&quot;1&quot;</span> Grid.Row=<span class="string">&quot;2&quot;</span> Foreground=<span class="string">&quot;Green&quot;</span> FontSize=<span class="string">&quot;20&quot;</span>/&gt;</span><br><span class="line">                &lt;!--设置蓝色--&gt;</span><br><span class="line">                &lt;TextBlock Grid.Column=<span class="string">&quot;2&quot;</span> Grid.Row=<span class="string">&quot;0&quot;</span> Text=<span class="string">&quot;蓝色&quot;</span> Foreground=<span class="string">&quot;Blue&quot;</span> FontSize=<span class="string">&quot;20&quot;</span>/&gt;</span><br><span class="line">                &lt;Slider x:Name=<span class="string">&quot;blueSlider&quot;</span> Grid.Column=<span class="string">&quot;2&quot;</span> Grid.Row=<span class="string">&quot;1&quot;</span> Foreground=<span class="string">&quot;Blue&quot;</span> Minimum=<span class="string">&quot;0&quot;</span> Maximum=<span class="string">&quot;255&quot;</span> ValueChanged=<span class="string">&quot;redSlider_ValueChanged&quot;</span>/&gt;</span><br><span class="line">                &lt;TextBlock x:Name=<span class="string">&quot;blueText&quot;</span> Grid.Column=<span class="string">&quot;2&quot;</span> Grid.Row=<span class="string">&quot;2&quot;</span> Text=<span class="string">&quot;0&quot;</span> Foreground=<span class="string">&quot;Blue&quot;</span> FontSize=<span class="string">&quot;20&quot;</span>/&gt;</span><br><span class="line">                </span><br><span class="line">                &lt;!--设置--&gt;</span><br><span class="line">            &lt;/Grid&gt;</span><br><span class="line">            &lt;Ellipse Height=<span class="string">&quot;100&quot;</span> x:Name=<span class="string">&quot;ellipse1&quot;</span> Stroke=<span class="string">&quot;Black&quot;</span> StrokeThickness=<span class="string">&quot;1&quot;</span> Width=<span class="string">&quot;224&quot;</span>/&gt;</span><br><span class="line">            &lt;TextBlock x:Name=<span class="string">&quot;textBlockColor&quot;</span> Text=<span class="string">&quot;颜色&quot;</span> FontSize=<span class="string">&quot;26&quot;</span>/&gt;</span><br><span class="line">            </span><br><span class="line">        &lt;/StackPanel&gt;</span><br><span class="line">//三个Slider控件的初始值</span><br><span class="line">            redSlider.Value = 128;</span><br><span class="line">            greenSlider.Value= 128;</span><br><span class="line">            blueSlider.Value= 128;</span><br><span class="line">            <span class="keyword">if</span> (App.IsHardwareButtonsAPIPresent)</span><br><span class="line">            &#123;</span><br><span class="line">                backButton.Visibility = Visibility.Collapsed;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                backButton.Visibility = Visibility.Visible;</span><br><span class="line">            &#125;</span><br><span class="line"> private void redSlider_ValueChanged(object sender, RangeBaseValueChangedEventArgs e)</span><br><span class="line">        &#123;</span><br><span class="line">            //</span><br><span class="line">            Color clr = Color.FromArgb(255,(byte)redSlider.Value,(byte)greenSlider.Value,(byte)blueSlider.Value);</span><br><span class="line">            //将三种颜色的混合色设置为ellipse1的填充颜色</span><br><span class="line">            ellipse1.Fill = new SolidColorBrush(clr);</span><br><span class="line">            textBlockColor.Text = clr.ToString();</span><br><span class="line">            redText.Text = clr.R.ToString(<span class="string">&quot;X2&quot;</span>);</span><br><span class="line">            greenText.Text = clr.G.ToString(<span class="string">&quot;X2&quot;</span>);</span><br><span class="line">            blueText.Text = clr.B.ToString(<span class="string">&quot;X2&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>4.12 时间选择器和日期选择器</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"> &lt;StackPanel Grid.Row=<span class="string">&quot;2&quot;</span>&gt;</span><br><span class="line">            &lt;TimePicker x:Name=<span class="string">&quot;time&quot;</span> Header=<span class="string">&quot;请选择时间:&quot;</span> TimeChanged=<span class="string">&quot;time_TimeChanged&quot;</span>/&gt;</span><br><span class="line">            &lt;DatePicker x:Name=<span class="string">&quot;date&quot;</span> Header=<span class="string">&quot;请选择日期:&quot;</span></span><br><span class="line">                        DateChanged=<span class="string">&quot;date_DateChanged&quot;</span>/&gt;</span><br><span class="line">            &lt;TextBlock x:Name=<span class="string">&quot;info&quot;</span> FontSize=<span class="string">&quot;20&quot;</span> TextWrapping=<span class="string">&quot;Wrap&quot;</span>/&gt;</span><br><span class="line">        &lt;/StackPanel&gt;</span><br><span class="line">  ///DatePicker TimePicker</span><br><span class="line">            //控件默认的时间和日期是设备当前的时间和日期</span><br><span class="line">            info.Text = $<span class="string">&quot;时间:&#123;time.Time.ToString()&#125; 日期:&#123;date.Date.ToString()&#125;&quot;</span>;</span><br><span class="line">private void time_TimeChanged(object sender, TimePickerValueChangedEventArgs e)</span><br><span class="line">        &#123;</span><br><span class="line">            info.Text = $<span class="string">&quot;时间改变为:&#123;time.Time&#125; 日期:&#123;date.Date&#125;&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// </span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        /// &lt;param name=<span class="string">&quot;sender&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">        /// &lt;param name=<span class="string">&quot;e&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">        private void date_DateChanged(object sender, DatePickerValueChangedEventArgs e)</span><br><span class="line">        &#123;</span><br><span class="line">            info.Text = $<span class="string">&quot;时间:&#123;time.Time&#125; 日期改变为:&#123;date.Date&#125;&quot;</span>;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
<p>4.13 枢轴控件(Pivot)<br>枢轴控件Pivot提供了一种快捷的方式来管理应用中的视图或页面,通过一种类似页签的方式来将视图分类,这样就可以在一个界面上通过切换页签来浏览多个数据集,或者切换应用视图.枢轴控件水平放置独立的视图,同时处理左侧和右侧的导航,在触摸屏上可以通过划动或者平移手势来切换枢轴控件中的视图,同时处理左侧和右侧的导航,在触摸屏上通过划动或平移手势来切换枢轴控件中的视图.语法如下</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;Pivot&gt;</span><br><span class="line">	&lt;PivotItem&gt;</span><br><span class="line">	&lt;!--UI内容--&gt;</span><br><span class="line">	&lt;/PivotItem&gt;</span><br><span class="line">	&lt;PivotItem&gt;</span><br><span class="line">	&lt;!--UI内容--&gt;</span><br><span class="line">	&lt;/PivotItem&gt;</span><br><span class="line">&lt;/Pivot&gt;</span><br></pre></td></tr></table></figure>
<p>Pivot分两部分 标题 内容<br>1.标题 通过Title设置 PivotItem Header 富文本信息<br>2.内容 SelectionChanged SelectedIndex SelectedItem 可以获取到当前选中的页签索引和对象<br>4.14 全景视图控件(Hub)<br>全景视图控件Hub是Win10中独特的视图控件,给用户提供一种纵向拉伸延长的效果,提供了独特显示控件,数据，服务的方式.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;Hub&gt;</span><br><span class="line">&lt;HubSection&gt;</span><br><span class="line">	&lt;HubSection.ContentTemplate&gt;</span><br><span class="line">		&lt;DateTemplate&gt;</span><br><span class="line">			&lt;!--UI内容--&gt;</span><br><span class="line">		&lt;/DateTemplate&gt;</span><br><span class="line">	&lt;/HubSection.ContentTemplate&gt;</span><br><span class="line">&lt;/hubSection&gt;</span><br><span class="line">&lt;HubSection Header=<span class="string">&quot;second item&quot;</span>&gt;</span><br><span class="line">	&lt;HubSection.ContentTemplate&gt;</span><br><span class="line">		&lt;DataTemplate&gt;</span><br><span class="line">			&lt;!--UI内容--&gt;</span><br><span class="line">		&lt;/DataTemplate&gt;</span><br><span class="line">	&lt;/HubSection.ContentTemplate&gt;</span><br><span class="line">&lt;/Hub&gt;</span><br></pre></td></tr></table></figure>
<p>Hub控件和Pivot控件是同一类型的控件,都是使用页签的方式来组织页面的内容,不过这两个控件的交互效果却不太一样<br>在使用Hub控件时通常会关注Hub控件的三个部分,背景,全景背景,全景区域.<br>背景是Hub控件包装下的整个应用程序的背景,位于全景应用的最底层,这个背景会铺满整个设备屏幕.<br>背景通常是一张全景图,他可能是应用程序最直观的部分,也可以不设置.全景标题与全景区域跟Pivot控件的作用类似.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--在大标题上添加程序的图标--&gt;            </span><br><span class="line">                  &lt;Hub&gt;</span><br><span class="line">                      &lt;Hub.Header&gt;</span><br><span class="line">                          &lt;StackPanel Orientation=<span class="string">&quot;Horizontal&quot;</span>&gt;</span><br><span class="line">                              &lt;Image Source=<span class="string">&quot;Assets/StoreLogo.scale-100.png&quot;</span> Height=<span class="string">&quot;100&quot;</span>/&gt;</span><br><span class="line">                              &lt;TextBlock Text=<span class="string">&quot;My App&quot;</span>/&gt;</span><br><span class="line">                          &lt;/StackPanel&gt;</span><br><span class="line">                      &lt;/Hub.Header&gt;</span><br><span class="line">                      &lt;HubSection Header=<span class="string">&quot;first item&quot;</span>&gt;</span><br><span class="line">                          &lt;HubSection.ContentTemplate&gt;</span><br><span class="line">                              &lt;DataTemplate&gt;</span><br><span class="line">                                  &lt;StackPanel&gt;</span><br><span class="line">                                      &lt;TextBlock Text=<span class="string">&quot;第一个Item&quot;</span> FontSize=<span class="string">&quot;50&quot;</span>/&gt;</span><br><span class="line">                                      &lt;TextBlock Text=<span class="string">&quot;这是第一个item&quot;</span> FontSize=<span class="string">&quot;50&quot;</span>/&gt;</span><br><span class="line">                                  &lt;/StackPanel&gt;</span><br><span class="line">                              &lt;/DataTemplate&gt;</span><br><span class="line">                          &lt;/HubSection.ContentTemplate&gt;</span><br><span class="line">                      &lt;/HubSection&gt;</span><br><span class="line"></span><br><span class="line">                      &lt;HubSection Header=<span class="string">&quot;second item&quot;</span>&gt;</span><br><span class="line">                          &lt;HubSection.ContentTemplate&gt;</span><br><span class="line">                              &lt;DataTemplate&gt;</span><br><span class="line">                                  &lt;StackPanel&gt;</span><br><span class="line">                                      &lt;TextBlock Text=<span class="string">&quot;第二个Item&quot;</span> FontSize=<span class="string">&quot;50&quot;</span>/&gt;</span><br><span class="line">                                      &lt;TextBlock Text=<span class="string">&quot;这是第二个item&quot;</span> FontSize=<span class="string">&quot;50&quot;</span>/&gt;</span><br><span class="line">                                  &lt;/StackPanel&gt;</span><br><span class="line">                              &lt;/DataTemplate&gt;</span><br><span class="line">                          &lt;/HubSection.ContentTemplate&gt;</span><br><span class="line">                      &lt;/HubSection&gt;</span><br><span class="line"></span><br><span class="line">                      &lt;HubSection Header=<span class="string">&quot;Third item&quot;</span>&gt;</span><br><span class="line">                          &lt;HubSection.ContentTemplate&gt;</span><br><span class="line">                              &lt;DataTemplate&gt;</span><br><span class="line">                                  &lt;StackPanel&gt;</span><br><span class="line">                                      &lt;TextBlock Text=<span class="string">&quot;第三个Item&quot;</span> FontSize=<span class="string">&quot;50&quot;</span>/&gt;</span><br><span class="line">                                      &lt;TextBlock Text=<span class="string">&quot;这是第三个item&quot;</span> FontSize=<span class="string">&quot;50&quot;</span>/&gt;</span><br><span class="line">                                  &lt;/StackPanel&gt;</span><br><span class="line">                              &lt;/DataTemplate&gt;</span><br><span class="line">                          &lt;/HubSection.ContentTemplate&gt;</span><br><span class="line">                      &lt;/HubSection&gt;</span><br><span class="line">                  &lt;/Hub&gt;</span><br></pre></td></tr></table></figure>
<p>4.15 浮出控件(Flyout)<br>浮出控件(Flyout)是一个轻型的辅助型的弹出控件,通常作为提示或者要求用户进行相关的交互来使用.<br>Flyout控件与Win10里面的弹出框MessageDialog有很大区别.Flyout控件是一个辅助控件,需要与其他控件组合起来才能使用.其次,取消的规则不一样,Flyout控件收集用户输入,显示与某个项目相关的更多信息或者要求用户确认某个操作,只有当为了相应用户点击时才应显示Flyout控件,也就是说Flyout控件并不是直接显示出来,而是需要用户操作才能呈现出来,当用户在弹出窗口外部点击时,Flyout控件就会消失,这也是Flyout控件默认的关闭规则.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;Button&gt;</span><br><span class="line">	&lt;Button.Flyout&gt;</span><br><span class="line">		&lt;Flyout&gt;</span><br><span class="line">			&lt;!--浮出的UI内容--&gt;</span><br><span class="line">		&lt;/Flyout&gt;</span><br><span class="line">	&lt;/Button.Flyout&gt;</span><br><span class="line">&lt;/Button&gt;</span><br></pre></td></tr></table></figure>
<p>非Button控件也一样可以使用Flyout控件,也可以使用FlyoutBase.AttachedFlyout附加属性,将Flyout控件附加到任何FrameworkElement对象.因为Flyout控件必须要响应相应某个用户的操作,Button控件默认关联到了Clcik事件,如果用FlyoutBase.AttachedFlyout附加属性来添加Flyout控件就必须相应FrameworkElement控件上的交互,并在代码中打开Flyout控件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;TextBlock text=<span class="string">&quot;Tapped事件触发Flyout&quot;</span> Tapped=<span class="string">&quot;Textblock_Tapped&quot;</span>&gt;</span><br><span class="line">&lt;FlyoutBase.AttachedFlyout&gt;</span><br><span class="line">&lt;Flyout&gt;</span><br><span class="line">&lt;!--浮出的UI内容--&gt;</span><br><span class="line">&lt;/Flyout&gt;</span><br><span class="line">&lt;/FlyoutBase.AttachedFlyout&gt;</span><br><span class="line">&lt;/TextBlock&gt;</span><br><span class="line">private void TextBlock_Tapped(object sender,TappedRoutedEventArgs e)&#123;</span><br><span class="line">	FrameworkElement element=sender as FrameworkElement;</span><br><span class="line">	<span class="keyword">if</span>(element!=null)&#123;</span><br><span class="line">	FlyoutBase.ShowAttachedFlyout(element);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Flyout有两种创建方式,一种方式 Button Flyout 添加 2.通过FlyoutBase.AttachedFlyout附加属性给任何FrameworkElement对象来添加,在Win10上Flyout控件一共有6种不同的类型,Flyout,DatePickerFlyout,TimePickerFlyout,PickerFlyout,ListPickerFlyout和MenuFlyout.<br>1.Flyout<br>Flyout类型表示处理自定义浮出窗口,Flyout控件经常使用的事件是Closed,Opened和Opening,分别表示在关闭,已打开,正在打开,在实际种在Closed事件获取用户操作结果.这三种事件也是其他共性<br>2.DatePickerFlyout TimerPickerFlyout<br>3,PickerFlyout ListPickerFlyout<br>PickerFlyout表示选择的浮出窗口,可以在页面底下添加确认的菜单栏用于用户确认;<br>ListPickerFlyout表示列表形式展示的浮出窗口,需要通过集合数据绑定来呈现列表的选择.<br>与其他区别是提供了选中确认的时间,分别是PickerFlyout对应的Confirmed事件和ListPickerFlyout对应的ItemsPicked事件.ListPickerFlyout需要通过数据绑定来实现选择的列表<br>4.MenuFlyout<br>MenuFlyout表示上下文菜单的选择浮出窗口,一个MenuFlyout会包含若干个MenuFlyoutItem.<br>每个MenuFlyoutItem表示一个选项,用户可以单击,同时通过MenuFlyoutItem的Click事件来处理单击请求.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"> &lt;PivotItem Header=<span class="string">&quot;Flyout&quot;</span>&gt;</span><br><span class="line">                &lt;StackPanel&gt;</span><br><span class="line">                    &lt;Button Content=<span class="string">&quot;Show Flyout&quot;</span>&gt;</span><br><span class="line">                        &lt;Button.Flyout&gt;</span><br><span class="line">                            &lt;Flyout&gt;</span><br><span class="line">                                &lt;StackPanel&gt;</span><br><span class="line">                                    &lt;TextBox PlaceholderText=<span class="string">&quot;Please Enter Name.&quot;</span>/&gt;</span><br><span class="line">                                    &lt;Button HorizontalAlignment=<span class="string">&quot;Right&quot;</span> Content=<span class="string">&quot;确定&quot;</span>/&gt;</span><br><span class="line">                                &lt;/StackPanel&gt;</span><br><span class="line">                            &lt;/Flyout&gt;</span><br><span class="line">                        &lt;/Button.Flyout&gt;</span><br><span class="line">                    &lt;/Button&gt;</span><br><span class="line">                    &lt;!--浮出上下文菜单,点击菜单后改变当前按钮上的文本内容--&gt;</span><br><span class="line">                    &lt;Button x:Name=<span class="string">&quot;menuFlyoutButton&quot;</span> Content=<span class="string">&quot;Show MenuFlyout&quot;</span>&gt;</span><br><span class="line">                        &lt;Button.Flyout&gt;</span><br><span class="line">                            &lt;MenuFlyout&gt;</span><br><span class="line">                                &lt;MenuFlyoutItem Text=<span class="string">&quot;Option 1&quot;</span> Click=<span class="string">&quot;MenuFlyoutItem_Click&quot;</span>/&gt;</span><br><span class="line">                                &lt;MenuFlyoutItem Text=<span class="string">&quot;Option 2&quot;</span></span><br><span class="line">                                                Click=<span class="string">&quot;MenuFlyoutItem_Click&quot;</span>/&gt;</span><br><span class="line">                                &lt;MenuFlyoutItem Text=<span class="string">&quot;Option 3&quot;</span> Click=<span class="string">&quot;MenuFlyoutItem_Click&quot;</span>/&gt;</span><br><span class="line">                            &lt;/MenuFlyout&gt;</span><br><span class="line">                        &lt;/Button.Flyout&gt;</span><br><span class="line">                    &lt;/Button&gt;</span><br><span class="line">                    </span><br><span class="line">                    &lt;!--浮出选择日期弹窗,点击确认后触发DatePicked事件,然后可以获取选中的日期--&gt;</span><br><span class="line">                    &lt;Button Content=<span class="string">&quot;Show DatePicker&quot;</span>&gt;</span><br><span class="line">                        &lt;Button.Flyout&gt;</span><br><span class="line">                            &lt;DatePickerFlyout DatePicked=<span class="string">&quot;DatePickerFlyout_DatePicked&quot;</span>/&gt;</span><br><span class="line">                        &lt;/Button.Flyout&gt;</span><br><span class="line">                    &lt;/Button&gt;</span><br><span class="line">                    &lt;!--浮出选择时间弹窗,点击确认后触发DatePicked事件,然后可以获取选中的时间--&gt;</span><br><span class="line">                    &lt;Button Content=<span class="string">&quot;Show TimePicker&quot;</span>&gt;</span><br><span class="line">                        &lt;Button.Flyout&gt;</span><br><span class="line">                            &lt;TimePickerFlyout TimePicked=<span class="string">&quot;TimePickerFlyout_TimePicked&quot;</span>/&gt;</span><br><span class="line">                        &lt;/Button.Flyout&gt;</span><br><span class="line">                    &lt;/Button&gt;</span><br><span class="line">                    &lt;!--浮出选择弹窗,显示底下的确认取消菜单栏并且处理其确认事件Confirmed--&gt;</span><br><span class="line">                    &lt;Button Content=<span class="string">&quot;Show Picker&quot;</span>&gt;</span><br><span class="line">                        &lt;Button.Flyout&gt;</span><br><span class="line">                            &lt;PickerFlyout Confirmed=<span class="string">&quot;PickerFlyout_Confirmed&quot;</span></span><br><span class="line">                                          ConfirmationButtonsVisible=<span class="string">&quot;True&quot;</span>&gt;</span><br><span class="line">                                &lt;TextBlock Text=<span class="string">&quot;你确定吗？？？？？&quot;</span> FontSize=<span class="string">&quot;30&quot;</span> Margin=<span class="string">&quot;0 100 0 0&quot;</span>/&gt;</span><br><span class="line">                            &lt;/PickerFlyout&gt;</span><br><span class="line">                        &lt;/Button.Flyout&gt;</span><br><span class="line">                    &lt;/Button&gt;</span><br><span class="line">&lt;!--浮出选择列表弹窗,绑定集合的数据,处理选中的事件ItemsPicked--&gt;</span><br><span class="line">                    &lt;Button Content=<span class="string">&quot;Show DataPicker&quot;</span>&gt;</span><br><span class="line">                        &lt;Button.Flyout&gt;</span><br><span class="line">                            &lt;ListPickerFlyout x:Name=<span class="string">&quot;listPickerFlyout&quot;</span> Title=<span class="string">&quot;Select Mobile Tag：&quot;</span> ItemsPicked=<span class="string">&quot;listPickerFlyout_ItemsPicked&quot;</span>&gt;</span><br><span class="line">                                &lt;ListPickerFlyout.ItemTemplate&gt;</span><br><span class="line">                                    &lt;DataTemplate&gt;</span><br><span class="line">                                        &lt;TextBlock Text=<span class="string">&quot;&#123;Binding&#125;&quot;</span> FontSize=<span class="string">&quot;30&quot;</span>/&gt;</span><br><span class="line">                                        </span><br><span class="line">                                    &lt;/DataTemplate&gt;</span><br><span class="line">                                &lt;/ListPickerFlyout.ItemTemplate&gt;</span><br><span class="line">                            &lt;/ListPickerFlyout&gt;</span><br><span class="line">                        &lt;/Button.Flyout&gt;</span><br><span class="line">                    &lt;/Button&gt;</span><br><span class="line">                    &lt;!--使用附加属性FlyoutBase.AttachedFlyout来实现Flyout控件--&gt;</span><br><span class="line">                    &lt;TextBlock Text=<span class="string">&quot;Please Click Me!&quot;</span> Tapped=<span class="string">&quot;TextBlock_Tapped&quot;</span> FontSize=<span class="string">&quot;20&quot;</span>&gt;</span><br><span class="line">                        &lt;FlyoutBase.AttachedFlyout&gt;</span><br><span class="line">                            &lt;Flyout&gt;</span><br><span class="line">                                &lt;TextBox Text=<span class="string">&quot;你好!&quot;</span>&gt;</span><br><span class="line">                                    </span><br><span class="line">                                    &lt;/TextBox&gt;</span><br><span class="line">                                &lt;/Flyout&gt;</span><br><span class="line">                            &lt;/FlyoutBase.AttachedFlyout&gt;</span><br><span class="line">                    &lt;/TextBlock&gt;</span><br><span class="line">                &lt;/StackPanel&gt;</span><br><span class="line">            &lt;/PivotItem&gt;</span><br><span class="line"></span><br><span class="line"> //Flyout</span><br><span class="line">            //绑定ListPickerFlyout数据源</span><br><span class="line">            listPickerFlyout.ItemsSource = new List&lt;string&gt; &#123; <span class="string">&quot;Apple&quot;</span>, <span class="string">&quot;Honor&quot;</span>, <span class="string">&quot;RedMi&quot;</span>, <span class="string">&quot;TSD&quot;</span>,<span class="string">&quot;HTC&quot;</span> &#125;;</span><br><span class="line">   private void MenuFlyoutItem_Click(object sender, RoutedEventArgs e)</span><br><span class="line">        &#123;</span><br><span class="line">            menuFlyoutButton.Content = (sender as MenuFlyoutItem).Text;</span><br><span class="line">        &#125;</span><br><span class="line">        //ListPickerFlyout的选中事件，点击列表的某一项便会触发,在事件处理程序中通常会获取选中的项目来进行相关逻辑的处理.</span><br><span class="line">        private async void listPickerFlyout_ItemsPicked(ListPickerFlyout sender, ItemsPickedEventArgs args)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (sender.SelectedItem!=null)</span><br><span class="line">            &#123;</span><br><span class="line">                await new MessageDialog($<span class="string">&quot;你选择的是:&#123;sender.SelectedItem.ToString()&#125;&quot;</span>).ShowAsync();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        private async void DatePickerFlyout_DatePicked(DatePickerFlyout sender, DatePickedEventArgs args)</span><br><span class="line">        &#123;</span><br><span class="line">            await new MessageDialog(args.NewDate.ToString()).ShowAsync();</span><br><span class="line">        &#125;</span><br><span class="line">        // TimerPickerFlyout 时间选中事件,在事件处理程序里可以获取选中的时间</span><br><span class="line">        private async void TimePickerFlyout_TimePicked(TimePickerFlyout sender, TimePickedEventArgs args)</span><br><span class="line">        &#123;</span><br><span class="line">            await new MessageDialog(args.NewTime.ToString()).ShowAsync();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        private async void PickerFlyout_Confirmed(PickerFlyout sender, PickerConfirmedEventArgs args)</span><br><span class="line">        &#123;</span><br><span class="line">            await new MessageDialog(<span class="string">&quot;你点击了确定&quot;</span>).ShowAsync();</span><br><span class="line">        &#125;</span><br><span class="line">        // 通过Flyoutase.ShowAttachedFlyout方法来展示Flyout控件</span><br><span class="line">        private void TextBlock_Tapped(object sender, TappedRoutedEventArgs e)</span><br><span class="line">        &#123;</span><br><span class="line">            FrameworkElement element= sender as FrameworkElement;</span><br><span class="line">            <span class="keyword">if</span> (element!=null)</span><br><span class="line">            &#123;</span><br><span class="line">                FlyoutBase.ShowAttachedFlyout(element);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<p>4.16 ComboBox<br>对ComboBox控件下拉数据进行绑定,可以通过ItemTemplate设置选项的模板和绑定的属性,然后再绑定数据源.<br>常用事件:DropDownOpened(下拉框打开时触发的事件) DropDownClosed(下拉框关闭时触发的事件)<br>再选中选项后关闭菜单,获取选中选项.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;StackPanel&gt;</span><br><span class="line">                  &lt;!--纯文本的下拉框--&gt;</span><br><span class="line">                  &lt;ComboBox Header=<span class="string">&quot;Colors&quot;</span> PlaceholderText=<span class="string">&quot;Pick a Color&quot;</span>&gt;</span><br><span class="line">                      &lt;x:String&gt;</span><br><span class="line">                          Blue</span><br><span class="line">                      &lt;/x:String&gt;</span><br><span class="line">                      &lt;x:String&gt;</span><br><span class="line">                          Green</span><br><span class="line">                      &lt;/x:String&gt;</span><br><span class="line">                      &lt;x:String&gt;</span><br><span class="line">                          Red</span><br><span class="line">                      &lt;/x:String&gt;</span><br><span class="line">                      &lt;x:String&gt;</span><br><span class="line">                          Yellow</span><br><span class="line">                      &lt;/x:String&gt;</span><br><span class="line">                  &lt;/ComboBox&gt;</span><br><span class="line">                  &lt;!--数据绑定的下拉框--&gt;</span><br><span class="line">                  &lt;ComboBox x:Name=<span class="string">&quot;comboBox2&quot;</span> DropDownClosed=<span class="string">&quot;comboBox2_DropDownClosed&quot;</span>&gt;</span><br><span class="line">                      &lt;ComboBox.ItemTemplate&gt;</span><br><span class="line">                          &lt;DataTemplate&gt;</span><br><span class="line">                              &lt;StackPanel Orientation=<span class="string">&quot;Horizontal&quot;</span>&gt;</span><br><span class="line">                                  &lt;TextBlock Text=<span class="string">&quot;&#123;Binding Name&#125;&quot;</span> FontSize=<span class="string">&quot;30&quot;</span>/&gt;</span><br><span class="line">                                  &lt;TextBlock Text=<span class="string">&quot;&#123;Binding Age&#125;&quot;</span> Margin=<span class="string">&quot;50 10 0 0&quot;</span>/&gt;</span><br><span class="line">                              &lt;/StackPanel&gt;</span><br><span class="line">                          &lt;/DataTemplate&gt;</span><br><span class="line">                      &lt;/ComboBox.ItemTemplate&gt;</span><br><span class="line">                  &lt;/ComboBox&gt;</span><br><span class="line">                  </span><br><span class="line">                 &lt;!--数据绑定的下拉框关闭后,这里显示选中的选项的信息--&gt;</span><br><span class="line">                  &lt;TextBlock x:Name=<span class="string">&quot;Info&quot;</span> FontSize=<span class="string">&quot;20&quot;</span>/&gt;</span><br><span class="line">              &lt;/StackPanel&gt;</span><br><span class="line"></span><br><span class="line">private void comboBox2_DropDownClosed(object sender, object e)</span><br><span class="line">      &#123;</span><br><span class="line">          <span class="keyword">if</span> (comboBox2.SelectedItem!=null)</span><br><span class="line">          &#123;</span><br><span class="line">              Man man = comboBox2.SelectedItem as Man;</span><br><span class="line">              Info.Text = $<span class="string">&quot;name:&#123;man.Name&#125; age:&#123;man.Age&#125;&quot;</span>;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure>
<p>4.17 命令栏/菜单栏(CommandBar)<br>命令栏(CommandBar)也是程序中的菜单栏控件,win10中可以作为底部的菜单栏来使用.<br>Page页面的BottomAppBar属性表示页面的底部菜单栏,这个菜单栏必须是CommandBar控件类型,所以CommandBar控件通常都用在页面的底部菜单栏上,菜单栏有两种类型的按钮:一种是图形的图形按钮,另一种是文字的菜单按钮,这两种按钮都是使用AppBarButton控件来表示,只不过文字的菜单按钮需要放在CommandBar控件的SecondaryCommands属性上.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;Page.BottomAppBar&gt;</span><br><span class="line">&lt;CommandBar&gt;</span><br><span class="line">&lt;AppBarButton/&gt;</span><br><span class="line"></span><br><span class="line">&lt;CommandBar.SecondaryCommands&gt;</span><br><span class="line">&lt;AppBarButton/&gt;</span><br><span class="line">&lt;/CommandBar.SecondaryCommands&gt;</span><br><span class="line">&lt;/CommandBar&gt;</span><br><span class="line">&lt;/Page.BottomAppBar&gt;</span><br></pre></td></tr></table></figure>
<p>对于CommandBar里面的应用栏按钮控件AppBarButton,通常需要设置其Label和Icon属性用于定义应用栏按钮的内容,除此之外,AppBarButton控件可以作为一种图形的图形按钮单独使用,Label属性属于设置按钮的文本标签,Icon属性用于设置按钮的图形,图形的图标可以使用以下4种类型:<br>1.FontIcon:图标基于来自指定字体系列的字型<br>2.BitmapIcon:图标基于带指定URI的位图图像文件<br>3.PathIcon:图标基于Path数据.<br>4.SymbolIcon:图标基于来自Segoe UI Symbol字体的字型预定义列表.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;Page.BottomAppBar&gt;</span><br><span class="line">        &lt;CommandBar Opened=<span class="string">&quot;CommandBar_Opened&quot;</span> Closed=<span class="string">&quot;CommandBar_Closed&quot;</span>&gt;</span><br><span class="line">            &lt;AppBarButton Label=<span class="string">&quot;buy&quot;</span> Icon=<span class="string">&quot;Shop&quot;</span>/&gt;</span><br><span class="line">            &lt;!--BitmapIcon图标按钮--&gt;</span><br><span class="line">            &lt;AppBarButton Label=<span class="string">&quot;BitmapIcon&quot;</span> Click=<span class="string">&quot;AppBarButton_Click&quot;</span>&gt;</span><br><span class="line">                &lt;AppBarButton.Icon&gt;</span><br><span class="line">                    &lt;BitmapIcon UriSource=<span class="string">&quot;ms-appx:///Assets/questionmark.png&quot;</span>/&gt;</span><br><span class="line">                &lt;/AppBarButton.Icon&gt;</span><br><span class="line">            &lt;/AppBarButton&gt;</span><br><span class="line">            &lt;!--FontIcon图标按钮--&gt;</span><br><span class="line">            &lt;AppBarButton Label=<span class="string">&quot;FontIcon&quot;</span> Click=<span class="string">&quot;AppBarButton_Click&quot;</span>&gt;</span><br><span class="line">                &lt;AppBarButton.Icon&gt;</span><br><span class="line">                    &lt;FontIcon FontFamily=<span class="string">&quot;Candara&quot;</span> Glyph=<span class="string">&quot;&amp;#x03a3;&quot;</span>/&gt;</span><br><span class="line">                &lt;/AppBarButton.Icon&gt;</span><br><span class="line">            &lt;/AppBarButton&gt;</span><br><span class="line">            &lt;!--PathIcon图标按钮--&gt;</span><br><span class="line">            &lt;AppBarButton Label=<span class="string">&quot;PathIcon&quot;</span> Click=<span class="string">&quot;AppBarButton_Click&quot;</span>&gt;</span><br><span class="line">                &lt;AppBarButton.Icon&gt;</span><br><span class="line">                    &lt;PathIcon Data=<span class="string">&quot;F1 M 20,20L 24,10L 24,24L 5,24&quot;</span>/&gt;</span><br><span class="line">                &lt;/AppBarButton.Icon&gt;</span><br><span class="line">            &lt;/AppBarButton&gt;</span><br><span class="line">            &lt;!--文本菜单按钮--&gt;</span><br><span class="line">            &lt;CommandBar.SecondaryCommands&gt;</span><br><span class="line">                &lt;AppBarButton Label=<span class="string">&quot;about&quot;</span> Click=<span class="string">&quot;AppBarButton_Click&quot;</span>/&gt;</span><br><span class="line">            &lt;/CommandBar.SecondaryCommands&gt;</span><br><span class="line">        &lt;/CommandBar&gt;</span><br><span class="line">    &lt;/Page.BottomAppBar&gt;</span><br><span class="line"></span><br><span class="line"> private void CommandBar_Opened(object sender, object e)</span><br><span class="line">        &#123;</span><br><span class="line">            info.Text = <span class="string">&quot;The CommmandBar is Opened&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        private void CommandBar_Closed(object sender, object e)</span><br><span class="line">        &#123;</span><br><span class="line">            info.Text = <span class="string">&quot;The CommandBar is Closed&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        private void AppBarButton_Click(object sender, RoutedEventArgs e)</span><br><span class="line">        &#123;</span><br><span class="line">            info.Text = $<span class="string">&quot;单击了菜单栏:&#123;(sender as AppBarButton).Label&#125;&quot;</span>;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
<p>4.18 分屏控件(SPlitView)<br>SplitView是Win10通用应用程序推荐的交互控件,通常和一个汉堡按钮搭配作为一种抽屉式菜单来进行呈现.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;SplitView&gt;</span><br><span class="line">&lt;SplitView.Pane&gt;</span><br><span class="line">...菜单面板的内容</span><br><span class="line">&lt;/SplitView.Pane&gt;</span><br><span class="line">...主体内容</span><br><span class="line">&lt;/SplitView&gt;</span><br></pre></td></tr></table></figure>
<p>菜单面板是通过Pane属性来进行赋值,并且通过IsPaneOpen属性来控制打开和关闭状态.true表示打开,false表示关闭,当菜单关闭时,页面将全部显示SplitView的主体内容,主题内容为Content属性</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;PivotItem Header=<span class="string">&quot;SplitView&quot;</span>&gt;</span><br><span class="line">               &lt;Grid Background=<span class="string">&quot;&#123;ThemeResource ApplicationPageBackgroundThemeBrush&#125;&quot;</span>&gt;</span><br><span class="line">                   &lt;ToggleButton Click=<span class="string">&quot;ToggleButton_Click&quot;</span> VerticalAlignment=<span class="string">&quot;Top&quot;</span> Foreground=<span class="string">&quot;Green&quot;</span>&gt;</span><br><span class="line">                       &lt;ToggleButton.Content&gt;</span><br><span class="line">                           &lt;Border Background=<span class="string">&quot;Transparent&quot;</span> Width=<span class="string">&quot;40&quot;</span> Height=<span class="string">&quot;40&quot;</span>&gt;</span><br><span class="line">                               &lt;FontIcon x:Name=<span class="string">&quot;hamburger&quot;</span> FontFamily=<span class="string">&quot;Segoe MDL2 Assets&quot;</span> Glyph=<span class="string">&quot;&amp;#xE700;&quot;</span>/&gt;</span><br><span class="line">                               </span><br><span class="line">                           &lt;/Border&gt;</span><br><span class="line">                       &lt;/ToggleButton.Content&gt;</span><br><span class="line">                   &lt;/ToggleButton&gt;</span><br><span class="line">                   &lt;SplitView x:Name=<span class="string">&quot;Splitter&quot;</span> IsPaneOpen=<span class="string">&quot;True&quot;</span>&gt;</span><br><span class="line">                       &lt;SplitView.Pane&gt;</span><br><span class="line">                           &lt;StackPanel VerticalAlignment=<span class="string">&quot;Center&quot;</span>&gt;</span><br><span class="line">                               &lt;Button Content=<span class="string">&quot;菜单1&quot;</span> Click=<span class="string">&quot;Button_Click_1&quot;</span>/&gt;</span><br><span class="line">                               &lt;Button Content=<span class="string">&quot;菜单2&quot;</span> Click=<span class="string">&quot;Button_Click_1&quot;</span>/&gt;</span><br><span class="line">                               &lt;Button Content=<span class="string">&quot;菜单3&quot;</span></span><br><span class="line">                                       Click=<span class="string">&quot;Button_Click_1&quot;</span>/&gt;</span><br><span class="line">                               &lt;Button Content=<span class="string">&quot;菜单4&quot;</span> Click=<span class="string">&quot;Button_Click_1&quot;</span>/&gt;</span><br><span class="line">                           &lt;/StackPanel&gt;</span><br><span class="line">                       &lt;/SplitView.Pane&gt;</span><br><span class="line">                       &lt;Grid&gt;</span><br><span class="line">                           &lt;TextBlock x:Name=<span class="string">&quot;tb&quot;</span> Text=<span class="string">&quot;&quot;</span> VerticalAlignment=<span class="string">&quot;Center&quot;</span> HorizontalAlignment=<span class="string">&quot;Center&quot;</span>/&gt;</span><br><span class="line">                       &lt;/Grid&gt;</span><br><span class="line">                   &lt;/SplitView&gt;</span><br><span class="line">               &lt;/Grid&gt;</span><br><span class="line">           &lt;/PivotItem&gt;</span><br><span class="line">private void ToggleButton_Click(object sender, RoutedEventArgs e)</span><br><span class="line">       &#123;</span><br><span class="line">           Splitter.IsPaneOpen = (Splitter.IsPaneOpen == <span class="literal">true</span>) ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       private void Button_Click_1(object sender, RoutedEventArgs e)</span><br><span class="line">       &#123;</span><br><span class="line">           Splitter.IsPaneOpen = <span class="literal">false</span>;</span><br><span class="line">           tb.Text = $<span class="string">&quot;你好,&#123;(sender as Button).Content&#125;&quot;</span>;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="布局控件"><a href="#布局控件" class="headerlink" title="布局控件"></a>布局控件</h4><p>5.14 Canvas</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;PivotItem Header=<span class="string">&quot;渐变矩形&quot;</span>&gt;</span><br><span class="line">                &lt;Canvas Background=<span class="string">&quot;White&quot;</span>&gt;</span><br><span class="line">                    &lt;Canvas Height=<span class="string">&quot;400&quot;</span> Width=<span class="string">&quot;400&quot;</span> Canvas.Left=<span class="string">&quot;0&quot;</span> Canvas.Top=<span class="string">&quot;50&quot;</span> Background=<span class="string">&quot;Gray&quot;</span> Opacity=<span class="string">&quot;0.1&quot;</span>/&gt;</span><br><span class="line">                    &lt;Canvas Height=<span class="string">&quot;360&quot;</span> Width=<span class="string">&quot;360&quot;</span> Canvas.Left=<span class="string">&quot;20&quot;</span></span><br><span class="line">                            Canvas.Top=<span class="string">&quot;70&quot;</span> Background=<span class="string">&quot;Gray&quot;</span> Opacity=<span class="string">&quot;0.2&quot;</span>/&gt;</span><br><span class="line">                    &lt;Canvas Height=<span class="string">&quot;320&quot;</span> Width=<span class="string">&quot;320&quot;</span> Canvas.Left=<span class="string">&quot;40&quot;</span> Canvas.Top=<span class="string">&quot;90&quot;</span> Background=<span class="string">&quot;Gray&quot;</span> Opacity=<span class="string">&quot;0.3&quot;</span>/&gt;</span><br><span class="line">                    &lt;Canvas Height=<span class="string">&quot;280&quot;</span> Width=<span class="string">&quot;280&quot;</span> Canvas.Left=<span class="string">&quot;60&quot;</span></span><br><span class="line">                            Canvas.Top=<span class="string">&quot;110&quot;</span> Background=<span class="string">&quot;Gray&quot;</span> Opacity=<span class="string">&quot;0.4&quot;</span>/&gt;</span><br><span class="line">                    &lt;Canvas Height=<span class="string">&quot;240&quot;</span> Width=<span class="string">&quot;240&quot;</span> Canvas.Left=<span class="string">&quot;80&quot;</span></span><br><span class="line">                            Canvas.Top=<span class="string">&quot;130&quot;</span> Background=<span class="string">&quot;Gray&quot;</span> Opacity=<span class="string">&quot;0.5&quot;</span>/&gt;</span><br><span class="line"></span><br><span class="line">                        &lt;Canvas Height=<span class="string">&quot;200&quot;</span> Width=<span class="string">&quot;200&quot;</span> Canvas.Left=<span class="string">&quot;100&quot;</span> Canvas.Top=<span class="string">&quot;150&quot;</span> Background=<span class="string">&quot;Gray&quot;</span> Opacity=<span class="string">&quot;0.6&quot;</span>/&gt;</span><br><span class="line">                        &lt;Canvas Height=<span class="string">&quot;160&quot;</span> Width=<span class="string">&quot;160&quot;</span> Canvas.Left=<span class="string">&quot;120&quot;</span></span><br><span class="line">                            Canvas.Top=<span class="string">&quot;170&quot;</span> Background=<span class="string">&quot;Black&quot;</span> Opacity=<span class="string">&quot;0.3&quot;</span>/&gt;</span><br><span class="line">                        &lt;Canvas Height=<span class="string">&quot;120&quot;</span> Width=<span class="string">&quot;120&quot;</span> Canvas.Left=<span class="string">&quot;140&quot;</span> Canvas.Top=<span class="string">&quot;190&quot;</span> Background=<span class="string">&quot;Black&quot;</span> Opacity=<span class="string">&quot;0.4&quot;</span>/&gt;</span><br><span class="line">                        &lt;Canvas Height=<span class="string">&quot;80&quot;</span> Width=<span class="string">&quot;80&quot;</span> Canvas.Left=<span class="string">&quot;160&quot;</span></span><br><span class="line">                            Canvas.Top=<span class="string">&quot;210&quot;</span> Background=<span class="string">&quot;Black&quot;</span> Opacity=<span class="string">&quot;0.5&quot;</span>/&gt;</span><br><span class="line">                        &lt;Canvas Height=<span class="string">&quot;40&quot;</span> Width=<span class="string">&quot;40&quot;</span> Canvas.Left=<span class="string">&quot;180&quot;</span></span><br><span class="line">                            Canvas.Top=<span class="string">&quot;230&quot;</span> Background=<span class="string">&quot;Black&quot;</span> Opacity=<span class="string">&quot;0.6&quot;</span>/&gt;</span><br><span class="line">                    &lt;/Canvas&gt;</span><br><span class="line">            &lt;/PivotItem&gt;</span><br></pre></td></tr></table></figure>
<p>5.15. 相对布局(RelativePanel)<br>控件的位置是按照相对位置来计算的,后一个控件在什么位置依赖于前一个控件的基本位置,是最灵活的一种布局.<br>RelativePanel也是通过附加属性来控制控件的布局,类似于Canvas的left.Top等.<br>Relative主要附加属性如下所示<br>Above:在某元素的上方<br>Belo:在某元素的下方<br>LeftOf:在某元素的左方<br>RightOf:在某元素的右方<br>AlignBottmWith:本元素的下边缘和某元素的下边缘对齐.<br>AlignLeftWith:本元素的左边缘和某元素的左边缘对齐<br>AlignRightWith:本元素的右边缘和某元素的右边缘对齐.<br>AlignTopWith:本元素的上边缘和某元素的上边缘对齐.<br>AlignVerticalCenterWith:本元素和某元素的垂直居中对齐.<br>5.16 多分辨率的适配布局</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;PivotItem Header=<span class="string">&quot;RelativePanel&quot;</span>&gt;</span><br><span class="line">               &lt;RelativePanel VerticalAlignment=<span class="string">&quot;Center&quot;</span> HorizontalAlignment=<span class="string">&quot;Center&quot;</span>&gt;</span><br><span class="line">                   &lt;Button x:Name=<span class="string">&quot;bt1&quot;</span> Content=<span class="string">&quot;按钮1&quot;</span>/&gt;</span><br><span class="line">                   &lt;Button x:Name=<span class="string">&quot;bt2&quot;</span> Content=<span class="string">&quot;按钮2&quot;</span> RelativePanel.RightOf=<span class="string">&quot;bt1&quot;</span> Height=<span class="string">&quot;100&quot;</span>/&gt;</span><br><span class="line">                   &lt;Button x:Name=<span class="string">&quot;bt3&quot;</span> Content=<span class="string">&quot;按钮3... ...&quot;</span></span><br><span class="line">                           RelativePanel.AlignLeftWith=<span class="string">&quot;bt2&quot;</span></span><br><span class="line">                           RelativePanel.AlignBottomWithPanel=<span class="string">&quot;True&quot;</span>/&gt;</span><br><span class="line"></span><br><span class="line">               &lt;/RelativePanel&gt;</span><br><span class="line">           &lt;/PivotItem&gt;</span><br></pre></td></tr></table></figure>
<p>5.16.多分辨率的适配布局<br>1.对于要自适应布局部分不要硬编码 设置HorizontalAlignment VerticalAlignment 设置为strenth.通过MaxWidth,MinWidth来控制长度范围.<br>2.利用Grid面板或者RelativePanel面板动态布局.<br>规则的 Grid 反之<br>3.直接根据分辨率进行适配<br>真正的长和宽 WIndows.UI.Xaml.Window.Current.Bounds类的Height和Width属性来获取.<br>4.使用AdaptiveTrigger进行适配<br>通过设置MinWindowHeight,MinWindowWidth来设置触发的时机,当最小的窗口高度或者宽度超过限制将会触发布局属性的修改.AdaptiveManager需要在VisualStateManger里面使用.并且设置触发某个状态的改变.<br>5.23.布局系统的重要方法和属性<br>1.UIElement类<br>关于布局,重要属性 DesiredSize RenderSize 重要方法 Measure Arrange.<br>DesiredSize:只读 Size类 表示在布局过程的测量处理过程中计算的大小<br>RenderSize:这是一个只读属性,类型是Size类,表示UI元素最终呈现大小,RenderSize和DesiredSize并不一定相等.RenderSize就是其ArrangeOverride方法的返回值.<br>public void Measure(Size availableSize)方法:更新UIElement的DesiredSize属性,测量出UI元素的大小.[如果在该元素上实现了FrameworkElement.MeasureOverride(System.Windows.Size)方法,将会用此方法以形成递归布局更新.参数availableSize表示父对象可以为子对象分配可用空间.子对象可以请求大于可用空间的空间,如果特定面板中允许滚动或其他调整大小行为,则提供的大小可以适应此空间.<br>public void Arrange(Rect finalRect):Arrange方法所做的事情是定位子对象并确定UIElement的大小,也就是DesiredSize属性的值,如果在该元素上实现了FrameworkElement,ArrangeOverride(System.Windows.Size)方法,将会用此方法以形成递归布局更新,参数finalRect表示布局中父对象为子对象计算的最终大小,作为System.WIndows.Rect值提供.<br>2.FrameworkElement类<br>FrameworkElement MeasureOverride ArrangeOverride<br>Protected virtual Size MeasureOverride(Size availableSize)<br>Protected virtual Size ArrangeOverride(Size finalSize)<br>5.24 测量和排列过程<br>1.测量的过程是为了确认DesiredSize的值,最终是要提供给排列的过程去使用.<br>2.DesiredSize是根据Margin,Width,Height等属性来决定.<br>3.排列的过程确定RenderSize,以及最终子对象被安置的空间.RenderSize就是ArrangeOverride的返回值,还没有被裁剪过的值.<br>4.Margin,Width,Height只是控件表面上的属性,而实际掌控这些效果的是布局的测量排列过程.<br>5.Margin,Width,Height等属性的改变会重新触发布局的过程.<br>5.3.自定义布局规则</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">public class TestPanel :Panel</span><br><span class="line">   &#123;</span><br><span class="line">       public <span class="function"><span class="title">TestPanel</span></span>()</span><br><span class="line">       &#123;</span><br><span class="line">       &#125;</span><br><span class="line">       protected override Size MeasureOverride(Size availableSize)</span><br><span class="line">       &#123;</span><br><span class="line">           Debug.WriteLine($<span class="string">&quot;进入父对象:&#123;this.Name&#125;的MeasureOverride方法测量大小.&quot;</span>);</span><br><span class="line">           foreach (var item <span class="keyword">in</span> this.Children)</span><br><span class="line">           &#123;</span><br><span class="line">               item.Measure(new Size(120,120));</span><br><span class="line">               Debug.WriteLine($<span class="string">&quot;子对象的DesiredSize值Width:&#123;item.DesiredSize.Width&#125; Height:&#123;item.DesiredSize.Height&#125;&quot;</span>);</span><br><span class="line">               Debug.WriteLine($<span class="string">&quot;子对象的RenderSize值Width:&#123;item.RenderSize.Width&#125; Height:&#123;item.RenderSize.Height&#125;&quot;</span>);</span><br><span class="line"></span><br><span class="line">           &#125;</span><br><span class="line">           Debug.WriteLine($<span class="string">&quot;父对象的DesiredSize值Width:&#123;this.DesiredSize.Width&#125; Height:&#123;this.DesiredSize.Height&#125;&quot;</span>);</span><br><span class="line">           Debug.WriteLine($<span class="string">&quot;父对象的RenderSize值Width:&#123;this.RenderSize.Width&#125; Height:&#123;this.RenderSize.Height&#125;&quot;</span>);</span><br><span class="line">           <span class="built_in">return</span> availableSize;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       protected override Size ArrangeOverride(Size finalSize)</span><br><span class="line">       &#123;</span><br><span class="line">           Debug.WriteLine($<span class="string">&quot;进入父对象:&#123;this.Name&#125;的ArrangeOverride方法进行排列&quot;</span>);</span><br><span class="line">           double x = 0;</span><br><span class="line">           foreach (var item <span class="keyword">in</span> this.Children)</span><br><span class="line">           &#123;</span><br><span class="line">               //排列子元素</span><br><span class="line">               item.Arrange(new Rect(x,0,item.DesiredSize.Width,item.DesiredSize.Height));</span><br><span class="line">               x += item.DesiredSize.Width;</span><br><span class="line">               Debug.WriteLine($<span class="string">&quot;子对象的DesiredSize值Width:&#123;item.DesiredSize.Width&#125; Height:&#123;item.DesiredSize.Height&#125;&quot;</span>);</span><br><span class="line">               Debug.WriteLine($<span class="string">&quot;子对象的RenderSize值Width:&#123;item.RenderSize.Width&#125; Height:&#123;item.RenderSize.Height&#125;&quot;</span>);</span><br><span class="line"></span><br><span class="line">           &#125;</span><br><span class="line">           Debug.WriteLine($<span class="string">&quot;父对象的Desired值Width:&#123;this.DesiredSize.Width&#125; Height:&#123;this.DesiredSize.Height&#125;&quot;</span>);</span><br><span class="line">           Debug.WriteLine($<span class="string">&quot;父对象的Render值Width:&#123;this.RenderSize.Width&#125; Height:&#123;this.RenderSize.Height&#125;&quot;</span>);</span><br><span class="line">           <span class="built_in">return</span> base.ArrangeOverride(finalSize);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">public class TestUIElement : Panel</span><br><span class="line">   &#123;</span><br><span class="line">       public <span class="function"><span class="title">TestUIElement</span></span>()</span><br><span class="line">       &#123;</span><br><span class="line"></span><br><span class="line">       &#125;</span><br><span class="line">       protected override Size MeasureOverride(Size availableSize)</span><br><span class="line">       &#123;</span><br><span class="line">           Debug.WriteLine($<span class="string">&quot;进入子对象:&#123;this.Name&#125;的MeasureOverride方法测量大小.&quot;</span>);</span><br><span class="line">           <span class="built_in">return</span> availableSize;</span><br><span class="line">       &#125;</span><br><span class="line">       protected override Size ArrangeOverride(Size finalSize)</span><br><span class="line">       &#123;</span><br><span class="line">           Debug.WriteLine($<span class="string">&quot;进入子对象:&#123;this.Name&#125;的ArrangeOverride方法进行排列&quot;</span>);</span><br><span class="line">           <span class="built_in">return</span> finalSize;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">&lt;PivotItem Header=<span class="string">&quot;MeasureArrange&quot;</span>&gt;</span><br><span class="line">               &lt;StackPanel&gt;</span><br><span class="line">                   &lt;Button Content=<span class="string">&quot;改变高度&quot;</span> Click=<span class="string">&quot;Button_Click_2&quot;</span>/&gt;</span><br><span class="line">                   &lt;controls:TestPanel x:Name=<span class="string">&quot;element1&quot;</span> Width=<span class="string">&quot;60&quot;</span> Height=<span class="string">&quot;60&quot;</span> Background=<span class="string">&quot;Red&quot;</span> Margin=<span class="string">&quot;10&quot;</span>/&gt;</span><br><span class="line">                   &lt;controls:TestUIElement x:Name=<span class="string">&quot;element2&quot;</span> Width=<span class="string">&quot;60&quot;</span> Height=<span class="string">&quot;60&quot;</span> Background=<span class="string">&quot;Red&quot;</span>/&gt;</span><br><span class="line">                   </span><br><span class="line">               &lt;/StackPanel&gt;</span><br><span class="line">           &lt;/PivotItem&gt;</span><br></pre></td></tr></table></figure>
<p>5.3.1.创建布局类<br>需要注意的是,自定义的半径属性发生改变的时候,需要调用InvalidateArrange方法重新触发布局的排列过程,否则修改半径后将不会起到任何作用.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line">public class CirclePanel:Panel</span><br><span class="line">    &#123;</span><br><span class="line">        //自定义的半径变量</span><br><span class="line">        private double _radius = 0;</span><br><span class="line"></span><br><span class="line">        public double Radius</span><br><span class="line">        &#123;</span><br><span class="line">            get &#123; <span class="built_in">return</span> (double)GetValue(RadiusProperty); &#125;</span><br><span class="line">            <span class="built_in">set</span> &#123; SetValue(RadiusProperty, value); &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // Using a DependencyProperty as the backing store <span class="keyword">for</span> Radius.  This enables animation, styling, binding, etc...</span><br><span class="line">        public static <span class="built_in">readonly</span> DependencyProperty RadiusProperty =</span><br><span class="line">            DependencyProperty.Register(<span class="string">&quot;Radius&quot;</span>, typeof(double), typeof(CirclePanel), new PropertyMetadata(0.0,OnRadiusPropertyChanged));</span><br><span class="line"></span><br><span class="line">        public <span class="function"><span class="title">CirclePanel</span></span>()</span><br><span class="line">        &#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        private static void OnRadiusPropertyChanged(DependencyObject d, DependencyPropertyChangedEventArgs e)</span><br><span class="line">        &#123;</span><br><span class="line">            //获取触发属性改变的CirclePanel对象.</span><br><span class="line">            CirclePanel target = (CirclePanel)d;</span><br><span class="line">            //获取传递进来的最新的值,并赋值给半径变量</span><br><span class="line">            target._radius = (double)e.NewValue;</span><br><span class="line">            //使排列状态失效,进行重新排列</span><br><span class="line">            target.InvalidateArrange();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        protected override Size MeasureOverride(Size availableSize)</span><br><span class="line">        &#123;</span><br><span class="line">            //处理测量子对象的逻辑</span><br><span class="line">            //最大的宽度的变量</span><br><span class="line">            double maxElementWidth = 0;</span><br><span class="line">            //遍历所有的子对象,并调用子对象的Measure方法进行测量,取出最大的宽度的子对象.</span><br><span class="line">            foreach (var item <span class="keyword">in</span> Children)</span><br><span class="line">            &#123;</span><br><span class="line">                //测量子对象</span><br><span class="line">                item.Measure(availableSize);</span><br><span class="line">                maxElementWidth = Math.Max(item.DesiredSize.Width,maxElementWidth);</span><br><span class="line">            &#125;</span><br><span class="line">            //取两个半径的大小和最大的宽度的两倍作为面板的宽度.</span><br><span class="line">            double panelWidth = 2 * this.Radius + 2 * maxElementWidth;</span><br><span class="line">            //取面板所分配的高度,宽度和计算出来的宽度的最小值作为面板的实际大小.</span><br><span class="line">            double width = Math.Min(panelWidth,availableSize.Width);</span><br><span class="line">            double height = Math.Min(panelWidth,availableSize.Height);</span><br><span class="line">            <span class="built_in">return</span> new Size(width,height); </span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        protected override Size ArrangeOverride(Size finalSize)</span><br><span class="line">        &#123;</span><br><span class="line">            //当前的角度,从0开始排列</span><br><span class="line">            double degree = 0;</span><br><span class="line">            //计算每个子对象所占用的角度大小.</span><br><span class="line">            double degreeStep = (double)360 / this.Children.Count;</span><br><span class="line">            //计算</span><br><span class="line">            double mX = this.DesiredSize.Width / 2;</span><br><span class="line">            double mY = this.DesiredSize.Height / 2;</span><br><span class="line">            //遍历所有子对象进行排列</span><br><span class="line">            foreach (var item <span class="keyword">in</span> Children)</span><br><span class="line">            &#123;</span><br><span class="line">                //把角度转换为弧度单位</span><br><span class="line">                double angle = Math.PI * degree / 180.0;</span><br><span class="line">                //根据弧度计算出圆弧上的x,y的坐标值</span><br><span class="line">                double x = Math.Cos(angle) * this._radius;</span><br><span class="line">                double y = Math.Sin(angle) * this._radius;</span><br><span class="line">                //使用变换效果让控件旋转角度degree</span><br><span class="line">                RotateTransform rotateTransform = new RotateTransform();</span><br><span class="line">                rotateTransform.Angle = degree;</span><br><span class="line">                rotateTransform.CenterX = 0;</span><br><span class="line">                rotateTransform.CenterY = 0;</span><br><span class="line">                item.RenderTransform = rotateTransform;</span><br><span class="line">                //排列子对象</span><br><span class="line">                item.Arrange(new Rect(mX+x,mY+y,item.DesiredSize.Width,item.DesiredSize.Height));</span><br><span class="line">                //角度递增</span><br><span class="line">                degree += degreeStep;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">return</span> finalSize;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&lt;PivotItem Header=<span class="string">&quot;CustomPanel&quot;</span>&gt;</span><br><span class="line">                &lt;Grid x:Name=<span class="string">&quot;ContentPanel1&quot;</span> Margin=<span class="string">&quot;12,0,12,0&quot;</span>&gt;</span><br><span class="line">                    &lt;Grid.RowDefinitions&gt;</span><br><span class="line">                        &lt;RowDefinition Height=<span class="string">&quot;Auto&quot;</span>/&gt;</span><br><span class="line">                        &lt;RowDefinition Height=<span class="string">&quot;*&quot;</span>/&gt;</span><br><span class="line">                    &lt;/Grid.RowDefinitions&gt;</span><br><span class="line">                    &lt;Slider Grid.Row=<span class="string">&quot;0&quot;</span> Value=<span class="string">&quot;5&quot;</span> ValueChanged=<span class="string">&quot;Slider_ValueChanged&quot;</span>/&gt;</span><br><span class="line">                    &lt;controls:CirclePanel x:Name=<span class="string">&quot;circlePanel&quot;</span> Radius=<span class="string">&quot;50&quot;</span> Grid.Row=<span class="string">&quot;1&quot;</span> HorizontalAlignment=<span class="string">&quot;Center&quot;</span> VerticalAlignment=<span class="string">&quot;Center&quot;</span>&gt;</span><br><span class="line">                        &lt;TextBlock&gt;Start here&lt;/TextBlock&gt;</span><br><span class="line">                        &lt;TextBlock&gt;TextBlock 2&lt;/TextBlock&gt;</span><br><span class="line">                        &lt;TextBlock&gt;TextBlock 3&lt;/TextBlock&gt;</span><br><span class="line">                        &lt;TextBlock&gt;TextBlock 4&lt;/TextBlock&gt;</span><br><span class="line">                        &lt;TextBlock&gt;TextBlock 5&lt;/TextBlock&gt;</span><br><span class="line">                        &lt;TextBlock&gt;TextBlock 6&lt;/TextBlock&gt;</span><br><span class="line">                        &lt;TextBlock&gt;TextBlock 7&lt;/TextBlock&gt;</span><br><span class="line">                    &lt;/controls:CirclePanel&gt;</span><br><span class="line">                &lt;/Grid&gt;</span><br><span class="line">            &lt;/PivotItem&gt;</span><br><span class="line"></span><br><span class="line"> private void Slider_ValueChanged(object sender, RangeBaseValueChangedEventArgs e)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (circlePanel!=null)</span><br><span class="line">            &#123;</span><br><span class="line">                circlePanel.Radius = e.NewValue * 10;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

        </div>
        
            <div class="kratos-copyright text-center clearfix">
                <h5>本作品采用 <a rel="license nofollow" target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/">知识共享署名-相同方式共享 4.0 国际许可协议</a> 进行许可</h5>
            </div>
        
        <footer class="kratos-entry-footer clearfix">
            
                <div class="post-like-donate text-center clearfix" id="post-like-donate">
                
                
                    <a class="share" href="javascript:;"><i class="fa fa-share-alt"></i> 分享</a>
                    <div class="share-wrap" style="display: none;">
    <div class="share-group">
        <a href="javascript:;" class="share-plain qq" onclick="share('qq');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-qq"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain qzone" onclick="share('qzone');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-star"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weixin pop style-plain" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weixin"></i>
            </div>
            <div class="share-int">
                <div class="qrcode" id="wechat-qr"></div>
                <p>打开微信“扫一扫”，打开网页后点击屏幕右上角分享按钮</p>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weibo" onclick="share('weibo');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weibo"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain facebook style-plain" onclick="share('facebook');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-facebook"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain twitter style-plain" onclick="share('twitter');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-twitter"></i>
            </div>
        </a>
    </div>
    <script type="text/javascript">
        $(()=>{
            new QRCode("wechat-qr", {
                text: "https://drfengling.github.io/qm/7b676f35.html",
                width: 150,
                height: 150,
                correctLevel : QRCode.CorrectLevel.H
            });
        });
        function share(dest) {
            const qqBase        = "https://connect.qq.com/widget/shareqq/index.html?";
            const weiboBase     = "https://service.weibo.com/share/share.php?";
            const qzoneBase     = "https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?";
            const facebookBase  = "https://www.facebook.com/sharer/sharer.php?";
            const twitterBase   = "https://twitter.com/intent/tweet?";
            const hostUrl       = "https://drfengling.github.io/qm/7b676f35.html";
            const title         = "「深入浅出Windows通用应用程序开发(一)」";
            const excerpt       = `创建Windows 10通用应用创建Hello World项目1.打开vs,New Project,C#,Windows,Universal/UWP,选择一个空白项目模板(Universal Windows),单击OK按钮完成项目的创...`;
            let _URL;
            switch (dest) {
                case "qq"       : _URL = qqBase+"url="+hostUrl+"&title="+title+"&desc=&summary="+excerpt+"&site=cxpy";     break;
                case "weibo"    : _URL = weiboBase+"url="+hostUrl+"&title="+title+excerpt;                                 break;
                case "qzone"    : _URL = qzoneBase+"url="+hostUrl+"&title="+title+"&desc=&summary="+excerpt+"&site=cxpy";  break;
                case "facebook" : _URL = facebookBase+"u="+hostUrl;                                                        break;
                case "twitter"  : _URL = twitterBase+"text="+title+excerpt+"&url="+hostUrl;                                break;
            }
            window.open(_URL);
        };
    </script>
</div>
                
                </div>
            
            <div class="footer-tag clearfix">
                <div class="pull-left">
                <i class="fa fa-tags"></i>
                    <a class="tag-none-link" href="/tags/UWP/" rel="tag">UWP</a>
                </div>
                <div class="pull-date">
                <span>最后编辑：2022-12-05</span>
                </div>
            </div>
        </footer>
    </div>
    
        <nav class="navigation post-navigation clearfix" role="navigation">
            
            <div class="nav-previous clearfix">
                <a title=" WPF-MVVM工具包" href="/qm/88e21dd9.html">&lt; 上一篇</a>
            </div>
            
            
            <div class="nav-next clearfix">
                <a title=" 深入浅出Windows应用程序开发(二)" href="/qm/5bdeb856.html">下一篇 &gt;</a>
            </div>
            
        </nav>
    
    
        <link rel="stylesheet" href="https://unpkg.com/gitalk@1/dist/gitalk.css">
<div id="gitalk-container" class="post-comments lazy-load" style="padding-left:2rem; padding-right:2rem;"></div>
<script>
    var load_comm = () => {
        const init = () => {
            console.log('Gitalk loading...');
            const gitalk = new Gitalk(Object.assign({
                id: '/qm/7b676f35.html',
                path: '/qm/7b676f35.html'
            }, JSON.parse('{"clientID":"67075d9ed7922a3c9791","clientSecret":"50ce067bd2bb3d9e9e48d56804da1a6d25e7bf16","repo":"dryunment","owner":"Drfengling","admin":["Drfengling"],"distractionFreeMode":false}')));

            gitalk.render('gitalk-container');
        }
        if (typeof Gitalk === 'undefined') {
            const src = 'https://unpkg.com/gitalk@1/dist/gitalk.min.js';
            $.getScript(src, init);
        } else {
            init();
        }
    };
load_comm();
</script>
<noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="https://github.com/gitalk/gitalk">comments powered by Gitalk.</a></noscript>
    
</article>

        

            </section>

        
                
            

<section id="kratos-widget-area" class="col-md-4 hidden-xs hidden-sm">
    <!-- 文章和页面根据splitter来分割，没有的话就从头开始设置为sticky -->
    
    
                <aside id="krw-about" class="widget widget-kratos-about clearfix">
    <div class="photo-background"></div>
    <div class="photo-wrapper clearfix">
        <div class="photo-wrapper-tip text-center">
            <img class="about-photo" src="/images/avatar.webp" />
        </div>
    </div>
    <div class="textwidget">
        <p class="text-center"></p>
    </div>
    <div class="site-meta">
        <a class="meta-item" href="/archives/">
            <span class="title">
                文章
            </span>
            <span class="count">
                28
            </span>
        </a>
        <a class="meta-item" href="/categories/">
            <span class="title">
                分类
            </span>
            <span class="count">
                8
            </span>
        </a>
        <a class="meta-item" href="/tags/">
            <span class="title">
                标签
            </span>
            <span class="count">
                15
            </span>
        </a>
    </div>
</aside>
            
                    <div class="sticky-area">
                
                    <aside id="krw-toc" class="widget widget-kratos-toc clearfix">
    <div class="photo-background"></div>
    <h4 class="widget-title no-after">
        <i class="fa fa-compass"></i>
        文章目录
        <span class="toc-progress-bar"></span>
    </h4>
    <div class="textwidget">
        <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAWindows-10%E9%80%9A%E7%94%A8%E5%BA%94%E7%94%A8"><span class="toc-text">创建Windows 10通用应用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAHello-World%E9%A1%B9%E7%9B%AE"><span class="toc-text">创建Hello World项目</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E6%9E%90%E5%BA%94%E7%94%A8"><span class="toc-text">解析应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E5%90%8C%E5%B9%B3%E5%8F%B0%E8%AE%BE%E5%A4%87%E7%9A%84%E9%80%82%E9%85%8D"><span class="toc-text">不同平台设备的适配</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%B9%E5%AE%9A%E5%B9%B3%E5%8F%B0%E7%9A%84API%E8%B0%83%E7%94%A8"><span class="toc-text">特定平台的API调用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%95%8C%E9%9D%A2%E9%80%82%E9%85%8D"><span class="toc-text">界面适配</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#xaml%E7%95%8C%E9%9D%A2%E5%8E%9F%E7%90%86%E5%92%8C%E8%AF%AD%E6%B3%95"><span class="toc-text">xaml界面原理和语法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E5%85%83%E7%B4%A0"><span class="toc-text">对象元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E5%B1%9E%E6%80%A7"><span class="toc-text">设置属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%99%84%E5%8A%A0%E5%B1%9E%E6%80%A7"><span class="toc-text">附加属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%87%E8%AE%B0%E6%89%A9%E5%B1%95"><span class="toc-text">标记扩展</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6"><span class="toc-text">事件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Xaml%E5%8E%9F%E7%90%86"><span class="toc-text">Xaml原理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E5%8A%A0%E8%BD%BDxaml"><span class="toc-text">动态加载xaml</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#XAML%E6%A0%91%E7%BB%93%E6%9E%84"><span class="toc-text">XAML树结构</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E8%A7%86%E5%8C%96%E6%A0%91"><span class="toc-text">可视化树</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%8D%E5%8E%86%E5%8F%AF%E8%A7%86%E5%8C%96%E6%A0%91"><span class="toc-text">遍历可视化树</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A1%86%E6%9E%B6%E5%92%8C%E9%A1%B5%E9%9D%A2"><span class="toc-text">框架和页面</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2%E5%AF%BC%E8%88%AA"><span class="toc-text">页面导航</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%A7%E4%BB%B6%E7%BC%96%E7%A8%8B"><span class="toc-text">控件编程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%83%E5%B1%80%E6%8E%A7%E4%BB%B6"><span class="toc-text">布局控件</span></a></li></ol></li></ol>
    </div>
</aside>
                
                
  <aside id="krw-categories" class="widget widget-kratos-categories clearfix">
    <h4 class="widget-title"><i class="fa fa-folder"></i>分类目录</h4>
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Asp-Net/">Asp.Net</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/C/">C#</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/WPF/">WPF</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Web%E6%9C%8D%E5%8A%A1/">Web服务</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Windows%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/">Windows应用开发</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Windows%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91/">Windows应用程序开发</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%8D%9A%E5%AE%A2%E6%97%A5%E8%AE%B0/">博客日记</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BA%BF%E4%B8%8A%E8%AF%84%E8%AE%BA/">线上评论</a><span class="category-list-count">2</span></li></ul>
  </aside>


            
                
  <aside id="krw-tags" class="widget widget-kratos-tags clearfix">
    <h4 class="widget-title"><i class="fa fa-tags"></i>标签聚合</h4>
      <div class="tag-clouds">
        <a href="/tags/Aplayer/" style="font-size: 0.6em;">Aplayer</a> <a href="/tags/C/" style="font-size: 0.6em;">C#</a> <a href="/tags/GitHub/" style="font-size: 0.7em;">GitHub</a> <a href="/tags/Gitalk/" style="font-size: 0.6em;">Gitalk</a> <a href="/tags/Hexo/" style="font-size: 0.7em;">Hexo</a> <a href="/tags/Nginx/" style="font-size: 0.6em;">Nginx</a> <a href="/tags/Nodejs/" style="font-size: 0.7em;">Nodejs</a> <a href="/tags/UWP/" style="font-size: 0.75em;">UWP</a> <a href="/tags/WCF/" style="font-size: 0.7em;">WCF</a> <a href="/tags/WPF/" style="font-size: 0.8em;">WPF</a> <a href="/tags/livere/" style="font-size: 0.6em;">livere</a> <a href="/tags/%E5%8D%9A%E5%AE%A2%E7%BE%8E%E5%8C%96/" style="font-size: 0.6em;">博客美化</a> <a href="/tags/%E6%97%A5%E8%AE%B0/" style="font-size: 0.6em;">日记</a> <a href="/tags/%E8%A7%86%E9%A2%91/" style="font-size: 0.6em;">视频</a> <a href="/tags/%E9%9F%B3%E4%B9%90/" style="font-size: 0.65em;">音乐</a>
      </div>
  </aside>

            
                
  <aside id="krw-posts" class="widget widget-kratos-posts">
  <h4 class="widget-title"><i class="fa fa-file"></i>最新文章</h4>
  <div class="tab-content">
      <ul class="list-group">
        
        
          
          
            <a class="list-group-item" href="/qm/c33edf33.html"><i class="fa  fa-book"></i> AspNet开发1</a>
            
          
        
          
          
            <a class="list-group-item" href="/qm/8cfe4bab.html"><i class="fa  fa-book"></i> 深入浅出Windows应用开发(四)</a>
            
          
        
          
          
            <a class="list-group-item" href="/qm/50fedeca.html"><i class="fa  fa-book"></i> Windows通用应用程序开发(三)</a>
            
          
        
          
          
            <a class="list-group-item" href="/qm/5bdeb856.html"><i class="fa  fa-book"></i> 深入浅出Windows应用程序开发(二)</a>
            
          
        
          
          
            <a class="list-group-item" href="/qm/7b676f35.html"><i class="fa  fa-book"></i> 深入浅出Windows通用应用程序开发(一)</a>
            
          
        
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
      </ul>
  </div>
  </aside>

            
    </div>
</section>
        
        </div>
    </div>
</div>
<footer>
    <div id="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-6 col-md-offset-3 footer-list text-center">
                    <ul class="kratos-social-icons">
                        
                        <li><a href="mailto:Drfengling@163.com"><i class="fa fa-envelope"></i></a></li>
                        <li><a target="_blank" rel="nofollow" href="https://t.me/CandyUnion"><i class="fa fa-telegram"></i></a></li>
                        
                        
                        
                        <li><a target="_blank" rel="me" href="https://nya.one/@Drfengling"><i class="fa fa fa-share-alt-square"></i></a></li>
                        <li><a target="_blank" rel="nofollow" href="https://github.com/Drfengling"><i class="fa fa-github"></i></a></li>
                        
                    </ul>
                    <ul class="kratos-copyright">
                        <div>
                            <li>&copy; 2023 浅梦博客 版权所有.</li>
                            <li>本站已运行<span id="span_dt">Loading...</span></li>
                        </div>
                        <div>
                            <li>Theme <a href="https://github.com/Candinya/Kratos-Rebirth" target="_blank">Kratos:Rebirth</a></li>
                            <li>Site built with&nbsp;<i class="fa fa-heart throb" style="color:#d43f57"></i>&nbsp;by 浅梦风凌.</li>
                        </div>
                        <div>
                            <li>Powered by <a href="https://hexo.io" target="_blank" rel="nofollow">Hexo</a></li>
                            <li>Hosted on <a href="https://github.io" target="_blank">Github Pages</a></li>
                        </div>
                        <div>
                            <li><a href="https://beian.miit.gov.cn" rel="external nofollow" target="_blank">豫ICP备2022011311号</a></li>
                            
                        </div>
                    </ul>
                </div>
            </div>
        </div>
        <div class="kr-tool text-center">
            <div class="tool">
                
                    <div class="box search-box">
                        <a href="/search/">
                            <span class="fa fa-search"></span>
                        </a>
                    </div>
                
                
                    <div class="box theme-box" id="darkmode-switch">
                        <span class="fa fa-adjust"></span>
                    </div>
                
                
            </div>
            <div class="box gotop-box">
                <span class="fa fa-chevron-up"></span>
            </div>
        </div>
    </div>
</footer>
</div>
</div>

        <script defer src="https://unpkg.com/bootstrap@3.3.4/dist/js/bootstrap.min.js"></script>
<script defer src="https://unpkg.com/nprogress@0.2.0/nprogress.js"></script>
<script>
    if (!window.kr) {
        window.kr = {};
    }
    window.kr.notMobile = (!(navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)));
    window.kr.siteRoot = "/";
</script>

  
<script src="/fancybox/jquery.fancybox.min.js"></script>



    <div>
        <canvas id="snow"></canvas>
        <script async type="text/javascript" src="/js/snow.min.js"></script>
    </div>



<script defer src="https://unpkg.com/clipboard@2.0.6/dist/clipboard.min.js"></script>
<script defer src="/js/kratosr.min.js"></script>
<script defer src="/js/pjax.min.js"></script>



<!-- Extra support for third-party plguins  -->


    </body>

</html>