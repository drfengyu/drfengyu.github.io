<!DOCTYPE html>
<html lang="zh-CN">
    <head>
  <!-- 元数据 -->
  <meta charset="utf-8">
  <link rel="icon" href="/images/favicon.ico">
  <title>浅梦博客</title>
  <meta name="author" content="浅梦风凌" />
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="robots" content="index,follow" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <meta name="format-detection" content="telphone=no, email=no" />
  
    <meta name="keywords" content="" />
  
  <meta property="og:type" content="website">
<meta property="og:title" content="浅梦博客">
<meta property="og:url" content="https://drfengyu.github.io/tags/C/index.html">
<meta property="og:site_name" content="浅梦博客">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://drfengyu.github.io/images/favicon.ico">
<meta property="article:author" content="浅梦风凌">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://drfengyu.github.io/images/favicon.ico">
<meta name="twitter:site" content="@null">
  
  <!-- 站点验证相关 -->
  
    
    
    
  
  <!-- 样式表文件 -->
  <link rel="stylesheet" id="kratos-css" href="/css/kratosr.min.css" type="text/css" media="all">
  
    <link rel="stylesheet" id="darkmode-css" href="/css/kr-color-dark.min.css" type="text/css" media="(prefers-color-scheme: dark)">
    <script src="/js/kr-dark.min.js"></script>
  
  
    <link rel="stylesheet" id="highlight-css" href="/css/highlight/night-eighties.min.css" type="text/css" media="all">
  
  
  <link rel="stylesheet" id="fontawe-css" href="https://unpkg.com/font-awesome@4.7.0/css/font-awesome.min.css" type="text/css" media="all">
  <link rel="stylesheet" id="nprogress-css" href="https://unpkg.com/nprogress@0.2.0/nprogress.css" type="text/css" media="all">
  
  
  <!-- 不得不预先加载的一些JS文件 -->
  <script src="https://unpkg.com/jquery@3.6.0/dist/jquery.min.js"></script>
  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
    <script src="https://unpkg.com/qrcode_js@1.0.0/qrcode.min.js"></script>
  
  
  <style>
    
      .kratos-cover.kratos-cover-2 {
        background-image: url('/images/banner.webp');
      }
    
    
      @media(min-width:768px) {
        body.custom-background {
          background-image: url('/images/bg.webp');
        }
      }
    
  </style>
  
  <script src="/live2d-widget/autoload.js"></script>
<div style="display: none;">
    <script src="https://cdn.jsdelivr.net/npm/aplayer@1.10/dist/APlayer.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/meting@1.2/dist/Meting.min.js"></script>
    <link rel="stylesheet" type='text/css' href="https://cdn.jsdelivr.net/npm/aplayer@1.10/dist/APlayer.min.css">
</div>

<meta name="generator" content="Hexo 5.4.2"><link rel="alternate" href="/atom.xml" title="浅梦博客" type="application/atom+xml">
</head>


    <body class="custom-background">
        <div id="kratos-wrapper">
    <div id="kratos-page">
        <div id="kratos-header">
            <header id="kratos-desktop-topnav" class="kratos-topnav">
                <div class="container">
                    <div class="nav-header">
                        <nav id="kratos-menu-wrap">
                            <ul id="kratos-primary-menu" class="sf-menu">
                                
                                    
                                        <li><a href="/"><i class="fa fa-home"></i>首页</a></li>
                                    
                                
                                    
                                        <li><a href="/archives/"><i class="fa fa-file"></i>档案馆</a></li>
                                    
                                
                                    
                                        <li><a href="/friends/"><i class="fa fa-paw"></i>好伙伴</a></li>
                                    
                                
                                    
                                        <li>
                                            <a><i class="fa fa-link"></i>链接</a>
                                            <ul class="sub-menu">
                                                
                                                    
                                                
                                                    
                                                        <li><a target="_blank" rel="noopener" href="https://drfengling.github.io/">浅梦博客</a></li>
                                                    
                                                
                                                    
                                                        <li><a target="_blank" rel="noopener" href="https://github.com/Drfengling/Drfengling.github.io">项目链接</a></li>
                                                    
                                                
                                            </ul>
                                        </li>
                                    
                                
                                    
                                        <li>
                                            <a><i class="fa fa-music" aria-hidden="true"></i>歌单</a>
                                            <ul class="sub-menu">
                                                
                                                    
                                                
                                                    
                                                        <li><a href="/playlist/">飙升榜</a></li>
                                                    
                                                
                                            </ul>
                                        </li>
                                    
                                
                            </ul>
                        </nav>
                    </div>
                </div>
            </header>
            <header id="kratos-mobile-topnav" class="kratos-topnav">
                <div class="container">
                    <div class="color-logo"><a href="/">浅梦博客</a></div>
                    <div class="nav-toggle">
                        <a class="kratos-nav-toggle js-kratos-nav-toggle">
                            <i></i>
                        </a>
                    </div>
                </div>
            </header>
        </div>
        <div class="kratos-start kratos-hero-2">
            <!-- <div class="kratos-overlay"></div> -->
            <div class="kratos-cover kratos-cover-2 text-center">
                <div class="desc desc2 animate-box">
                    <a href="/">
                        <h2>浅梦博客</h2> <br />
                        <span></span>
                    </a>
                </div>
            </div>
        </div>

        <div id="kratos-blog-post">
            <div class="container">
                <div id="main" class="row">
                    

        

            <section class="col-md-8">

        

            <!-- Breadcrumb for tag & category page -->

    <article class="kratos-hentry kratos-entry-border-new clearfix">
        <div class="kratos-breadcrumb">
            <a href="/">
                <i class="fa fa-home"></i>
            </a>
            <i class="fa fa-angle-right"></i>
            
                <a href="/tags/">
                    标签
                </a>
                <i class="fa fa-angle-right"></i>
                <a href="/tags/C#">
                    C#
                </a>
            
            
        </div>
    </article>




    
    
        <article>
            <div class="kratos-hentry kratos-post-inner clearfix index-post">
                <div class="kratos-entry-thumb-new">
                    <a href="/qm/c33edf33.html">
                        
                    </a>
                </div>
                <header class="kratos-entry-header">
                    <h1 class="text-center"><a class="kratos-entry-title" href="/qm/c33edf33.html">AspNet开发1</a></h1>
                    
                    <ul class="kratos-post-meta text-center">
                        <li>
                            <i class="fa fa-calendar"></i>
                            2023-01-04
                        </li>
                        
                            <li>
                                <i class="fa fa-folder"></i>
                                分类于
                                <a class="label-link" href="/categories/Asp-Net/">Asp.Net</a>
                            </li>
                        
                        
                            <li>
                                <i class="fa fa-tags"></i>
                                <a class="tag-none-link" href="/tags/C/" rel="tag">C#</a>
                            </li>
                        
                        
                            <!-- 当前仅支持valine/waline自带的统计功能 -->
                            
                        
                        
                            <!-- 当前仅支持waline自带的统计功能 -->
                            
                        
                    </ul>
                </header>
                <hr />
                <div class="kratos-post-content">
                    <h4 id="ASP-NET网页语法"><a href="#ASP-NET网页语法" class="headerlink" title="ASP.NET网页语法"></a>ASP.NET网页语法</h4><h3 id="ASP-NET网页扩展名"><a href="#ASP-NET网页扩展名" class="headerlink" title="ASP.NET网页扩展名"></a>ASP.NET网页扩展名</h3><p>文件                扩展名<br>Web用户控件      .ascx<br>HTML页        .htm<br>XML页        .xml<br>母版页        .master<br>Web服务        .asmx<br>全局应用程序类    .asax<br>Web配置文件    .config<br>网站地图        .sitemap<br>外观文件        .skin<br>样式表        .css</p>
<h3 id="页面指令"><a href="#页面指令" class="headerlink" title="页面指令"></a>页面指令</h3><p>ASP.NET页面中前几行一般是&lt;%@…%&gt;这样的代码,这叫做页面指令,用来定义ASP.NET页分析器和编译器使用的特定于该页的一些定义.在.aspx文件中使用的页面指令一般有以下几种:<br>1.&lt;%@Page%&gt;<br>2.&lt;%@Import Namespace=”Value”%&gt;<br>3.&lt;%@OutputCache%&gt;<br>4.&lt;%@Implements Interface=”接口名称”%&gt;<br>5.&lt;%@Register%&gt;</p>
<h3 id="ASPX文件内容注释"><a href="#ASPX文件内容注释" class="headerlink" title="ASPX文件内容注释"></a>ASPX文件内容注释</h3><p>服务端注释&lt;%-注释内容-%&gt;,允许开发人员在ASP.Net应用程序文件的任何部分(除了<script>代码块内部)嵌入代码注释.<br>如果<script>代码块中的代码需要注释,则使用HTML代码中的注释(<!--注释内容//-->)</p>
<h3 id="服务器端文件包含"><a href="#服务器端文件包含" class="headerlink" title="服务器端文件包含"></a>服务器端文件包含</h3><p>服务器端文件包含用于将指定文件的内容插入ASP.NET文件中,这些文件包含网页(.aspx文件),用户控件文件(.ascx文件)和Global.ascx文件.包含文件是在编译之前被包含的文件按原始格式插入到原始位置,相当于两个文件组合为一个文件,两个文件的内容必须符合.aspx文件的要求.<br>语法:</p>
<!-- #include file|virtual="filename"-->
<p>例如,使用服务器端包含指令语法调用将在Asp.net页上创建页眉的文件,这里使用的是相对路径</p>
<html>
<body>
<!-- #Include virtual="/include/header.ascx" -->
</body>
</html>
### HTML服务器控件语法
默认情况下,Asp.net文件中的HTML元素作为文本进行处理,页面开发人员无法在服务器端访问文件中的HTML元素,要使这些元素可以被服务器端访问,必须将HTML元素作为服务器控件进行分析和处理,这可以通过为HTML元素添加runat="server"属性来完成,服务器端通过HTML元素的id属性引用该控件
语法:
<控件名 id="名称" ...runbat="server">
例如:
<body>
<form id="form1" runbat="server">
<input id="btnRed" type="button" value="Red" onclick="return btnRed_onClick()"/>
</form>
</body>
### ASP.NET服务器控件语法
ASP.NET服务器控件比HTML服务器控件具有更多内置功能,web服务器控件不仅包含窗体控件(如按钮和文本框),而且还包括特殊用途的控件(如日历,菜单和树视图控件).Web服务器控件不仅包括窗体控件(如按钮和文本框),而且还包括特殊用途的控件(如日历,菜单和树视图控件),Web服务器控件与Html服务器控件相比更为抽象,因为其对象模型不一定反映HTML语法.
语法如下:
<asp:控件名 ID="名称" ...组件的其他属性... runbat="server"/>
例如:
<form id="form1" runbat="server">
<div>
<asp:Button ID="btnTest" runbat="server" Text="服务器按钮控件"/>
</div>
</form>
### 代码块语法
代码块语法是定义网页呈现时所执行的内嵌代码.定义内嵌代码的语法标记元素为:
<%内嵌代码%>
例如:
<form id="form1" runbat="server">
<%if(DateTime.Now.Hour<12)%>
上午好
<%else%>
下午好
</form>
#### 制作一个ASP.NET网站
### 设计Web页面
1.加入Asp.net网页
2.布局Asp.net网页
3.添加服务器控件
### 添加Asp.net文件夹
文件夹        说明
Bin        包含程序所需的所有已编译程序集(.dll文件).应用程序中自动引用Bin文件夹中的代码所表示的任何类
APP_Code    包含页使用的类(如.cs .vb .jsl文件)的源代码
App_GlobalResources包含编译到具有全局范围的程序集中的资源(.resx和.resources文件)
App_LocalResources 包含与应用程序中的特定页,用户控件或母版页关联的资源(.resx和.resources文件)
App_WebReferences 包含用于定义在应用程序中使用的Web引用的引用协定文件(.wsdl),架构(.xsd)和发现文档文件(.disco和.discomap文件)
App_Browers    包含Asp.net用于标识个别浏览器并确定其功能的浏览器定义(.browser)文件
主题        包含用于定义Asp.NET网页额和控件外观的文件集合(.skin和.css,图像文件及一般资源)

<h5 id="ASP-NET开发实例大全-提高卷"><a href="#ASP-NET开发实例大全-提高卷" class="headerlink" title="ASP.NET开发实例大全 提高卷"></a>ASP.NET开发实例大全 提高卷</h5><h4 id="ASP-NET网络开发常备技术"><a href="#ASP-NET网络开发常备技术" class="headerlink" title="ASP.NET网络开发常备技术"></a>ASP.NET网络开发常备技术</h4><p>1.1.正则表达式<br>001.使用正则表达式验证电话号码<br>关键技术<br>本实例主要用到Regex类的IsMatch方法用于指示正则表达式使用pattern参数中指定的正则表达式是否在输入字符串中找到匹配项<br>1.input:字符串对象,表示要搜索匹配项的字符串<br>2.pattern:字符串对象,表示要匹配的正则表达式模式<br>3.bool:方法返回布尔值,如果正则表达式找到匹配项,则返回true,否则false<br>设计过程<br>1.打开vs,新建一个网站,命名为Validatephone，默认主页为Default.aspx.<br>2.在Default.aspx页面中添加一个TextBox控件,用于输入电话号码,添加一个Button,用于验证电话号码</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ Page Language=<span class="string">&quot;C#&quot;</span> AutoEventWireup=<span class="string">&quot;true&quot;</span> CodeFile=<span class="string">&quot;Default.aspx.cs&quot;</span> Inherits=<span class="string">&quot;_Default&quot;</span> %&gt;</span><br><span class="line"></span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line"></span><br><span class="line">&lt;html xmlns=<span class="string">&quot;http://www.w3.org/1999/xhtml&quot;</span>&gt;</span><br><span class="line">&lt;<span class="built_in">head</span> runat=<span class="string">&quot;server&quot;</span>&gt;</span><br><span class="line">&lt;meta http-equiv=<span class="string">&quot;Content-Type&quot;</span> content=<span class="string">&quot;text/html; charset=utf-8&quot;</span>/&gt;</span><br><span class="line">    &lt;title&gt;&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;form <span class="built_in">id</span>=<span class="string">&quot;form1&quot;</span> runat=<span class="string">&quot;server&quot;</span>&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;asp:Label ID=<span class="string">&quot;Label1&quot;</span> Font-Size=<span class="string">&quot;16px&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&quot;电话号码:&quot;</span>&gt;&lt;/asp:Label&gt;</span><br><span class="line"></span><br><span class="line">        &lt;asp:TextBox ID=<span class="string">&quot;TextBox1&quot;</span> runat=<span class="string">&quot;server&quot;</span>&gt;&lt;/asp:TextBox&gt;</span><br><span class="line">        &lt;br /&gt;</span><br><span class="line">        &lt;br /&gt;</span><br><span class="line">        &lt;asp:Label ID=<span class="string">&quot;Label2&quot;</span> Font-Size=<span class="string">&quot;16px&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&quot;号码格式:&quot;</span>&gt;&lt;/asp:Label&gt;</span><br><span class="line"></span><br><span class="line">        XXXX-XXXXXXXX&lt;br /&gt;</span><br><span class="line">        &lt;asp:Button ID=<span class="string">&quot;Button1&quot;</span>  runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&quot;电话验证&quot;</span> OnClick=<span class="string">&quot;Button1_Click&quot;</span> /&gt;</span><br><span class="line"></span><br><span class="line">       </span><br><span class="line"></span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line">using System;</span><br><span class="line">using System.Text.RegularExpressions;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">public partial class _Default : System.Web.UI.Page</span><br><span class="line">&#123;</span><br><span class="line">    protected void Page_Load(object sender, EventArgs e)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    protected void Button1_Click(object sender, EventArgs e)</span><br><span class="line">    &#123;</span><br><span class="line">       <span class="keyword">if</span>(isTelePhone(TextBox1.Text.Trim()))&#123;</span><br><span class="line">           </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">           </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    public bool isTelePhone(string str_telephone) &#123;</span><br><span class="line">        <span class="built_in">return</span> Regex.IsMatch(str_telephone,@<span class="string">&quot;^(\d&#123;3,4&#125;-)?\d&#123;6,8&#125;$&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>秘笈心法<br>正则表达式中“^”用于匹配行首,如果正则表达式匹配以First开头的行,则正则表达式如下:<br>^First<br>002.使用正则表达式验证输入密码条件<br>关键技术<br>[A-Za-z]表示匹配一个大写或小写的字母;+表示最少匹配一个大写或小写字母,[0-9]表示匹配一个数字</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">  &lt;div class=<span class="string">&quot;col-md-4&quot;</span>&gt;</span><br><span class="line">            &lt;h2&gt;使用正则表达式验证密码输入条件&lt;/h2&gt;</span><br><span class="line">            &lt;p&gt;</span><br><span class="line">               密码必须由数字和26个英文字母组成的密码字符</span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">            &lt;p&gt;</span><br><span class="line">                密码: </span><br><span class="line">                &lt;asp:TextBox ID=<span class="string">&quot;TextBox1&quot;</span> runat=<span class="string">&quot;server&quot;</span> Height=<span class="string">&quot;16px&quot;</span> Width=<span class="string">&quot;248px&quot;</span>&gt;&lt;/asp:TextBox&gt;</span><br><span class="line">            &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;</span><br><span class="line">                &lt;asp:Button ID=<span class="string">&quot;Button1&quot;</span> runat=<span class="string">&quot;server&quot;</span> OnClick=<span class="string">&quot;Button1_Click&quot;</span> Text=<span class="string">&quot;验证密码&quot;</span> Width=<span class="string">&quot;181px&quot;</span> /&gt;</span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">             &lt;p&gt;</span><br><span class="line">                 </span><br><span class="line">                 &lt;asp:Label ID=<span class="string">&quot;Label1&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&quot; &quot;</span>&gt;&lt;/asp:Label&gt;</span><br><span class="line">                 </span><br><span class="line">                 &lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">protected void Button1_Click(object sender, EventArgs e)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (IsPassword(TextBox1.Text))</span><br><span class="line">        &#123;</span><br><span class="line">            Label1.Text = <span class="string">&quot;密码格式正确!&quot;</span>;</span><br><span class="line">            Label1.ForeColor = Color.Green;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            Label1.Text = <span class="string">&quot;密码格式错误!&quot;</span>;</span><br><span class="line">            Label1.ForeColor = Color.Red;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> public bool IsPassword(string str_password) &#123;</span><br><span class="line">        <span class="built_in">return</span> Regex.IsMatch(str_password,@<span class="string">&quot;[A-Za-z]+[0-9]&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>秘笈心法<br>正则表达式中匹配位置的元字符“$”<br>正则表达式中”$”用于匹配行尾,如果正则表达式匹配以End结尾的行,则正则表达式如下:<br>End$<br>003.使用正则表达式验证邮政编码<br>关键技术<br>“^\d{6}$”其中^表示匹配行开始,\d表示匹配数字,{6}是限定符,表示匹配6个数字,$表示匹配行结束.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=<span class="string">&quot;col-md-4&quot;</span>&gt;</span><br><span class="line">            &lt;h2&gt;3.使用正则表达式验证邮政编码&lt;/h2&gt;</span><br><span class="line">            &lt;p&gt;</span><br><span class="line">               邮政编码:</span><br><span class="line">                &lt;asp:TextBox ID=<span class="string">&quot;TextBox3&quot;</span> runat=<span class="string">&quot;server&quot;</span> Height=<span class="string">&quot;16px&quot;</span> Width=<span class="string">&quot;248px&quot;</span>&gt;&lt;/asp:TextBox&gt;</span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">            &lt;p&gt;</span><br><span class="line">                &lt;asp:Button ID=<span class="string">&quot;Button3&quot;</span> runat=<span class="string">&quot;server&quot;</span> OnClick=<span class="string">&quot;Button3_Click&quot;</span> Text=<span class="string">&quot;验证邮政编码&quot;</span> Width=<span class="string">&quot;181px&quot;</span> /&gt;</span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">             &lt;p&gt;</span><br><span class="line">                 </span><br><span class="line">                 &lt;asp:Label ID=<span class="string">&quot;Label3&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&quot; &quot;</span>&gt;&lt;/asp:Label&gt;</span><br><span class="line">                 </span><br><span class="line">                 &lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line"> protected void Button3_Click(object sender, EventArgs e)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (IsPostalCode(TextBox3.Text))</span><br><span class="line">        &#123;</span><br><span class="line">            Label3.Text = <span class="string">&quot;邮政编码格式正确!&quot;</span>;</span><br><span class="line">            Label3.ForeColor = Color.Green;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            Label3.Text = <span class="string">&quot;邮政编码格式错误!&quot;</span>;</span><br><span class="line">            Label3.ForeColor = Color.Red;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> public bool IsPostalCode(string str_postalCode) &#123;</span><br><span class="line">        <span class="built_in">return</span> Regex.IsMatch(str_postalCode,@<span class="string">&quot;^\d&#123;6&#125;$&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>秘笈心法<br>正则表达式中匹配字符的元字符“\w”和“\W”<br>正则表达式中“\w”用于匹配单词字符,单词字符包括汉字,字母,数字和下划线;”\W”用于匹配任意的非单词字符.<br>004.使用正则表达式验证手机号<br>“^[1][3-5]\d{9}$”正则表达式,其中[1]表示匹配一个数字1;[3-5]表示匹配数字3,4,5中的任何一个数字,\d表示匹配数字,{9}是限定符,表示匹配9个数字</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=<span class="string">&quot;col-md-4&quot;</span>&gt;</span><br><span class="line">           &lt;h2&gt;4.使用正则表达式验证手机号&lt;/h2&gt;</span><br><span class="line">           &lt;p&gt;</span><br><span class="line">              手机号:</span><br><span class="line">               &lt;asp:TextBox ID=<span class="string">&quot;TextBox4&quot;</span> runat=<span class="string">&quot;server&quot;</span> Height=<span class="string">&quot;16px&quot;</span> Width=<span class="string">&quot;256px&quot;</span>&gt;&lt;/asp:TextBox&gt;</span><br><span class="line">           &lt;/p&gt;</span><br><span class="line">          </span><br><span class="line">            &lt;p&gt;</span><br><span class="line">               &lt;asp:Button ID=<span class="string">&quot;Button4&quot;</span> runat=<span class="string">&quot;server&quot;</span> OnClick=<span class="string">&quot;Button4_Click&quot;</span> Text=<span class="string">&quot;手机号验证&quot;</span> Width=<span class="string">&quot;181px&quot;</span> /&gt;</span><br><span class="line">           &lt;/p&gt;</span><br><span class="line">            &lt;p&gt;</span><br><span class="line">                </span><br><span class="line">                &lt;asp:Label ID=<span class="string">&quot;Label4&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&quot; &quot;</span>&gt;&lt;/asp:Label&gt;</span><br><span class="line">                </span><br><span class="line">                &lt;/p&gt;</span><br><span class="line">       &lt;/div&gt;</span><br><span class="line">protected void Button4_Click(object sender, EventArgs e)</span><br><span class="line">   &#123;</span><br><span class="line">       <span class="keyword">if</span> (isUsePhone(TextBox4.Text))</span><br><span class="line">       &#123;</span><br><span class="line">           Label4.Text = <span class="string">&quot;手机号格式正确!&quot;</span>;</span><br><span class="line">           Label4.ForeColor = Color.Green;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">else</span></span><br><span class="line">       &#123;</span><br><span class="line">           Label4.Text = <span class="string">&quot;手机号格式错误!&quot;</span>;</span><br><span class="line">           Label4.ForeColor = Color.Red;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">public bool isUsePhone(string str_usePhone) &#123;</span><br><span class="line"></span><br><span class="line">       //^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d&#123;8&#125;$</span><br><span class="line">       //^[1]((3[\d])|(4[5,6,9])|(5[0-3,5-9])|(6[5-7])|(7[0-8])|(8[1-3,5-8])|(9[1,8,9]))\d&#123;8&#125;$</span><br><span class="line">       <span class="built_in">return</span> Regex.IsMatch(str_usePhone, @<span class="string">&quot;^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d&#123;8&#125;$&quot;</span>);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<p>秘笈心法<br>正则表达式中匹配字符的元字符”\s”和”\S”.<br>正则表达式中”\s”用于匹配任意的空白字符,包括换行符,空格,制表符等,”\S”用于匹配任意的非空白字符.<br>005.使用正则表达式验证身份证号<br>关键技术<br>“(^\d{18}$)|(^\d{15}$)”</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">  &lt;div class=<span class="string">&quot;col-md-4&quot;</span>&gt;</span><br><span class="line">            &lt;h2&gt;5.使用正则表达式验证身份证号&lt;/h2&gt;</span><br><span class="line">            &lt;p&gt;</span><br><span class="line">               身份证号:</span><br><span class="line">                &lt;asp:TextBox ID=<span class="string">&quot;TextBox5&quot;</span> runat=<span class="string">&quot;server&quot;</span> Height=<span class="string">&quot;16px&quot;</span> Width=<span class="string">&quot;256px&quot;</span>&gt;&lt;/asp:TextBox&gt;</span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">           </span><br><span class="line">             &lt;p&gt;</span><br><span class="line">                &lt;asp:Button ID=<span class="string">&quot;Button5&quot;</span> runat=<span class="string">&quot;server&quot;</span> OnClick=<span class="string">&quot;Button5_Click&quot;</span> Text=<span class="string">&quot;身份证号验证&quot;</span> Width=<span class="string">&quot;181px&quot;</span> /&gt;</span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">             &lt;p&gt;</span><br><span class="line">                 </span><br><span class="line">                 &lt;asp:Label ID=<span class="string">&quot;Label5&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&quot; &quot;</span>&gt;&lt;/asp:Label&gt;</span><br><span class="line">                 </span><br><span class="line">                 &lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">protected void Button5_Click(object sender, EventArgs e)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (isIDCard(TextBox5.Text))</span><br><span class="line">        &#123;</span><br><span class="line">            Label5.Text = <span class="string">&quot;身份证号格式正确!&quot;</span>;</span><br><span class="line">            Label5.ForeColor = Color.Green;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            Label5.Text = <span class="string">&quot;身份证号格式错误!&quot;</span>;</span><br><span class="line">            Label5.ForeColor = Color.Red;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> public bool isIDCard(string str_IDCard) &#123;</span><br><span class="line">        <span class="built_in">return</span> Regex.IsMatch(str_IDCard,@<span class="string">&quot;(^\d&#123;18&#125;$)|(^\d&#123;15&#125;$)&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>秘笈心法<br>正则表达式中匹配字符的元字符“\d”和“\D”<br>“\d”用于匹配任意的数字,数字包括了0,1,2,3,4,5,6,7,8,9;”\D”用于匹配任意的非数字字符<br>006.使用正则表达式验证两位小数<br>关键技术<br>“^[0-9]+.[0-9]{2}$”正则表达式,其中[0-9]+表示匹配一个或多个数字,.表示匹配小数点,[0-9]{2}表示匹配两个数字.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">  &lt;div class=<span class="string">&quot;col-md-4&quot;</span>&gt;</span><br><span class="line">            &lt;h2&gt;6.使用正则表达式验证两位小数&lt;/h2&gt;</span><br><span class="line">            &lt;p&gt;</span><br><span class="line">               小数:</span><br><span class="line">                &lt;asp:TextBox ID=<span class="string">&quot;TextBox6&quot;</span> runat=<span class="string">&quot;server&quot;</span> Height=<span class="string">&quot;16px&quot;</span> Width=<span class="string">&quot;256px&quot;</span>&gt;&lt;/asp:TextBox&gt;</span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">           </span><br><span class="line">             &lt;p&gt;</span><br><span class="line">                &lt;asp:Button ID=<span class="string">&quot;Button6&quot;</span> runat=<span class="string">&quot;server&quot;</span> OnClick=<span class="string">&quot;Button6_Click&quot;</span> Text=<span class="string">&quot;小数验证&quot;</span> Width=<span class="string">&quot;181px&quot;</span> /&gt;</span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">             &lt;p&gt;</span><br><span class="line">                 </span><br><span class="line">                 &lt;asp:Label ID=<span class="string">&quot;Label6&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&quot; &quot;</span>&gt;&lt;/asp:Label&gt;</span><br><span class="line">                 </span><br><span class="line">                 &lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line"> protected void Button6_Click(object sender, EventArgs e)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (isXiaoShu(TextBox6.Text))</span><br><span class="line">        &#123;</span><br><span class="line">            Label6.Text = <span class="string">&quot;小数格式正确!&quot;</span>;</span><br><span class="line">            Label6.ForeColor = Color.Green;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            Label6.Text = <span class="string">&quot;小数格式错误!&quot;</span>;</span><br><span class="line">            Label6.ForeColor = Color.Red;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">public bool isXiaoShu(string str_Xiaoshu) &#123;</span><br><span class="line">        <span class="built_in">return</span> Regex.IsMatch(str_Xiaoshu,@<span class="string">&quot;^[0-9]+\.[0-9]&#123;2&#125;$&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>秘笈心法<br>正则表达式中匹配元字符”.”.<br>正则表达式中“.”用于匹配除换行符以外的任意字符,例如,正则表达式”^…$”匹配了字符串“abc”,同时也会匹配123和”_la“.<br>007.使用正则表达式验证一年的12个月份<br>关键技术<br>“^(0?[1-9]|1[0-2])$”正则表达式,其中0？表示匹配零个或1个”0“:[1-9]表示匹配数字1-9,1[0-2]表示匹配数字10，11，12</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"> &lt;div class=<span class="string">&quot;col-md-4&quot;</span>&gt;</span><br><span class="line">            &lt;h2&gt;7.使用正则表达式验证一年的12个月份&lt;/h2&gt;</span><br><span class="line">            &lt;p&gt;</span><br><span class="line">               输入月份信息:</span><br><span class="line">                &lt;asp:TextBox ID=<span class="string">&quot;TextBox7&quot;</span> runat=<span class="string">&quot;server&quot;</span> Height=<span class="string">&quot;16px&quot;</span> Width=<span class="string">&quot;256px&quot;</span>&gt;&lt;/asp:TextBox&gt;</span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">           </span><br><span class="line">             &lt;p&gt;</span><br><span class="line">                &lt;asp:Button ID=<span class="string">&quot;Button7&quot;</span> runat=<span class="string">&quot;server&quot;</span> OnClick=<span class="string">&quot;Button7_Click&quot;</span> Text=<span class="string">&quot;月份验证&quot;</span> Width=<span class="string">&quot;181px&quot;</span> /&gt;</span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">             &lt;p&gt;</span><br><span class="line">                 </span><br><span class="line">                 &lt;asp:Label ID=<span class="string">&quot;Label7&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&quot; &quot;</span>&gt;&lt;/asp:Label&gt;</span><br><span class="line">                 </span><br><span class="line">                 &lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line"> protected void Button7_Click(object sender, EventArgs e)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (isMonth(TextBox7.Text))</span><br><span class="line">        &#123;</span><br><span class="line">            Label7.Text = <span class="string">&quot;月份格式正确!&quot;</span>;</span><br><span class="line">            Label7.ForeColor = Color.Green;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            Label7.Text = <span class="string">&quot;月份格式错误!&quot;</span>;</span><br><span class="line">            Label7.ForeColor = Color.Red;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">public bool isMonth(string str_month) &#123;</span><br><span class="line">        <span class="built_in">return</span> Regex.IsMatch(str_month,@<span class="string">&quot;^(0?[1-9]|1[0-2])$&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>秘笈心法<br>正则表达式中的限定符”!”<br>正则表达式中的每一个元字符都只能匹配一个字符,如果要匹配多个字符时,则需要使用限定符,限定符用于指定字符自身重复出现的次数<br>008.使用正则表达式验证一个月的31天<br>“^((0?[1-9])|[1-2][0-9]|3[0-1])$”其中0？表示匹配0个或1个0,[1-9]表示匹配数字1-9,（1|2）表示匹配1或2,30|31表示匹配数字30或31.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">  &lt;div class=<span class="string">&quot;col-md-4&quot;</span>&gt;</span><br><span class="line">            &lt;h2&gt;8.使用正则表达式验证一个月的31天&lt;/h2&gt;</span><br><span class="line">            &lt;p&gt;</span><br><span class="line">               输入天数信息:</span><br><span class="line">                &lt;asp:TextBox ID=<span class="string">&quot;TextBox8&quot;</span> runat=<span class="string">&quot;server&quot;</span> Height=<span class="string">&quot;16px&quot;</span> Width=<span class="string">&quot;256px&quot;</span>&gt;&lt;/asp:TextBox&gt;</span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">           </span><br><span class="line">             &lt;p&gt;</span><br><span class="line">                &lt;asp:Button ID=<span class="string">&quot;Button8&quot;</span> runat=<span class="string">&quot;server&quot;</span> OnClick=<span class="string">&quot;Button8_Click&quot;</span> Text=<span class="string">&quot;天数验证&quot;</span> Width=<span class="string">&quot;181px&quot;</span> /&gt;</span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">             &lt;p&gt;</span><br><span class="line">                 </span><br><span class="line">                 &lt;asp:Label ID=<span class="string">&quot;Label8&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&quot; &quot;</span>&gt;&lt;/asp:Label&gt;</span><br><span class="line">                 </span><br><span class="line">                 &lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">protected void Button8_Click(object sender, EventArgs e)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (isDay(TextBox8.Text))</span><br><span class="line">        &#123;</span><br><span class="line">            Label8.Text = <span class="string">&quot;天数格式正确!&quot;</span>;</span><br><span class="line">            Label8.ForeColor = Color.Green;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            Label8.Text = <span class="string">&quot;天数格式错误!&quot;</span>;</span><br><span class="line">            Label8.ForeColor = Color.Red;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> public bool isDay(string str_day) &#123;</span><br><span class="line">        <span class="built_in">return</span> Regex.IsMatch(str_day,@<span class="string">&quot;^((0?[1-9])|[1-2][0-9]|3[0-1])$&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>秘笈心法<br>正则表达式中的”?”限定符.<br>正则表达式中的”?”限定符用于限定指定的字符出现0次或1次.<br>^abc?$<br>上面的正则表达式可以匹配字符串abc和ab.表达式c?表示字母c可以出现1次或不出现.<br>009.使用正则表达式验证数字输入<br>关键技术<br>”^[0-9]*$“，[0-9]*表示匹配0个至多个数字</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">   &lt;div class=<span class="string">&quot;col-md-4&quot;</span>&gt;</span><br><span class="line">            &lt;h2&gt;9.使用正则表达式验证数字输入&lt;/h2&gt;</span><br><span class="line">            &lt;p&gt;</span><br><span class="line">               输入数字:</span><br><span class="line">                &lt;asp:TextBox ID=<span class="string">&quot;TextBox9&quot;</span> runat=<span class="string">&quot;server&quot;</span> Height=<span class="string">&quot;16px&quot;</span> Width=<span class="string">&quot;256px&quot;</span>&gt;&lt;/asp:TextBox&gt;</span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">           </span><br><span class="line">             &lt;p&gt;</span><br><span class="line">                &lt;asp:Button ID=<span class="string">&quot;Button9&quot;</span> runat=<span class="string">&quot;server&quot;</span> OnClick=<span class="string">&quot;Button9_Click&quot;</span> Text=<span class="string">&quot;数字验证&quot;</span> Width=<span class="string">&quot;181px&quot;</span> /&gt;</span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">             &lt;p&gt;</span><br><span class="line">                 </span><br><span class="line">                 &lt;asp:Label ID=<span class="string">&quot;Label9&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&quot; &quot;</span>&gt;&lt;/asp:Label&gt;</span><br><span class="line">                 </span><br><span class="line">                 &lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">protected void Button9_Click(object sender, EventArgs e)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (isNumber(TextBox9.Text))</span><br><span class="line">        &#123;</span><br><span class="line">            Label9.Text = <span class="string">&quot;数字格式正确!&quot;</span>;</span><br><span class="line">            Label9.ForeColor = Color.Green;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            Label9.Text = <span class="string">&quot;数字格式错误!&quot;</span>;</span><br><span class="line">            Label9.ForeColor = Color.Red;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">public bool isNumber(string str_number) &#123;</span><br><span class="line">        <span class="built_in">return</span> Regex.IsMatch(str_number,@<span class="string">&quot;^[0-9]*$&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>正则表达式中的“<em>”限定符<br>用于限定指定字符至少出现0次<br>^abc</em>$<br>上面的正则表达式可以匹配字符串ab,abc,abcc等.表达式c*表示字母c可以出现0次或无数次.<br>010.使用正则表达式验证密码长度<br>关键技术<br>“^\d[6,18]$”正则表达式,其中\d{6,18}表示匹配6-18个数字.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">   &lt;div class=<span class="string">&quot;col-md-4&quot;</span>&gt;</span><br><span class="line">            &lt;h2&gt;10.使用正则表达式验证密码长度&lt;/h2&gt;</span><br><span class="line">            &lt;p&gt;</span><br><span class="line">               输入密码:</span><br><span class="line">                &lt;asp:TextBox ID=<span class="string">&quot;TextBox10&quot;</span> runat=<span class="string">&quot;server&quot;</span> Height=<span class="string">&quot;16px&quot;</span> Width=<span class="string">&quot;256px&quot;</span>&gt;&lt;/asp:TextBox&gt;</span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">           </span><br><span class="line">             &lt;p&gt;</span><br><span class="line">                &lt;asp:Button ID=<span class="string">&quot;Button10&quot;</span> runat=<span class="string">&quot;server&quot;</span> OnClick=<span class="string">&quot;Button10_Click&quot;</span> Text=<span class="string">&quot;密码验证&quot;</span> Width=<span class="string">&quot;181px&quot;</span> /&gt;</span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">             &lt;p&gt;</span><br><span class="line">                 </span><br><span class="line">                 &lt;asp:Label ID=<span class="string">&quot;Label10&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&quot; &quot;</span>&gt;&lt;/asp:Label&gt;</span><br><span class="line">                 </span><br><span class="line">                 &lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line"> protected void Button10_Click(object sender, EventArgs e)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (IsPasswLength(TextBox10.Text))</span><br><span class="line">        &#123;</span><br><span class="line">            Label10.Text = <span class="string">&quot;密码格式正确!&quot;</span>;</span><br><span class="line">            Label10.ForeColor = Color.Green;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            Label10.Text = <span class="string">&quot;密码格式错误!&quot;</span>;</span><br><span class="line">            Label10.ForeColor = Color.Red;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">public bool IsPasswLength(string str_Length) &#123;</span><br><span class="line">        <span class="built_in">return</span> Regex.IsMatch(str_Length,@<span class="string">&quot;^\d&#123;6,18&#125;$&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>011.使用正则表达式验证非零正整数<br>“^+?[1-9][0-9]*$”，其中+?表示匹配零个或一个正号”+”，[0-9]*表示匹配零个或多个数字.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=<span class="string">&quot;col-md-4&quot;</span>&gt;</span><br><span class="line">           &lt;h2&gt;11.使用正则表达式验证非零正整数&lt;/h2&gt;</span><br><span class="line">           &lt;p&gt;</span><br><span class="line">              输入数值:</span><br><span class="line">               &lt;asp:TextBox ID=<span class="string">&quot;TextBox11&quot;</span> runat=<span class="string">&quot;server&quot;</span> Height=<span class="string">&quot;16px&quot;</span> Width=<span class="string">&quot;256px&quot;</span>&gt;&lt;/asp:TextBox&gt;</span><br><span class="line">           &lt;/p&gt;</span><br><span class="line">          </span><br><span class="line">            &lt;p&gt;</span><br><span class="line">               &lt;asp:Button ID=<span class="string">&quot;Button11&quot;</span> runat=<span class="string">&quot;server&quot;</span> OnClick=<span class="string">&quot;Button11_Click&quot;</span> Text=<span class="string">&quot;正数验证&quot;</span> Width=<span class="string">&quot;181px&quot;</span> /&gt;</span><br><span class="line">           &lt;/p&gt;</span><br><span class="line">            &lt;p&gt;</span><br><span class="line">                </span><br><span class="line">                &lt;asp:Label ID=<span class="string">&quot;Label11&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&quot; &quot;</span>&gt;&lt;/asp:Label&gt;</span><br><span class="line">                </span><br><span class="line">                &lt;/p&gt;</span><br><span class="line">       &lt;/div&gt;</span><br><span class="line">protected void Button11_Click(object sender, EventArgs e)</span><br><span class="line">   &#123;</span><br><span class="line">       <span class="keyword">if</span> (IsIntNumber(TextBox11.Text))</span><br><span class="line">       &#123;</span><br><span class="line">           Label11.Text = <span class="string">&quot;密码格式正确!&quot;</span>;</span><br><span class="line">           Label11.ForeColor = Color.Green;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">else</span></span><br><span class="line">       &#123;</span><br><span class="line">           Label11.Text = <span class="string">&quot;密码格式错误!&quot;</span>;</span><br><span class="line">           Label11.ForeColor = Color.Red;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">public bool IsIntNumber(string int_Number) &#123;</span><br><span class="line">       <span class="built_in">return</span> Regex.IsMatch(int_Number,@<span class="string">&quot;^\+?[1-9][0-9]*$&quot;</span>);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<p>秘笈心法<br>正则表达式中的“{n}”限定符.<br>正则表达式中的“{n}”限定符用于限定指定的字符出现n次.<br>^c{5}$<br>上面的正则表达式表示可以匹配字符串ccccc,字母c可出现5次<br>012.使用正则表达式验证非零负整数<br>同上,+变-<br>秘笈心法<br>正则表达式中的“{n,}”限定符<br>正则表达式中的“{n,}”限定符用于限定指定的字符至少出现n次.<br>^c{5,}$<br>上面的正则表达式可以匹配字符串ccccc和cccccc等.表达式c{5,}表示字母c可以出现5次或5次以上<br>013.使用正则表达式验证大写字母<br>“^[A-Z]+$”正则表达式,其中[A-Z]表示匹配一个或多个大写字母<br>秘笈心法<br>Char结构的IsUpper方法<br>如果为大写返回true，否则false.<br>014.使用正则表达式验证小写字母<br>同上 A-Z变a-z<br>秘笈心法<br>Char结构的IsLower依次判断每个字符是否为小写,是true,否false.<br>015.使用正则表达式检查字符串中重复出现的词<br>关键技术<br>Regex类的Matches方法用于在输入字符串中搜索pattern参数中提供的正则表达式的匹配项<br>public static MatchCollection Matches(string input,string pattern,RegexOptions options)<br>Matches方法中的参数说明<br>参数        说明<br>input        要搜索匹配项的字符串<br>pattern        要匹配的正则表达式模式<br>options        RegexOption枚举值的按位”或”组合<br>MatchCollection    方法返回找到的成功匹配的集合</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">  &lt;div class=<span class="string">&quot;col-md-4&quot;</span>&gt;</span><br><span class="line">            &lt;h2&gt;15.使用正则表达式验证字符串中重复出现的词&lt;/h2&gt;</span><br><span class="line">            &lt;p&gt;</span><br><span class="line">                 &lt;asp:Label ID=<span class="string">&quot;Label13&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&quot; The the quick brown for jumped over the lary dog dog. &quot;</span>&gt;&lt;/asp:Label&gt;</span><br><span class="line">             </span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">           </span><br><span class="line">             &lt;p&gt;</span><br><span class="line">                &lt;asp:Button ID=<span class="string">&quot;Button12&quot;</span> runat=<span class="string">&quot;server&quot;</span> OnClick=<span class="string">&quot;Button12_Click&quot;</span> Text=<span class="string">&quot;列出字符串中重复出现的词&quot;</span> Width=<span class="string">&quot;181px&quot;</span> /&gt;</span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">             &lt;p&gt;</span><br><span class="line">                 </span><br><span class="line">                 &lt;asp:Label ID=<span class="string">&quot;Label12&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&quot; &quot;</span>&gt;&lt;/asp:Label&gt;</span><br><span class="line">                 </span><br><span class="line">                 &lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line"> protected void Button12_Click(object sender, EventArgs e)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (!GetSameWords(Label13.Text))</span><br><span class="line">        &#123;</span><br><span class="line">            Label12.Text = <span class="string">&quot;没有重复单词!&quot;</span>;</span><br><span class="line">            Label12.ForeColor = Color.Green;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            Label12.Text = <span class="string">&quot;有单词重复!&quot;</span>;</span><br><span class="line">            Label12.ForeColor = Color.Red;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">public bool GetSameWords(string str_words) &#123;</span><br><span class="line">        MatchCollection matches = Regex.Matches(str_words,@<span class="string">&quot;\b(?&lt;word&gt;\w+)\s+(\k&lt;word&gt;)\b&quot;</span>,RegexOptions.Compiled|RegexOptions.IgnoreCase);</span><br><span class="line">        <span class="keyword">if</span> (matches.Count!=0)</span><br><span class="line">        &#123;</span><br><span class="line">            foreach (Match match <span class="keyword">in</span> matches)</span><br><span class="line">            &#123;</span><br><span class="line">                string word = match.Groups[<span class="string">&quot;word&quot;</span>].Value;</span><br><span class="line">                Response.Write(<span class="string">&quot;&lt;script&gt;alert(&#x27;重复单词:&quot;</span>+word.ToString()+<span class="string">&quot;&#x27;);&lt;/script&gt;&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            Response.Write(<span class="string">&quot;&lt;script&gt;alert(&#x27;没有重复的单词&#x27;);&lt;/script&gt;&quot;</span>) ;</span><br><span class="line">            <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>秘笈心法<br>正则表达式中的”{n,m}”限定符<br>正则表达式中的”{n,m}”限定符用于限定指定的字符至少出现n次,最多出现m次<br>^c{2,3}$<br>上面的正则表达式可以匹配字符串cc或ccc,表达式c{2,3}表示字母c至少可以出现2次,最多出现3次<br>016.使用正则表达式替换字符串<br>关键技术<br>Regex类的的Replace方法用于在指定的输入字符串中,使用指定的替换字符串替换与指定正则表达式匹配的所有字符串<br>public static string Replace(string input,string pattern,string replacement)<br>input        要搜索匹配的字符串<br>replacement    替换字符串<br>pattern        要匹配的正则表达式模式<br>string        方法返回被替换后的字符串对象</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"> &lt;div class=<span class="string">&quot;col-md-4&quot;</span>&gt;</span><br><span class="line">            &lt;h2&gt;16.使用正则表达式替换字符串&lt;/h2&gt;</span><br><span class="line">            &lt;p&gt;</span><br><span class="line">                 &lt;asp:Label ID=<span class="string">&quot;Label14&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&quot; 被替换的字符串: &quot;</span>&gt;&lt;/asp:Label&gt;</span><br><span class="line">             </span><br><span class="line">                 &lt;asp:TextBox ID=<span class="string">&quot;TextBox12&quot;</span> Text=<span class="string">&quot;1a2b3c4d5e6f7g8h9&quot;</span> runat=<span class="string">&quot;server&quot;</span> Width=<span class="string">&quot;215px&quot;</span>&gt;&lt;/asp:TextBox&gt;</span><br><span class="line">             </span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">            &lt;p&gt;</span><br><span class="line">                 &lt;asp:Label ID=<span class="string">&quot;Label16&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&quot; 字母替换为: &quot;</span>&gt;&lt;/asp:Label&gt;</span><br><span class="line">               </span><br><span class="line">                  &lt;asp:TextBox ID=<span class="string">&quot;TextBox13&quot;</span> Text=<span class="string">&quot;9&quot;</span> runat=<span class="string">&quot;server&quot;</span> Width=<span class="string">&quot;242px&quot;</span>&gt;&lt;/asp:TextBox&gt;</span><br><span class="line">             </span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">             &lt;p&gt;</span><br><span class="line">                &lt;asp:Button ID=<span class="string">&quot;Button13&quot;</span> runat=<span class="string">&quot;server&quot;</span> OnClick=<span class="string">&quot;Button13_Click&quot;</span> Text=<span class="string">&quot;替换&quot;</span> Width=<span class="string">&quot;181px&quot;</span> /&gt;</span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">             &lt;p&gt;</span><br><span class="line">                 </span><br><span class="line">                 &lt;asp:Label ID=<span class="string">&quot;Label15&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&quot; &quot;</span>&gt;&lt;/asp:Label&gt;</span><br><span class="line">                 </span><br><span class="line">                 &lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line"> protected void Button13_Click(object sender, EventArgs e)</span><br><span class="line">    &#123;</span><br><span class="line">        Label15.Text = ReplaceWords(TextBox12.Text,TextBox13.Text);</span><br><span class="line">    &#125;</span><br><span class="line">public string ReplaceWords(string str_words,string replace_words) &#123;</span><br><span class="line">        string str = Regex.Replace(str_words,@<span class="string">&quot;[A-Za-z]\*?&quot;</span>,replace_words);</span><br><span class="line">        string showstr = $<span class="string">&quot;替换前字符:&#123;str_words&#125;,替换的字符:&#123;replace_words&#125;,替换后的字符:&#123;str&#125;&quot;</span>;</span><br><span class="line">        Response.Write(<span class="string">&quot;&lt;script&gt;alert(&#x27;&quot;</span>+showstr+<span class="string">&quot;&#x27;);&lt;/script&gt;&quot;</span>);</span><br><span class="line">        <span class="built_in">return</span> showstr;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>秘笈心法<br>字符串对象的Replace方法可以方便的替换字符串对象中指定的字符或字符串<br>017.使用正则表达式拆分字符串<br>关键技术<br>Regex类的split方法用于正则表达式模式定义位置拆分输入字符串<br>public static string[] Split(string input,string pattern)<br>input    字符串对象,表示要拆分的字符串<br>pattern    字符串对象,表示要匹配的正则表达式模式<br>string[]    方法返回字符串数组,表示拆分后的字符串数组</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"> &lt;div class=<span class="string">&quot;col-md-4&quot;</span>&gt;</span><br><span class="line">            &lt;h2&gt;17.使用正则表达式拆分字符串&lt;/h2&gt;</span><br><span class="line">            &lt;p&gt;</span><br><span class="line">                 &lt;asp:Label ID=<span class="string">&quot;Label17&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&quot; 被拆分的字符串: &quot;</span>&gt;&lt;/asp:Label&gt;</span><br><span class="line">             </span><br><span class="line">                 &lt;asp:TextBox ID=<span class="string">&quot;TextBox14&quot;</span> Text=<span class="string">&quot;1a2b3c4d5e6f7g8h9&quot;</span> runat=<span class="string">&quot;server&quot;</span> Width=<span class="string">&quot;215px&quot;</span>&gt;&lt;/asp:TextBox&gt;</span><br><span class="line">             </span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">            &lt;p&gt;</span><br><span class="line">                 &lt;asp:Label ID=<span class="string">&quot;Label18&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&quot; 拆分后字符: &quot;</span>&gt;&lt;/asp:Label&gt;</span><br><span class="line">               </span><br><span class="line">                  &lt;asp:TextBox ID=<span class="string">&quot;TextBox15&quot;</span> Text=<span class="string">&quot;&quot;</span> runat=<span class="string">&quot;server&quot;</span> Width=<span class="string">&quot;242px&quot;</span>&gt;&lt;/asp:TextBox&gt;</span><br><span class="line">             </span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">             &lt;p&gt;</span><br><span class="line">                &lt;asp:Button ID=<span class="string">&quot;Button14&quot;</span> runat=<span class="string">&quot;server&quot;</span> OnClick=<span class="string">&quot;Button14_Click&quot;</span> Text=<span class="string">&quot;拆分&quot;</span> Width=<span class="string">&quot;181px&quot;</span> /&gt;</span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">             &lt;p&gt;</span><br><span class="line">                 </span><br><span class="line">                 &lt;asp:Label ID=<span class="string">&quot;Label19&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&quot; &quot;</span>&gt;&lt;/asp:Label&gt;</span><br><span class="line">                 </span><br><span class="line">                 &lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">protected void Button14_Click(object sender, EventArgs e)</span><br><span class="line">    &#123;</span><br><span class="line">        Label19.Text = SplitWords(TextBox12.Text, TextBox13.Text);</span><br><span class="line">    &#125;</span><br><span class="line">public string SplitWords(string str_words, string replace_words)</span><br><span class="line">    &#123;</span><br><span class="line">        string text=<span class="string">&quot;&quot;</span>;</span><br><span class="line">        string[] str = Regex.Split(str_words, @<span class="string">&quot;[1-9]\*?&quot;</span>);</span><br><span class="line">        foreach (var item <span class="keyword">in</span> str)</span><br><span class="line">        &#123;</span><br><span class="line">            text += item;</span><br><span class="line">        &#125;</span><br><span class="line">        string showstr = $<span class="string">&quot;拆分前字符:&#123;str_words&#125;,拆分后的字符:&#123;text&#125;&quot;</span>;</span><br><span class="line">        Response.Write(<span class="string">&quot;&lt;script&gt;alert(&#x27;&quot;</span> + showstr + <span class="string">&quot;&#x27;);&lt;/script&gt;&quot;</span>);</span><br><span class="line">        <span class="built_in">return</span> showstr;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>秘笈心法<br>字符串对象的split方法<br>018.使用正则表达式验证输入字母<br>“^[A-Za-z]+$”表示匹配一个或多个大写或小写字母<br>秘笈心法<br>Char结构的IsLetter方法依次判断用户输入字符串中的每一个字符是否为字母,如果为字母返回true，否则为false<br>019.使用正则表达式验证中文汉字输入<br>关键技术<br>“^[\u4e00-\u9fa5]{1,}$”表示匹配一个或多个汉字</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=<span class="string">&quot;col-md-4&quot;</span>&gt;</span><br><span class="line">            &lt;h2&gt;19.使用正则表达式验证汉字输入&lt;/h2&gt;</span><br><span class="line">            &lt;p&gt;</span><br><span class="line">               输入汉字:</span><br><span class="line">                &lt;asp:TextBox ID=<span class="string">&quot;TextBox16&quot;</span> runat=<span class="string">&quot;server&quot;</span> Height=<span class="string">&quot;16px&quot;</span> Width=<span class="string">&quot;256px&quot;</span>&gt;&lt;/asp:TextBox&gt;</span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">           </span><br><span class="line">             &lt;p&gt;</span><br><span class="line">                &lt;asp:Button ID=<span class="string">&quot;Button15&quot;</span> runat=<span class="string">&quot;server&quot;</span> OnClick=<span class="string">&quot;Button15_Click&quot;</span> Text=<span class="string">&quot;汉字验证&quot;</span> Width=<span class="string">&quot;181px&quot;</span> /&gt;</span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">             &lt;p&gt;</span><br><span class="line">                 </span><br><span class="line">                 &lt;asp:Label ID=<span class="string">&quot;Label20&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&quot; &quot;</span>&gt;&lt;/asp:Label&gt;</span><br><span class="line">                 </span><br><span class="line">                 &lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line"> public bool isChinese(string str_chinese) &#123;</span><br><span class="line">        <span class="built_in">return</span> Regex.IsMatch(str_chinese,@<span class="string">&quot;^[\u4e00-\u9fa5]&#123;1,&#125;$&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> protected void Button15_Click(object sender, EventArgs e)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (isChinese(TextBox16.Text))</span><br><span class="line">        &#123;</span><br><span class="line">            Label20.Text = <span class="string">&quot;输入的是汉字!&quot;</span>;</span><br><span class="line">            Label20.ForeColor = Color.Green;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            Label20.Text = <span class="string">&quot;输入格式不正确!&quot;</span>;</span><br><span class="line">            Label20.ForeColor = Color.Red;</span><br><span class="line">        &#125;</span><br><span class="line">        Response.Write(<span class="string">&quot;&lt;script&gt;alert(&#x27;&quot;</span> + Label20.Text + <span class="string">&quot;&#x27;)&lt;/script&gt;&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>秘笈心法<br>Char结构的IsDigit方法用来验证是否为10进制数字,可以用for循环遍历字符串中的字符,依次判断每一个字符是否为数字,如果是数字则方法返回true,否则返回false.<br>020.使用正则表达式验证输入字符串<br>关键技术<br>.匹配除换行符外的任意字符..{8,}表示匹配除换行符以外的8个或8个以上字符.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"> &lt;div class=<span class="string">&quot;col-md-4&quot;</span>&gt;</span><br><span class="line">            &lt;h2&gt;20.使用正则表达式验证字符串输入&lt;/h2&gt;</span><br><span class="line">            &lt;p&gt;</span><br><span class="line">               输入字符串:</span><br><span class="line">                &lt;asp:TextBox ID=<span class="string">&quot;TextBox17&quot;</span> runat=<span class="string">&quot;server&quot;</span> Height=<span class="string">&quot;16px&quot;</span> Width=<span class="string">&quot;256px&quot;</span>&gt;&lt;/asp:TextBox&gt;</span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">           </span><br><span class="line">             &lt;p&gt;</span><br><span class="line">                &lt;asp:Button ID=<span class="string">&quot;Button16&quot;</span> runat=<span class="string">&quot;server&quot;</span> OnClick=<span class="string">&quot;Button16_Click&quot;</span> Text=<span class="string">&quot;字符串验证&quot;</span> Width=<span class="string">&quot;181px&quot;</span> /&gt;</span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">             &lt;p&gt;</span><br><span class="line">                 </span><br><span class="line">                 &lt;asp:Label ID=<span class="string">&quot;Label21&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&quot; &quot;</span>&gt;&lt;/asp:Label&gt;</span><br><span class="line">                 </span><br><span class="line">                 &lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">protected void Button16_Click(object sender, EventArgs e)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (isStr(TextBox17.Text))</span><br><span class="line">        &#123;</span><br><span class="line">            Label21.Text = <span class="string">&quot;输入的是字符串!&quot;</span>;</span><br><span class="line">            Label21.ForeColor = Color.Green;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            Label21.Text = <span class="string">&quot;输入格式不正确!&quot;</span>;</span><br><span class="line">            Label21.ForeColor = Color.Red;</span><br><span class="line">        &#125;</span><br><span class="line">        Response.Write(<span class="string">&quot;&lt;script&gt;alert(&#x27;&quot;</span> + Label21.Text + <span class="string">&quot;&#x27;)&lt;/script&gt;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">public bool isStr(string str) &#123;</span><br><span class="line">        <span class="built_in">return</span> Regex.IsMatch(str, @<span class="string">&quot;^.&#123;8,&#125;$&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>秘笈心法<br>字符串对象的Length方法<br>021.使用正则表达式验证E-mail格式<br>“^((\w.)+)@(([0-9]{1,3}.[0-9]{1,3}))|((\w+.)+)@([a-zA-Z]{2,4}|[0-9]{1,3})(.[a-zA-Z]{2,4})$”<br>([a-zA-Z]{2,4}|[0-9]{1,3})(.[a-zA-Z]{2,4})表示匹配服务器域名</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=<span class="string">&quot;col-md-4&quot;</span>&gt;</span><br><span class="line">            &lt;h2&gt;21.使用正则表达式验证E-mail格式&lt;/h2&gt;</span><br><span class="line">            &lt;p&gt;</span><br><span class="line">               输入E-mail地址:</span><br><span class="line">                &lt;asp:TextBox ID=<span class="string">&quot;TextBox18&quot;</span> runat=<span class="string">&quot;server&quot;</span> Height=<span class="string">&quot;16px&quot;</span> Width=<span class="string">&quot;256px&quot;</span>&gt;&lt;/asp:TextBox&gt;</span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">           </span><br><span class="line">             &lt;p&gt;</span><br><span class="line">                &lt;asp:Button ID=<span class="string">&quot;Button17&quot;</span> runat=<span class="string">&quot;server&quot;</span> OnClick=<span class="string">&quot;Button17_Click&quot;</span> Text=<span class="string">&quot;E-mail验证&quot;</span> Width=<span class="string">&quot;181px&quot;</span> /&gt;</span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">             &lt;p&gt;</span><br><span class="line">                 </span><br><span class="line">                 &lt;asp:Label ID=<span class="string">&quot;Label22&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&quot; &quot;</span>&gt;&lt;/asp:Label&gt;</span><br><span class="line">                 </span><br><span class="line">                 &lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">protected void Button17_Click(object sender, EventArgs e)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (isEmail(TextBox18.Text))</span><br><span class="line">        &#123;</span><br><span class="line">            Label22.Text = <span class="string">&quot;输入的是邮箱!&quot;</span>;</span><br><span class="line">            Label22.ForeColor = Color.Green;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            Label22.Text = <span class="string">&quot;输入格式不正确!&quot;</span>;</span><br><span class="line">            Label22.ForeColor = Color.Red;</span><br><span class="line">        &#125;</span><br><span class="line">        Response.Write(<span class="string">&quot;&lt;script&gt;alert(&#x27;&quot;</span> + Label22.Text + <span class="string">&quot;&#x27;)&lt;/script&gt;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">public bool isEmail(string str_email) &#123;</span><br><span class="line">        <span class="built_in">return</span> Regex.IsMatch(str_email, @<span class="string">&quot;^(([\w\.]+)@(([0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;))|((\w+\.?)+)@([a-zA-Z]&#123;2,4&#125;|[0-9]&#123;1,3&#125;)(\.[a-zA-Z]&#123;2,4&#125;))$&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>秘笈心法<br>在使用正则表达式中,经常会有验证带有小数点的字符串,.表示在正则表达式除了换行符外的任意字符.那么要怎样才可以匹配字符“.”,可以使用转义字符“\”实现,”.“<br>022.使用正则表达式验证IP地址<br>关键技术<br>“（25[0-5]|2[0-4]\d|[1]\d{2}|[1-9]?\d）”表示匹配数字0-255</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"> &lt;div class=<span class="string">&quot;col-md-4&quot;</span>&gt;</span><br><span class="line">            &lt;h2&gt;22.使用正则表达式验证IP地址&lt;/h2&gt;</span><br><span class="line">            &lt;p&gt;</span><br><span class="line">               输入IP地址:</span><br><span class="line">                &lt;asp:TextBox ID=<span class="string">&quot;TextBox19&quot;</span> runat=<span class="string">&quot;server&quot;</span> Height=<span class="string">&quot;16px&quot;</span> Width=<span class="string">&quot;256px&quot;</span>&gt;&lt;/asp:TextBox&gt;</span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">           </span><br><span class="line">             &lt;p&gt;</span><br><span class="line">                &lt;asp:Button ID=<span class="string">&quot;Button18&quot;</span> runat=<span class="string">&quot;server&quot;</span> OnClick=<span class="string">&quot;Button18_Click&quot;</span> Text=<span class="string">&quot;IP验证&quot;</span> Width=<span class="string">&quot;181px&quot;</span> /&gt;</span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">             &lt;p&gt;</span><br><span class="line">                 </span><br><span class="line">                 &lt;asp:Label ID=<span class="string">&quot;Label23&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&quot; &quot;</span>&gt;&lt;/asp:Label&gt;</span><br><span class="line">                 </span><br><span class="line">                 &lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line"> protected void Button18_Click(object sender, EventArgs e)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (isIP(TextBox19.Text))</span><br><span class="line">        &#123;</span><br><span class="line">            Label23.Text = <span class="string">&quot;输入的是IP!&quot;</span>;</span><br><span class="line">            Label23.ForeColor = Color.Green;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            Label23.Text = <span class="string">&quot;输入格式不正确!&quot;</span>;</span><br><span class="line">            Label23.ForeColor = Color.Red;</span><br><span class="line">        &#125;</span><br><span class="line">        Response.Write(<span class="string">&quot;&lt;script&gt;alert(&#x27;&quot;</span> + Label23.Text + <span class="string">&quot;&#x27;)&lt;/script&gt;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">public bool isIP(string str_IP)</span><br><span class="line">    &#123;</span><br><span class="line">        string num = @<span class="string">&quot;(25[0-5]|2[0-4]\d|[1]\d&#123;2&#125;|[1-9]?\d)&quot;</span>;</span><br><span class="line">        <span class="built_in">return</span> Regex.IsMatch(str_IP,$<span class="string">&quot;^&#123;num&#125;\\.&#123;num&#125;\\.&#123;num&#125;\\.&#123;num&#125;$&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>秘笈心法<br>使用split代替正则表达式验证IP地址<br>首先调用Split方法根据字符.拆分IP地址字符串为字符串数组,字符串转换为数值类型判断数值范围即可<br>023.使用正则表达式验证URL<br>关键技术<br>“http(s)?://([\w-]+.)+[\w-]+(/[\w-./?%&amp;=]<em>)?”,[\w-]+.表示匹配一个或多个以单词字符和连接符号“-”组成的字符串开头的,i以字符.结尾的字符串,(/[\w-./?%&amp;=]</em>)?表示匹配出现零次或一次由单词字符“-”“/”“.””?” “%” “&amp;” “=”组成的长度至少为1的字符串</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=<span class="string">&quot;col-md-4&quot;</span>&gt;</span><br><span class="line">            &lt;h2&gt;23.使用正则表达式验证网址&lt;/h2&gt;</span><br><span class="line">            &lt;p&gt;</span><br><span class="line">               输入网络地址:</span><br><span class="line">                &lt;asp:TextBox ID=<span class="string">&quot;TextBox20&quot;</span> runat=<span class="string">&quot;server&quot;</span> Height=<span class="string">&quot;16px&quot;</span> Width=<span class="string">&quot;256px&quot;</span>&gt;&lt;/asp:TextBox&gt;</span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">           </span><br><span class="line">             &lt;p&gt;</span><br><span class="line">                &lt;asp:Button ID=<span class="string">&quot;Button19&quot;</span> runat=<span class="string">&quot;server&quot;</span> OnClick=<span class="string">&quot;Button19_Click&quot;</span> Text=<span class="string">&quot;网址验证&quot;</span> Width=<span class="string">&quot;181px&quot;</span> /&gt;</span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">             &lt;p&gt;</span><br><span class="line">                 </span><br><span class="line">                 &lt;asp:Label ID=<span class="string">&quot;Label24&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&quot; &quot;</span>&gt;&lt;/asp:Label&gt;</span><br><span class="line">                 </span><br><span class="line">                 &lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">protected void Button19_Click(object sender, EventArgs e)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (isInternet(TextBox20.Text))</span><br><span class="line">        &#123;</span><br><span class="line">            Label24.Text = <span class="string">&quot;输入的是网址!&quot;</span>;</span><br><span class="line">            Label24.ForeColor = Color.Green;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            Label24.Text = <span class="string">&quot;输入格式不正确!&quot;</span>;</span><br><span class="line">            Label24.ForeColor = Color.Red;</span><br><span class="line">        &#125;</span><br><span class="line">        Response.Write(<span class="string">&quot;&lt;script&gt;alert(&#x27;&quot;</span> + Label24.Text + <span class="string">&quot;&#x27;)&lt;/script&gt;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">public bool isInternet(string str_IE) &#123;</span><br><span class="line">        <span class="built_in">return</span> Regex.IsMatch(str_IE, @<span class="string">&quot;http(s)?:([\w-]+\.)+[\w-]+(/[\w-./?%&amp;=]*)?&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>1.2.网站信息的站内搜索<br>024.一般搜索<br>关键技术<br>Like运算符用于确定给定的字符串是否与指定模式匹配,模式可以包含常规字符和通配符字符.模式匹配过程中,常规字符必须与字符串中指定的字符完全匹配,但是,通配符可使用字符串的任意片段进行匹配.<br>例如,要查询tb_info表中信息名称包含有C的记录.<br>select * from tb_info where InfoName like ‘%C%’<br>% 包含零个或更多任意字符串,例如,like “%a%”表示查找在字符串任何位置包含a的值</p>
<ul>
<li>任何单个字符,例如,like ‘a_b’表示查找以a开头,以b结尾的值,并且在这两个字符之间有任意一个字符.<br>[]  属于指定范围或集合中的任何单个字符.例如,[af]表示属于指定范围([a-f])或集合([abcdef])中的任何单个字符<br>[^] 不属于指定范围或集合的任何单个字符.例如,[^af]表示不属于指定范围(a-f)或集合([abcdef])的任何单个字符<br>Default.aspx页面用到的控件及用途<br>HTML/Table        布局页面<br>标准/Label    labInfoID    信息ID<pre><code>  labInfoName信息名称
  labInfoType信息类型
  labInfoContent信息内容
  labPage    当前页码
  labBackPage总页码
</code></pre>
标准/Button    btnSearch搜索<br>标准/TextBox    txtSKWord搜索关键字<br>标准/DropDownList    ddlSCondition 搜索条件<pre><code>  ddlInfoType 信息类型
</code></pre>
标准/LinkButton    InkBtnOne 第一页<pre><code>  InkbtnUp      上一页
  InkbtnNext 下一页
  InkbtnBack 最后一页
</code></pre>
数据/DataList    dlInfo    显示搜索结果<br>本实例主要用到了DataList空间分页技术.首先自定义一个dllDataBind方法,该方法有sqlstr,table和dkf三个参数,分别表示要执行的SQL语句,数据表名和DataList控件要绑定的数据表主键字段名.dlDataBind方法用来从数据库中查找出相关记录并计算出计算总数,然后对DataList控件进行数据绑定,<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=<span class="string">&quot;col-md-4&quot;</span>&gt;</span><br><span class="line">           &lt;h2&gt;24.一般搜索&lt;/h2&gt;</span><br><span class="line">           &lt;p&gt;</span><br><span class="line">             搜索条件:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;</span><br><span class="line">             </span><br><span class="line">               &lt;asp:DropDownList ID=<span class="string">&quot;ddlInfoType&quot;</span> runat=<span class="string">&quot;server&quot;</span> Height=<span class="string">&quot;16px&quot;</span> Width=<span class="string">&quot;158px&quot;</span>&gt;</span><br><span class="line">                   &lt;asp:ListItem&gt;ErrorCode&lt;/asp:ListItem&gt;</span><br><span class="line">                   &lt;asp:ListItem&gt;RunStatus&lt;/asp:ListItem&gt;</span><br><span class="line">                   &lt;asp:ListItem&gt;ErrorInfo&lt;/asp:ListItem&gt;</span><br><span class="line">               &lt;/asp:DropDownList&gt;</span><br><span class="line">              &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;</span><br><span class="line">              搜索关键字:</span><br><span class="line"></span><br><span class="line">               &lt;asp:TextBox ID=<span class="string">&quot;txtSKWord&quot;</span> runat=<span class="string">&quot;server&quot;</span> Width=<span class="string">&quot;164px&quot;</span> Text=<span class="string">&quot;软件关闭&quot;</span>&gt;&lt;/asp:TextBox&gt;</span><br><span class="line"></span><br><span class="line">               &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;</span><br><span class="line"></span><br><span class="line">               &lt;asp:Button ID=<span class="string">&quot;btnSearch&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&quot;搜索&quot;</span> Width=<span class="string">&quot;95px&quot;</span> OnClick=<span class="string">&quot;btnSearch_Click&quot;</span> /&gt;</span><br><span class="line"></span><br><span class="line">           &lt;/p&gt;</span><br><span class="line">          </span><br><span class="line">            &lt;p&gt;</span><br><span class="line">                搜索结果:</span><br><span class="line">                &lt;/p&gt;</span><br><span class="line">            &lt;p&gt;</span><br><span class="line">                </span><br><span class="line">              </span><br><span class="line">                </span><br><span class="line">                &lt;asp:DataList ID=<span class="string">&quot;dllInfo&quot;</span> runat=<span class="string">&quot;server&quot;</span> CellPadding=<span class="string">&quot;4&quot;</span> ForeColor=<span class="string">&quot;#333333&quot;</span> Width=<span class="string">&quot;760px&quot;</span>&gt;</span><br><span class="line">                    &lt;AlternatingItemStyle BackColor=<span class="string">&quot;White&quot;</span> /&gt;</span><br><span class="line">                    &lt;FooterStyle BackColor=<span class="string">&quot;#507CD1&quot;</span> Font-Bold=<span class="string">&quot;True&quot;</span> ForeColor=<span class="string">&quot;White&quot;</span> /&gt;</span><br><span class="line">                    &lt;HeaderStyle BackColor=<span class="string">&quot;#507CD1&quot;</span> Font-Bold=<span class="string">&quot;True&quot;</span> ForeColor=<span class="string">&quot;White&quot;</span> /&gt;</span><br><span class="line">                    &lt;ItemStyle BackColor=<span class="string">&quot;#EFF3FB&quot;</span> /&gt;</span><br><span class="line">                    &lt;ItemTemplate&gt;</span><br><span class="line">                        &lt;asp:Label ID=<span class="string">&quot;Label24&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&quot;信息ID:&quot;</span>&gt;&lt;/asp:Label&gt;</span><br><span class="line">                         &lt;asp:Label ID=<span class="string">&quot;labInfoID&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&#x27;&lt;%# DataBinder.Eval(Container.DataItem,&quot;ID&quot;) %&gt; &#x27;</span>&gt;&lt;/asp:Label&gt;</span><br><span class="line">                          &amp;nbsp;&amp;nbsp;&amp;nbsp;</span><br><span class="line">                         &lt;asp:Label ID=<span class="string">&quot;Label25&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&quot;信息名称:&quot;</span>&gt;&lt;/asp:Label&gt;</span><br><span class="line">                         &lt;asp:Label ID=<span class="string">&quot;labInfoName&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&#x27;&lt;%# DataBinder.Eval(Container.DataItem,&quot;ModuleCode&quot;) %&gt; &#x27;</span>&gt;&lt;/asp:Label&gt;</span><br><span class="line">                         &amp;nbsp;&amp;nbsp;&amp;nbsp;</span><br><span class="line">                         &lt;asp:Label ID=<span class="string">&quot;Label26&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&quot;信息类别:&quot;</span>&gt;&lt;/asp:Label&gt;</span><br><span class="line">                         &lt;asp:Label ID=<span class="string">&quot;labInfoType&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&#x27;&lt;%# DataBinder.Eval(Container.DataItem,&quot;ErrorCode&quot;) %&gt; &#x27;</span>&gt;&lt;/asp:Label&gt;</span><br><span class="line">                        &lt;p&gt;</span><br><span class="line">                            信息内容:</span><br><span class="line">                            &lt;/p&gt;</span><br><span class="line">                         &lt;p&gt;</span><br><span class="line">                            &lt;asp:Label ID=<span class="string">&quot;labInfoContent&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&#x27;&lt;%# DataBinder.Eval(Container.DataItem,&quot;ErrorInfo&quot;) %&gt; &#x27;</span>&gt;&lt;/asp:Label&gt;</span><br><span class="line">                            &lt;/p&gt;</span><br><span class="line">                    &lt;/ItemTemplate&gt;</span><br><span class="line"></span><br><span class="line">                    &lt;SelectedItemStyle BackColor=<span class="string">&quot;#D1DDF1&quot;</span> Font-Bold=<span class="string">&quot;True&quot;</span> ForeColor=<span class="string">&quot;#333333&quot;</span> /&gt;</span><br><span class="line">                &lt;/asp:DataList&gt;</span><br><span class="line">                </span><br><span class="line">              </span><br><span class="line">                </span><br><span class="line">               </span><br><span class="line">                </span><br><span class="line">              </span><br><span class="line">                </span><br><span class="line">              </span><br><span class="line">                </span><br><span class="line">              </span><br><span class="line">                </span><br><span class="line">               </span><br><span class="line">                </span><br><span class="line">              </span><br><span class="line">                </span><br><span class="line">                &lt;/p&gt;</span><br><span class="line">           &lt;p&gt;</span><br><span class="line">                </span><br><span class="line">              当前页码为:</span><br><span class="line">                </span><br><span class="line">               </span><br><span class="line">                </span><br><span class="line">                &lt;asp:Label ID=<span class="string">&quot;labPage&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&quot;1&quot;</span>&gt;&lt;/asp:Label&gt;</span><br><span class="line">                </span><br><span class="line">               </span><br><span class="line">                &amp;nbsp;&amp;nbsp;&amp;nbsp;</span><br><span class="line">                </span><br><span class="line">               </span><br><span class="line">                总页码为:</span><br><span class="line"></span><br><span class="line">                &lt;asp:Label ID=<span class="string">&quot;labBackPage&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&quot;5&quot;</span>&gt;&lt;/asp:Label&gt;</span><br><span class="line"></span><br><span class="line">                &amp;nbsp;&amp;nbsp;&amp;nbsp;</span><br><span class="line"></span><br><span class="line">                &lt;asp:LinkButton ID=<span class="string">&quot;InkbtnOne&quot;</span> Text=<span class="string">&quot;第一页&quot;</span> runat=<span class="string">&quot;server&quot;</span>&gt;&lt;/asp:LinkButton&gt; </span><br><span class="line">               &amp;nbsp;&amp;nbsp;&amp;nbsp; </span><br><span class="line">               &lt;asp:LinkButton ID=<span class="string">&quot;InkbtnUp&quot;</span> Text=<span class="string">&quot;上一页&quot;</span> runat=<span class="string">&quot;server&quot;</span>&gt;&lt;/asp:LinkButton&gt;</span><br><span class="line">                &amp;nbsp;&amp;nbsp;&amp;nbsp;</span><br><span class="line">               &lt;asp:LinkButton ID=<span class="string">&quot;InkbtnNext&quot;</span> Text=<span class="string">&quot;下一页&quot;</span> runat=<span class="string">&quot;server&quot;</span>&gt;&lt;/asp:LinkButton&gt;</span><br><span class="line"></span><br><span class="line">                &amp;nbsp;&amp;nbsp;&amp;nbsp;</span><br><span class="line">                &lt;asp:LinkButton ID=<span class="string">&quot;InkbtnBack&quot;</span> Text=<span class="string">&quot;最后一页&quot;</span> runat=<span class="string">&quot;server&quot;</span>&gt;&lt;/asp:LinkButton&gt;</span><br><span class="line">                &lt;/p&gt;</span><br><span class="line">       &lt;/div&gt;</span><br><span class="line">protected void btnSearch_Click(object sender, EventArgs e)</span><br><span class="line">   &#123;</span><br><span class="line">       this.dllInfoBind();</span><br><span class="line">   &#125;</span><br><span class="line">   SqlConnection sqlconn;</span><br><span class="line">   public void dllDataBind(string sqlstr, string table, string dkf,int psize)</span><br><span class="line">   &#123;</span><br><span class="line">       int curpage = Convert.ToInt32(this.labPage.Text);</span><br><span class="line">       PagedDataSource ps = new PagedDataSource();</span><br><span class="line">       <span class="keyword">if</span> (sqlconn.State==ConnectionState.Closed)</span><br><span class="line">       &#123;</span><br><span class="line">           sqlconn.Open();</span><br><span class="line">       &#125;</span><br><span class="line">      </span><br><span class="line">       SqlDataAdapter MyAdapter= new SqlDataAdapter(sqlstr,sqlconn);</span><br><span class="line">       DataSet ds=new DataSet();</span><br><span class="line">       MyAdapter.Fill(ds,table);</span><br><span class="line">       ps.DataSource = ds.Tables[table].DefaultView;</span><br><span class="line">       ps.AllowPaging= <span class="literal">false</span>;//是否可以分页</span><br><span class="line">       ps.PageSize = ps.PageCount;//显示的数量</span><br><span class="line">       ps.CurrentPageIndex= curpage-1;//取得当前页的页码</span><br><span class="line">       this.InkbtnUp.Enabled = <span class="literal">true</span>;</span><br><span class="line">       this.InkbtnOne.Enabled = <span class="literal">true</span>;</span><br><span class="line">       this.InkbtnNext.Enabled = <span class="literal">true</span>;</span><br><span class="line">       this.InkbtnBack.Enabled = <span class="literal">true</span>;</span><br><span class="line">       <span class="keyword">if</span> (curpage==1)</span><br><span class="line">       &#123;</span><br><span class="line">           this.InkbtnOne.Enabled = <span class="literal">false</span>;//不显示第一页按钮</span><br><span class="line">           this.InkbtnUp.Enabled= <span class="literal">false</span>;//不显示上一页按钮</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">if</span> (curpage==ps.PageCount)</span><br><span class="line">       &#123;</span><br><span class="line">           this.InkbtnNext.Enabled = <span class="literal">false</span>;//不显示下一页按钮</span><br><span class="line">           this.InkbtnBack.Enabled= <span class="literal">false</span>;//不显示最后一页按钮</span><br><span class="line">       &#125;</span><br><span class="line">       this.labBackPage.Text=Convert.ToString(ps.PageCount);</span><br><span class="line">       this.dllInfo.DataSource= ps;</span><br><span class="line">       this.dllInfo.DataKeyField = dkf;</span><br><span class="line">       this.dllInfo.DataBind();</span><br><span class="line"></span><br><span class="line">   &#125;</span><br><span class="line">   public void <span class="function"><span class="title">dllInfoBind</span></span>() &#123;</span><br><span class="line"></span><br><span class="line">           string sqlstr = $<span class="string">&quot;SELECT * FROM [ZHH].[dbo].[OEE_DT] where &#123;ddlInfoType.SelectedValue.Trim()&#125; like &#x27;%&#123;txtSKWord.Text.Trim()&#125;%&#x27;&quot;</span>;</span><br><span class="line">       sqlconn = new SqlConnection(<span class="string">&quot;Data Source=localhost;Initial Catalog=ZHH;Integrated Security=True&quot;</span>);</span><br><span class="line">       <span class="keyword">if</span> (sqlconn.State==ConnectionState.Closed)</span><br><span class="line">           &#123;</span><br><span class="line">               sqlconn.Open();</span><br><span class="line">           &#125;</span><br><span class="line">           SqlCommand <span class="built_in">comm</span>=new SqlCommand(sqlstr, sqlconn);</span><br><span class="line">           DataSet ds=new DataSet();</span><br><span class="line">           SqlDataReader dr=comm.ExecuteReader();</span><br><span class="line">           <span class="keyword">if</span> (!dr.Read())</span><br><span class="line">           &#123;</span><br><span class="line">           dr.Close();</span><br><span class="line">           Response.Write(<span class="string">&quot;&lt;script&gt;alert(&#x27;没有你要查询的结果,请重新输入&#x27;)&lt;/script&gt;&quot;</span>);</span><br><span class="line">               dllInfo.Visible = <span class="literal">false</span>;</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">else</span></span><br><span class="line">           &#123;</span><br><span class="line">           dr.Close();</span><br><span class="line">               this.dllDataBind(sqlstr, <span class="string">&quot;OEE_DT&quot;</span>,<span class="string">&quot;ID&quot;</span>,5);</span><br><span class="line">           &#125;</span><br><span class="line">           </span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure>
秘笈心法<br>运算符<br>&lt;&gt;不等于<br>!&gt; 不大于<br>页面定时刷新后跳转到其他页<br>可以在<head></head>中利用meta标签来定义.例如,页面停留5秒后自动刷新到URL网址<Meta http-equiv="Refresh" Content="5;Url=http://www.xia8.net">
如何锁定Application对象
由于Application对象属于网站的全局变量,因此经常会出现多人同时访问和修改对象的情况.为了避免两个会话同时修改Application对象,需要在修改前锁定Application对象,修改后再解锁Application对象.Application都西昂可以使用Lock方法实现加锁功能,j使用UnLock方法实现解锁功能.</li>
</ul>
<p>026.常用搜索</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=<span class="string">&quot;col-md-4&quot;</span>&gt;</span><br><span class="line">            &lt;h2&gt;26.常用搜索&lt;/h2&gt;</span><br><span class="line">            &lt;p&gt;</span><br><span class="line">              查询条件:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;</span><br><span class="line">              </span><br><span class="line">                &lt;asp:DropDownList ID=<span class="string">&quot;DropDownList1&quot;</span> runat=<span class="string">&quot;server&quot;</span> Height=<span class="string">&quot;16px&quot;</span> Width=<span class="string">&quot;158px&quot;</span>&gt;</span><br><span class="line">                    &lt;asp:ListItem&gt;ErrorCode&lt;/asp:ListItem&gt;</span><br><span class="line">                    &lt;asp:ListItem&gt;RunStatus&lt;/asp:ListItem&gt;</span><br><span class="line">                    &lt;asp:ListItem&gt;ErrorInfo&lt;/asp:ListItem&gt;</span><br><span class="line">                &lt;/asp:DropDownList&gt;</span><br><span class="line">               &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;</span><br><span class="line">               搜索关键字:</span><br><span class="line"></span><br><span class="line">                &lt;asp:TextBox ID=<span class="string">&quot;TextBox21&quot;</span> runat=<span class="string">&quot;server&quot;</span> Width=<span class="string">&quot;164px&quot;</span> Text=<span class="string">&quot;软件关闭&quot;</span>&gt;&lt;/asp:TextBox&gt;</span><br><span class="line"></span><br><span class="line">                &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;</span><br><span class="line"></span><br><span class="line">                &lt;asp:Button ID=<span class="string">&quot;Button20&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&quot;搜索&quot;</span> Width=<span class="string">&quot;95px&quot;</span> OnClick=<span class="string">&quot;ComSearch_Click&quot;</span> /&gt;</span><br><span class="line"></span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">           </span><br><span class="line">             &lt;p&gt;</span><br><span class="line">                 搜索结果:</span><br><span class="line">                 &lt;/p&gt;</span><br><span class="line">             &lt;asp:GridView ID=<span class="string">&quot;gvGoodsInfo&quot;</span> runat=<span class="string">&quot;server&quot;</span> Width=<span class="string">&quot;722px&quot;</span>&gt;</span><br><span class="line">             &lt;/asp:GridView&gt;</span><br><span class="line">          </span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">protected void ComSearch_Click(object sender, EventArgs e)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (TextBox21.Text==<span class="string">&quot;&quot;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            string sqlstr = <span class="string">&quot;SELECT * FROM [ZHH].[dbo].[OEE_DT]&quot;</span>;</span><br><span class="line">            gvDataBind(gvGoodsInfo, sqlstr);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            string sqlstr = $<span class="string">&quot;SELECT * FROM [ZHH].[dbo].[OEE_DT] where &#123;DropDownList1.SelectedValue.Trim()&#125; like &#x27;%&#123;TextBox21.Text.Trim()&#125;%&#x27;&quot;</span>;</span><br><span class="line">            gvDataBind(gvGoodsInfo, sqlstr);</span><br><span class="line">        &#125;</span><br><span class="line">       </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private void gvDataBind(GridView gvGoodsInfo, string sqlstr)</span><br><span class="line">    &#123;</span><br><span class="line">        sqlconn = new SqlConnection(<span class="string">&quot;Data Source=localhost;Initial Catalog=ZHH;Integrated Security=True&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (sqlconn.State==ConnectionState.Closed)</span><br><span class="line">        &#123;</span><br><span class="line">            sqlconn.Open();</span><br><span class="line">        &#125;</span><br><span class="line">        SqlDataAdapter myda = new SqlDataAdapter(sqlstr,sqlconn);</span><br><span class="line">        DataSet ds = new DataSet();</span><br><span class="line">        myda.Fill(ds);</span><br><span class="line">        gvGoodsInfo.DataSource = ds;</span><br><span class="line">        gvGoodsInfo.DataBind();</span><br><span class="line">        sqlconn.Close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>秘笈心法<br>如何删除Application变量内容<br>由于Application对象长期占用服务器资源,因此应及时清理无用的Application变量;例如,在本秘笈心法中,将保存在Application对象中名为”小明”的变量删除</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">protected void Page_Load(object sender,EventArgs e)&#123;</span><br><span class="line">Application.Add(<span class="string">&quot;姓名&quot;</span>,<span class="string">&quot;小强&quot;</span>);</span><br><span class="line">Application.Add(<span class="string">&quot;姓名&quot;</span>,<span class="string">&quot;小明&quot;</span>);</span><br><span class="line">Application.RemoveAt(1); //删除姓名为<span class="string">&quot;小明&quot;</span>的Application变量</span><br><span class="line"><span class="keyword">for</span>(int i=0;i&lt;Applicaiton.Count;i++)&#123;</span><br><span class="line">Response.Write(<span class="string">&quot;姓名:&quot;</span>+Application[i]+<span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">Application.Clear();</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>027.在自己的网站中加入百度和Goole搜索</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">&lt;center&gt;</span><br><span class="line">     &lt;form action=<span class="string">&quot;https://www.baidu.com/s&quot;</span> target=<span class="string">&quot;_blank&quot;</span> method=<span class="string">&quot;get&quot;</span>&gt;</span><br><span class="line">         &lt;table bgcolor=<span class="string">&quot;#FFFFFF&quot;</span> border=<span class="string">&quot;0&quot;</span> cellpadding=<span class="string">&quot;0&quot;</span> cellspacing=<span class="string">&quot;0&quot;</span> style=<span class="string">&quot;width:755px;height:59px;text-align:center&quot;</span>&gt;</span><br><span class="line">             &lt;<span class="built_in">tr</span>&gt;&lt;td&gt;</span><br><span class="line">                 &lt;a href=<span class="string">&quot;https://www.baidu.com/s?wd=%E7%99%BE%E5%BA%A6%E7%83%AD%E6%90%9C&amp;sa=ire_dl_gh_logo_texing&amp;rsv_dl=igh_logo_pcs&quot;</span>&gt;</span><br><span class="line">                 &lt;img src=<span class="string">&quot;https://www.baidu.com/img/PCtm_d9c8750bed0b3c7d089fa7d55720d6cf.png&quot;</span> border=<span class="string">&quot;0&quot;</span> alt=<span class="string">&quot;Google&quot;</span></span><br><span class="line">                     align=<span class="string">&quot;absmiddle&quot;</span>/&gt;</span><br><span class="line">                 &lt;/a&gt;</span><br><span class="line">                 &lt;input <span class="built_in">type</span>=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;wd&quot;</span> size=<span class="string">&quot;31&quot;</span> maxlength=<span class="string">&quot;255&quot;</span> value=<span class="string">&quot;&quot;</span>/&gt;</span><br><span class="line">                 &lt;input <span class="built_in">type</span>=<span class="string">&quot;hidden&quot;</span> name=<span class="string">&quot;ie&quot;</span> value=<span class="string">&quot;utf-8&quot;</span>/&gt;</span><br><span class="line">                  &lt;input <span class="built_in">type</span>=<span class="string">&quot;hidden&quot;</span> name=<span class="string">&quot;f&quot;</span> value=<span class="string">&quot;3&quot;</span>/&gt;</span><br><span class="line">               </span><br><span class="line">                 &lt;input <span class="built_in">type</span>=<span class="string">&quot;submit&quot;</span> name=<span class="string">&quot;btnG&quot;</span> value=<span class="string">&quot;百度一下&quot;</span>/&gt;</span><br><span class="line">                 &lt;/td&gt;&lt;/tr&gt;</span><br><span class="line">             &lt;/table&gt;</span><br><span class="line">         &lt;/form&gt;</span><br><span class="line">        &lt;/center&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">using System;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using System.Linq;</span><br><span class="line">using System.Web;</span><br><span class="line">using System.Web.UI;</span><br><span class="line">using System.Web.UI.WebControls;</span><br><span class="line"></span><br><span class="line">public partial class BaiduSearch : Page</span><br><span class="line">&#123;</span><br><span class="line">    protected void Page_Load(object sender, EventArgs e)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">Site.master</span><br><span class="line">&lt;li&gt;&lt;a runat=<span class="string">&quot;server&quot;</span> href=<span class="string">&quot;~/BaiduSearch&quot;</span>&gt;搜索&lt;/a&gt;&lt;/li&gt;</span><br></pre></td></tr></table></figure>
<p>秘笈心法<br>使用ViewState对象在同一个页面传值<br>ViewState对象用于在同一个页面内保存和还原状态信息.首先使用ViewState对象保存用户名mr,<br>例如:<br>ViewState[“UserName”]=”mr”;<br>然后将保存在ViewState的值赋给Label控件<br>this.Label1.Text=ViewState[“UserName”].ToString();<br>028.搜索引擎中智能匹配检索功能<br>关键技术<br>本实例的核心技术是通过Asp.NetAjaxControl Tookit中的AutoCompleteExtender控件实现的,AutoCompleteExtender控件实现自动输入功能,通过调用WebService或本页面对应的方法来获取提示数据,使用户能达到自动选择的功能<br>AutoCompleteExtender控件的主要属性及说明<br>TargetControlID    指定将被辅助完成自动输入的控件ID,这里的控件只能是TextBox.<br>ServicePath    指出提供服务的web服务路径,若不指出则ServiceMethod表示本页面对应的方法名<br>ServiceMethod    指出提供服务的方法名,例如,public string[] Method(string prefixText,int count),其中参数prefixText是用户输入的关键字,参数count是所需要获取提示数据的数量,两个参数都会自动传给WebService的ServiceMethod方法,返回值是用户所获的提示数据的来源数组<br>MinimumPrefixLength    指出开始提供提示服务时,TextBox控件应有的最小字符数,默认值为3<br>CompletionInterval        从服务器读取数据的时间间隔,默认为1000,单位为ms<br>EnableCaching    是否在客户端缓存数据,默认为true<br>CompletionSetCount    显示的条数,默认值为10<br>设计过程<br>新建一个Ajax网站,在Default.aspx页中主要添加一个ScriptManager控件,用于管理web页面中的Ajax控件,添加一个AutoCompleteExtender控件,用于实现自动完成功能,添加一个TextBox控件,用于接收输入检索关键字.<br>2.创建一个web服务,将其命名为KeyFind.asmx.该服务主要用于完成智能检索功能.在KeyFind.asmx web服务的keyFind.cs文件下实现如下代码:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line">using System;</span><br><span class="line">using System.Collections;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using System.Data;</span><br><span class="line">using System.Data.OleDb;</span><br><span class="line">using System.Data.SqlClient;</span><br><span class="line">using System.Linq;</span><br><span class="line">using System.Web;</span><br><span class="line">using System.Web.Services;</span><br><span class="line"></span><br><span class="line">/// &lt;summary&gt;</span><br><span class="line">/// KeyFind 的摘要说明</span><br><span class="line">/// &lt;/summary&gt;</span><br><span class="line">[WebService(Namespace = <span class="string">&quot;http://tempuri.org/&quot;</span>)]</span><br><span class="line">[WebServiceBinding(ConformsTo = WsiProfiles.BasicProfile1_1)]</span><br><span class="line">// 若要允许使用 ASP.NET AJAX 从脚本中调用此 Web 服务，请取消注释以下行。 </span><br><span class="line"> [System.Web.Script.Services.ScriptService]</span><br><span class="line">public class KeyFind : System.Web.Services.WebService</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    public <span class="function"><span class="title">KeyFind</span></span>()</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        //如果使用设计的组件，请取消注释以下行 </span><br><span class="line">        //InitializeComponent(); </span><br><span class="line">    &#125;</span><br><span class="line">    private string[] autoCompleteWordList = null;</span><br><span class="line">    //参数prefixText表示用户输入的前缀,count表示返回的个数</span><br><span class="line">    [WebMethod]</span><br><span class="line">    public string[] GetCompleteDepart(string prefixText, int count)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (string.IsNullOrEmpty(prefixText) == <span class="literal">true</span> || count &lt;= 0) <span class="built_in">return</span> null;</span><br><span class="line">        <span class="keyword">if</span> (autoCompleteWordList==null)</span><br><span class="line">        &#123;</span><br><span class="line">             SqlConnection conn = new SqlConnection(@<span class="string">&quot;Data Source=localhost;Initial Catalog=ZHH;Integrated Security=True&quot;</span>);</span><br><span class="line">            <span class="keyword">if</span> (conn.State == ConnectionState.Closed)</span><br><span class="line">            &#123;</span><br><span class="line">                conn.Open();</span><br><span class="line">            &#125;</span><br><span class="line">            SqlDataAdapter da = new SqlDataAdapter(<span class="string">&quot;SELECT *  FROM [ZHH].[dbo].[OEE_DT] where ErrorInfo like &#x27;%&quot;</span>+prefixText+<span class="string">&quot;%&#x27; order by Datetime&quot;</span>,conn);</span><br><span class="line">            DataSet ds=new DataSet();</span><br><span class="line">            da.Fill(ds);</span><br><span class="line">            string[] temp = new string[ds.Tables[0].Rows.Count];</span><br><span class="line">            int i = 0;</span><br><span class="line">            foreach (DataRow dr <span class="keyword">in</span> ds.Tables[0].Rows)</span><br><span class="line">            &#123;</span><br><span class="line">                temp[i] = dr[<span class="string">&quot;ErrorInfo&quot;</span>].ToString();</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">            Array.Sort(temp,new CaseInsensitiveComparer());</span><br><span class="line">            autoCompleteWordList = temp;//将临时数组的内容赋给返回数组</span><br><span class="line">            <span class="keyword">if</span> (conn.State==ConnectionState.Open)</span><br><span class="line">            &#123;</span><br><span class="line">                conn.Close();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        //定义二叉树搜索的起点</span><br><span class="line">        int index=Array.BinarySearch(autoCompleteWordList, prefixText,new CaseInsensitiveComparer());</span><br><span class="line">        <span class="keyword">if</span> (index&lt;0)</span><br><span class="line">        &#123;</span><br><span class="line">            index = -index;//修正起点</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        int matchCount = 0;//搜索符合条件的数据</span><br><span class="line">        <span class="keyword">for</span> (matchCount = 0; matchCount &lt; count&amp;&amp; matchCount+index&lt;autoCompleteWordList.Length;matchCount++)</span><br><span class="line">        &#123;//查看开头字符串相同的项</span><br><span class="line">            <span class="keyword">if</span> (autoCompleteWordList[index+matchCount].StartsWith(prefixText,StringComparison.CurrentCultureIgnoreCase)==<span class="literal">false</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        string[] matchResultList= new string[matchCount];//处理搜索结果</span><br><span class="line">        <span class="keyword">if</span> (matchCount&gt;0)</span><br><span class="line">        &#123;</span><br><span class="line">            Array.Copy(autoCompleteWordList,index,matchResultList,0,matchCount);//复制搜索结果</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">return</span> matchResultList;</span><br><span class="line">    &#125;</span><br><span class="line">    [WebMethod]</span><br><span class="line">    public string <span class="function"><span class="title">HelloWorld</span></span>()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">return</span> <span class="string">&quot;Hello World&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"> &lt;div class=<span class="string">&quot;col-md-4&quot;</span>&gt;</span><br><span class="line">            &lt;h2&gt;28.搜索引擎中智能匹配检索功能</span><br><span class="line">            &lt;/h2&gt;</span><br><span class="line">            &lt;p&gt;</span><br><span class="line">            </span><br><span class="line">                 &lt;asp:TextBox ID=<span class="string">&quot;TextBox22&quot;</span> runat=<span class="string">&quot;server&quot;</span> Width=<span class="string">&quot;300px&quot;</span> Height=<span class="string">&quot;24px&quot;</span> Text=<span class="string">&quot;&quot;</span>&gt;</span><br><span class="line">                    </span><br><span class="line">                 &lt;/asp:TextBox&gt;</span><br><span class="line">            &lt;ajaxToolkit:AutoCompleteExtender ID=<span class="string">&quot;AutoCompleteExtender1&quot;</span> runat=<span class="string">&quot;server&quot;</span> TargetControlID=<span class="string">&quot;TextBox22&quot;</span> ServicePath=<span class="string">&quot;KeyFind.asmx&quot;</span> CompletionSetCount=<span class="string">&quot;10&quot;</span> MinimumPrefixLength=<span class="string">&quot;1&quot;</span> ServiceMethod=<span class="string">&quot;GetCompleteDepart&quot;</span>&gt;</span><br><span class="line">                &lt;/ajaxToolkit:AutoCompleteExtender&gt;</span><br><span class="line">                </span><br><span class="line">                &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;</span><br><span class="line"></span><br><span class="line">                &lt;asp:Button ID=<span class="string">&quot;Button21&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&quot;搜索&quot;</span> Width=<span class="string">&quot;95px&quot;</span> OnClick=<span class="string">&quot;Search28_Click&quot;</span> /&gt;</span><br><span class="line"></span><br><span class="line">               </span><br><span class="line">               </span><br><span class="line"></span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">           </span><br><span class="line">           </span><br><span class="line">          </span><br><span class="line">        &lt;/div&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>秘笈心法<br>格式化输入数据为货币格式<br>主要用NumberFormatInfo类的CurrencyGroupSeparator属性格式化输入数据为货币格式.<br>CurrencyGrounpSeparator属性获取或设置在货币值中对小数点左边数字进行分组的字符串.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=<span class="string">&quot;col-md-4&quot;</span>&gt;</span><br><span class="line">            &lt;h2&gt;28.格式化输入数据为货币格式&lt;/h2&gt;</span><br><span class="line">            &lt;p&gt;</span><br><span class="line">                 &lt;asp:Label ID=<span class="string">&quot;Label27&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&quot; 输入的数字: &quot;</span>&gt;&lt;/asp:Label&gt;</span><br><span class="line">             </span><br><span class="line">                 &lt;asp:TextBox ID=<span class="string">&quot;TextBox23&quot;</span> Text=<span class="string">&quot;&quot;</span> runat=<span class="string">&quot;server&quot;</span> Width=<span class="string">&quot;215px&quot;</span>&gt;&lt;/asp:TextBox&gt;</span><br><span class="line">             </span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">            &lt;p&gt;</span><br><span class="line">                 &lt;asp:Label ID=<span class="string">&quot;Label28&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&quot; 格式化货币: &quot;</span>&gt;&lt;/asp:Label&gt;</span><br><span class="line">               </span><br><span class="line">                  &lt;asp:TextBox ID=<span class="string">&quot;TextBox24&quot;</span> Text=<span class="string">&quot;&quot;</span> runat=<span class="string">&quot;server&quot;</span> Width=<span class="string">&quot;242px&quot;</span>&gt;&lt;/asp:TextBox&gt;</span><br><span class="line">             </span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">             &lt;p&gt;</span><br><span class="line">                &lt;asp:Button ID=<span class="string">&quot;Button22&quot;</span> runat=<span class="string">&quot;server&quot;</span> OnClick=<span class="string">&quot;Button22_Click&quot;</span> Text=<span class="string">&quot;格式化货币&quot;</span> Width=<span class="string">&quot;181px&quot;</span> /&gt;</span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">             &lt;p&gt;</span><br><span class="line">                 </span><br><span class="line">                 &lt;asp:Label ID=<span class="string">&quot;Label29&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&quot; &quot;</span>&gt;&lt;/asp:Label&gt;</span><br><span class="line">                 </span><br><span class="line">                 &lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">private void Button22_Click(object sender,EventArgs e)&#123;</span><br><span class="line">	NumberFormatInfo nfi=new CultureInfo(<span class="string">&quot;zh-CN&quot;</span>,<span class="literal">false</span>).NumberFormat;</span><br><span class="line">	nfi.CurrencyGroupSeparator=<span class="string">&quot;&quot;</span>;</span><br><span class="line">	textBox24.Text=Convert.ToDouble(textBox23.text).Tostring(<span class="string">&quot;c&quot;</span>,nfi);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> 1.3.思维扩展的常用算法<br>029.链表算法——单向链表<br>链表是一种重要的数据结构,该结构由节点构成,每个节点包含两部分数据,第一部分是节点本身的数据,第二部分是指向下一个节点的指针,对于单向链表,链表中存在两个特殊的节点,分别为头节点和尾节点,头节点本身没有数据,只存储下一个节点的指针,尾节点只存储数据.<br>head    5471    4512    5674    8778<br>5471    数据4512    数据5674    数据8778    数据Null<br>本实例中为了描述节点,设计了一个节点类,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">public class ListNode</span><br><span class="line">&#123;</span><br><span class="line">    public ListNode(int NewValue)</span><br><span class="line">    &#123;</span><br><span class="line">        //</span><br><span class="line">        // TODO: 在此处添加构造函数逻辑</span><br><span class="line">        //</span><br><span class="line">        Value = NewValue;</span><br><span class="line">    &#125;</span><br><span class="line">    public ListNode Previous;//前一个</span><br><span class="line">    public ListNode Next;//后一个</span><br><span class="line">    public int Value;//值</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>其中,私有成员Value用于存储节点本身的数据,Next用于存储下一个节点的指针,Previous用于存储上一个节点的指针,对于链表的操作,无非是进行节点的查找,插入和删除.<br>1.查找节点<br>在进行节点查找时,通常根据节点的数据查找节点.要实现节点的查找,首先需要解决的问题就是遍历链表中的所有节点,可以从链表头节点开始,利用循环的方式向下查找,如果当前节点指向的下一个节点不为空,则将下一个节点设置为当前节点.<br>2.插入节点<br>插入节点需要考虑两种情况:第一种情况是在链表尾节点插入节点,这种情况比较简单,只要将当前尾节点的Next(指向下一个节点的指针)指向新插入的节点即可.第二种情况是在链表的中间位置插入节点.首先需要确定在哪个节点后插入新的节点.这就需要由用户来确定,本实例中为了演示的需要,笔者将树视图控件中的当前选项设置尾当前节点,然后需要记录当前节点的下一个节点(避免发生”脱节”),可以定义一个临时的节点进行记录,将当前节点的下一个节点指向新添加的节点,再将新添加节点的下一个节点指向临时节点<br>3.删除节点<br>删除节点与插入节点类似,也需要考虑两种情况,第一种情况是删除尾节点,这种情况操作相对比较简单,首先找到尾节点之前的一个节点,将该节点指向的下一个节点设置为空,然后释放尾节点资源,第二种情况是删除链表中间部分的节点,首先需要找到当前节点的上一个节点,并定义一个临时节点PriorNode进行记录,然后再定义一个临时节点TempNode记录当前节点的下一个节点,最后将PriorNode的下一个节点指向TempNode,并释放当前节点<br>设计过程<br>1.创建一个类库,将其命名为UnilateralismChainTable,默认类名为Class1.<br>2.将Class1.cs文件重命名为Clist.cs<br>3.定义节点之后,开始类线性表的操作编程,在List类中,采用了Head,Tail,Current3个指针,使用Append,MoveFirst,MovePrevious,MoveNext,MoveLast,Delete,InsertAscending,Clear实现移动,添加,删除,升序插入,降序插入,清空链表操作,并用GetCurrentValue方法取得当前的值.<br>在构造函数中初始化,并定义指针变量,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br></pre></td><td class="code"><pre><span class="line">namespace UnilateralismChainTable</span><br><span class="line">&#123;</span><br><span class="line">    public class Clist &#123; </span><br><span class="line">        public <span class="function"><span class="title">Clist</span></span>() &#123;</span><br><span class="line">            ListCountValue = 0;</span><br><span class="line">            Head = null;</span><br><span class="line">            Tail = null;</span><br><span class="line">        &#125;</span><br><span class="line">        private ListNode Head;//头指针</span><br><span class="line">        private ListNode Tail;//尾指针</span><br><span class="line">        private ListNode Current;//当前指针</span><br><span class="line">        private int ListCountValue;//链表数据的个数</span><br><span class="line">        <span class="comment">#region 尾部添加数据</span></span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">        //尾部添加数据</span><br><span class="line">        public void Append(int DataValue) &#123;</span><br><span class="line">            ListNode NewNode = new ListNode(DataValue);</span><br><span class="line">            <span class="keyword">if</span> (IsNull())</span><br><span class="line">            &#123;</span><br><span class="line">                Head = NewNode; </span><br><span class="line">                Tail=NewNode;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                Tail.Next = NewNode;</span><br><span class="line">                NewNode.Previois = Tail;</span><br><span class="line">                Tail = NewNode;</span><br><span class="line">            &#125;</span><br><span class="line">            Current = NewNode;</span><br><span class="line">            ListCountValue += 1;//链表数据个数加1</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">#endregion</span></span><br><span class="line">        <span class="comment">#region 删除数据</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 删除当前数据的代码</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        public void <span class="function"><span class="title">Delete</span></span>() &#123;</span><br><span class="line">            <span class="keyword">if</span> (!IsNull())//若为空链表</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (IsBof())//若删除头</span><br><span class="line">                &#123;</span><br><span class="line">                    Head = Current.Next;</span><br><span class="line">                    Current = Head;</span><br><span class="line">                    ListCountValue-= 1;</span><br><span class="line">                    <span class="built_in">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (IsEof())//若删除尾</span><br><span class="line">                &#123;</span><br><span class="line">                    Tail = Current.Previois;</span><br><span class="line">                    Current = Tail;</span><br><span class="line">                    ListCountValue-= 1;</span><br><span class="line">                    <span class="built_in">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                Current.Previois.Next = Current.Next;//若删除中间数据</span><br><span class="line">                Current = Current.Previois;</span><br><span class="line">                ListCountValue-= 1;</span><br><span class="line">                <span class="built_in">return</span>;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">#endregion</span></span><br><span class="line">        <span class="comment">#region 移动数据</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 向后移动一个数据</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        public void <span class="function"><span class="title">MoveNext</span></span>() &#123;</span><br><span class="line">            <span class="keyword">if</span> (!IsEof()) Current = Current.Next;</span><br><span class="line">        &#125;</span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 向前移动一个数据</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        public void <span class="function"><span class="title">MovePrevious</span></span>() &#123;</span><br><span class="line">            <span class="keyword">if</span> (!IsBof()) Current = Current.Previois;</span><br><span class="line">        &#125;</span><br><span class="line">        //移动到第一个数据</span><br><span class="line">        public void <span class="function"><span class="title">MoveFirst</span></span>() &#123;</span><br><span class="line">            Current = Head;</span><br><span class="line">        &#125;</span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 移动到最后一个数据</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        public void <span class="function"><span class="title">MoveLast</span></span>() &#123;</span><br><span class="line">            Current = Tail;</span><br><span class="line">        &#125;</span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 判断是否为空链表</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        /// &lt;returns&gt;&lt;/returns&gt;</span><br><span class="line">        /// &lt;exception cref=<span class="string">&quot;NotImplementedException&quot;</span>&gt;&lt;/exception&gt;</span><br><span class="line">        private bool <span class="function"><span class="title">IsNull</span></span>()</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (ListCountValue == 0)</span><br><span class="line">                <span class="built_in">return</span> <span class="literal">true</span>;</span><br><span class="line">            <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 判断是否到达尾部</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        /// &lt;returns&gt;&lt;/returns&gt;</span><br><span class="line">        /// &lt;exception cref=<span class="string">&quot;NotImplementedException&quot;</span>&gt;&lt;/exception&gt;</span><br><span class="line">        private bool <span class="function"><span class="title">IsEof</span></span>()</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (Current==Tail)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 判断是否为到达头部</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        /// &lt;returns&gt;&lt;/returns&gt;</span><br><span class="line">        /// &lt;exception cref=<span class="string">&quot;NotImplementedException&quot;</span>&gt;&lt;/exception&gt;</span><br><span class="line">        private bool <span class="function"><span class="title">IsBof</span></span>()</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (Current==Head)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;;</span><br><span class="line">            <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 获取节点值</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        /// &lt;returns&gt;&lt;/returns&gt;</span><br><span class="line">        public int <span class="function"><span class="title">GetCurrentValue</span></span>() &#123;</span><br><span class="line">            <span class="built_in">return</span> Current.Value;</span><br><span class="line">        &#125;</span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 取得链表的数据个数</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        public int ListCount</span><br><span class="line">        &#123;</span><br><span class="line">            get &#123; <span class="built_in">return</span> ListCountValue; &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ///清空链表</span><br><span class="line">        public void <span class="function"><span class="title">Clear</span></span>() &#123; </span><br><span class="line">            MoveFirst();</span><br><span class="line">            <span class="keyword">while</span> (!IsNull())</span><br><span class="line">            &#123;</span><br><span class="line">                Delete();//若不为空链表,从尾部删除</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">#endregion</span></span><br><span class="line">        <span class="comment">#region 在当前位置前插入数据</span></span><br><span class="line">        public void Insert(int DataValue) &#123; </span><br><span class="line">            ListNode NewNode=new ListNode(DataValue);</span><br><span class="line">            <span class="keyword">if</span> (IsNull())</span><br><span class="line">            &#123;</span><br><span class="line">                Append(DataValue);//为空表,则添加</span><br><span class="line">                <span class="built_in">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (IsBof())</span><br><span class="line">            &#123;</span><br><span class="line">                //为头部插入</span><br><span class="line">                NewNode.Next = Head;</span><br><span class="line">                Head.Previois = NewNode;</span><br><span class="line">                Head = NewNode;</span><br><span class="line">                Current = Head;</span><br><span class="line">                ListCountValue += 1;</span><br><span class="line">                <span class="built_in">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            //中间插入</span><br><span class="line">            NewNode.Next = Current;</span><br><span class="line">            NewNode.Previois = Current.Previois;</span><br><span class="line">            Current.Previois.Next = NewNode;</span><br><span class="line">            Current.Previois = NewNode;</span><br><span class="line">            Current = NewNode;</span><br><span class="line">            ListCountValue += 1;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">#endregion</span></span><br><span class="line">        <span class="comment">#region 升序插入</span></span><br><span class="line">        public void InsertAscending(int InsertValue)</span><br><span class="line">        &#123;</span><br><span class="line">            //参数:InsertValue 插入的数据</span><br><span class="line">            <span class="keyword">if</span> (IsNull())   //为空链表</span><br><span class="line">            &#123;</span><br><span class="line">                Append(InsertValue);    //添加</span><br><span class="line">                <span class="built_in">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            MoveFirst();    //移动到头部</span><br><span class="line">            <span class="keyword">if</span> (InsertValue &lt; GetCurrentValue()) &#123;</span><br><span class="line">                Insert(InsertValue);    //满足条件,则插入,退出</span><br><span class="line">                <span class="built_in">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (InsertValue&lt;GetCurrentValue)</span><br><span class="line">                &#123;</span><br><span class="line">                    Insert(InsertValue);</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (IsEof())</span><br><span class="line">                &#123;</span><br><span class="line">                    Append(InsertValue);//尾部添加</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                MoveNext();//移动到下一个指针</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">#endregion</span></span><br><span class="line">        <span class="comment">#region 进行降序插入</span></span><br><span class="line">        public void InsertUnAscending(int InsertValue) &#123;</span><br><span class="line">            //参数:InsertValue 插入的数据</span><br><span class="line">            <span class="keyword">if</span> (IsNull())       //为空链表</span><br><span class="line">            &#123;</span><br><span class="line">                Append(InsertValue);//添加</span><br><span class="line">                <span class="built_in">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            MoveFirst();    //移动到头部</span><br><span class="line">            <span class="keyword">if</span> (InsertValue&gt;GetCurrentValue())</span><br><span class="line">            &#123;</span><br><span class="line">                Insert(InsertValue);    //满足条件,则插入,退出</span><br><span class="line">                <span class="built_in">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (InsertValue&gt;GetCurrentValue)</span><br><span class="line">                &#123;</span><br><span class="line">                    Insert(InsertValue);    //满足条件,则插入,退出</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (IsEof()) &#123;</span><br><span class="line">                    Append(InsertValue);    //尾部添加</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                MoveNext(); //移动到下一个指针</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">#endregion</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>秘笈心法<br>“凯撒”密码的算法.在该算法中,单词的每一个字母都被字母表中与该字母相隔的4个字母的下一个字母替换,例如Abyz变成了Fgde.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">using System;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using System.Linq;</span><br><span class="line">using System.Text;</span><br><span class="line">using System.Web;</span><br><span class="line"></span><br><span class="line">/// &lt;summary&gt;</span><br><span class="line">/// CaesarHelper 的摘要说明</span><br><span class="line">/// &lt;/summary&gt;</span><br><span class="line">public class CaesarHelper</span><br><span class="line">&#123;</span><br><span class="line">   </span><br><span class="line">    public string Caesar(string str)</span><br><span class="line">    &#123;</span><br><span class="line">        int spaceNum = 5;</span><br><span class="line">        char[] c = str.ToCharArray();</span><br><span class="line">        string strCaesar = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">for</span> (int i = 0; i &lt; str.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            string ins = c[i].ToString();</span><br><span class="line">            string outs = <span class="string">&quot;&quot;</span>;</span><br><span class="line">            bool isChar=<span class="string">&quot;abcdefghijklmnopqrstuvwxyz&quot;</span>.Contains(ins.ToLower());</span><br><span class="line">            bool isToUpperChar = isChar &amp;&amp; (ins.ToUpper()==ins);</span><br><span class="line">            ins=ins.ToLower();</span><br><span class="line">            <span class="keyword">if</span> (isChar)</span><br><span class="line">            &#123;</span><br><span class="line">                int offset = (ASCII(ins) + spaceNum - ASCII(<span class="string">&quot;a&quot;</span>))%(ASCII(<span class="string">&quot;z&quot;</span>) - ASCII(<span class="string">&quot;a&quot;</span>)+1);</span><br><span class="line">                outs = Convert.ToChar(offset+ASCII(<span class="string">&quot;a&quot;</span>)).ToString();</span><br><span class="line">                <span class="keyword">if</span> (isToUpperChar)</span><br><span class="line">                &#123;</span><br><span class="line">                    outs = outs.ToUpper();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                outs = ins;</span><br><span class="line">                strCaesar += outs;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">return</span> strCaesar;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private int ASCII(string ins)</span><br><span class="line">    &#123;</span><br><span class="line">        byte[] array = new byte[1];</span><br><span class="line">        array = Encoding.ASCII.GetBytes(ins);</span><br><span class="line">        int asciicode = (short)(array[0]);</span><br><span class="line">        <span class="built_in">return</span> asciicode;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>030.链表算法—双向链表<br>实例说明<br>在单向链表的存储机构中,只有一个指示直接后继的指针域,因此从某个节点出发只能顺指针往后查询其他节点,若要查询节点的直接前驱,则需要从表头指针出发,为了克服单链表这种单向性的缺点,可以使用双向链表,在双向链表的节点中有两个指针域,一个指向直接前驱,另一个指向直接后继<br>关键技术<br>双向链表在删除节点时,不但要修改节点的直接后继指针,还要同时修改节点的直接前驱指针,在插入时更是要修改插入节点的前驱和后继的两个方向上的指针.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br></pre></td><td class="code"><pre><span class="line">using System;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using System.Linq;</span><br><span class="line">using System.Text;</span><br><span class="line">using System.Threading.Tasks;</span><br><span class="line"></span><br><span class="line">namespace UnilateralismChainTable</span><br><span class="line">&#123;</span><br><span class="line">    public class Clists</span><br><span class="line">    &#123;</span><br><span class="line">        private string clistName = <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">        public <span class="function"><span class="title">Clists</span></span>()</span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 表名</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        public string ClistName &#123; get =&gt; clistName; <span class="built_in">set</span> =&gt; clistName = value; &#125;</span><br><span class="line">        private DoubleListNode Head;//头指针</span><br><span class="line">        private DoubleListNode Tail;//尾指针</span><br><span class="line">        private DoubleListNode Current;//当前指针</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">        public DoubleListNode current &#123; get =&gt; Current; <span class="built_in">set</span> =&gt; Current = value; &#125;</span><br><span class="line">        private int ListCountValue;//链表数据的个数</span><br><span class="line">        <span class="comment">#region 尾部添加数据</span></span><br><span class="line">        public void Append(DoubleLink DataValue) &#123;</span><br><span class="line">            DoubleListNode NewNode = new DoubleListNode(DataValue);</span><br><span class="line">            <span class="keyword">if</span> (IsNull())   //如果头指针为空</span><br><span class="line">            &#123;</span><br><span class="line">                Head= NewNode;</span><br><span class="line">                Tail = NewNode;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                Tail.Next = NewNode;</span><br><span class="line">                NewNode.Previous = Tail;</span><br><span class="line">                Tail= NewNode;</span><br><span class="line">            &#125;</span><br><span class="line">            Current= NewNode;</span><br><span class="line">            ListCountValue += 1;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">#endregion</span></span><br><span class="line">        <span class="comment">#region 删除当前数据</span></span><br><span class="line">        public void <span class="function"><span class="title">Delete</span></span>() &#123;</span><br><span class="line">            <span class="keyword">if</span> (!IsNull())  //若为空链表</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (IsBof())  //若删除头部</span><br><span class="line">                &#123;</span><br><span class="line">                    Head = Current.Next;</span><br><span class="line">                    Current = Head;</span><br><span class="line">                    ListCountValue-= 1;</span><br><span class="line">                    <span class="built_in">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (IsEof())    //若删除尾部</span><br><span class="line">                &#123;</span><br><span class="line">                    Tail = Current.Previous;</span><br><span class="line">                    Tail.Next = null;</span><br><span class="line">                    Current = Tail;</span><br><span class="line">                    ListCountValue -= 1;</span><br><span class="line">                    <span class="built_in">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                Current.Previous.Next = Current.Next;</span><br><span class="line">                Current=Current.Previous;</span><br><span class="line">                ListCountValue -= 1;</span><br><span class="line">                <span class="built_in">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 向后移动一个数据</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        public void <span class="function"><span class="title">MoveNext</span></span>() &#123;</span><br><span class="line">            <span class="keyword">if</span> (!IsEof()) Current = Current.Next;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 向前移动一个数据</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        public void <span class="function"><span class="title">MovePrevious</span></span>() &#123;</span><br><span class="line">            <span class="keyword">if</span> (!IsBof()) Current = Current.Previous;</span><br><span class="line">        &#125;</span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 移动到第一个数据</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        public void <span class="function"><span class="title">MoveFirst</span></span>() &#123;</span><br><span class="line">            Current = Head;</span><br><span class="line">        &#125;</span><br><span class="line">        public void <span class="function"><span class="title">MoveLast</span></span>()</span><br><span class="line">        &#123;</span><br><span class="line">            Current = Tail;</span><br><span class="line">        &#125;</span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 判断是否到达尾部</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        /// &lt;returns&gt;&lt;/returns&gt;</span><br><span class="line">        /// &lt;exception cref=<span class="string">&quot;NotImplementedException&quot;</span>&gt;&lt;/exception&gt;</span><br><span class="line">        private bool <span class="function"><span class="title">IsEof</span></span>()</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (Current == Tail)</span><br><span class="line">                <span class="built_in">return</span> <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 判断是否到达头部</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        /// &lt;returns&gt;&lt;/returns&gt;</span><br><span class="line">        private bool <span class="function"><span class="title">IsBof</span></span>()</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (Current == Head)</span><br><span class="line">                <span class="built_in">return</span> <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">#endregion</span></span><br><span class="line">        private bool <span class="function"><span class="title">IsNull</span></span>()</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (ListCountValue == 0)</span><br><span class="line">                <span class="built_in">return</span> <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        public DoubleLink <span class="function"><span class="title">GetCurrentValue</span></span>() &#123;</span><br><span class="line">            <span class="built_in">return</span> Current.Goods;</span><br><span class="line">        &#125;</span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 取得链表的数据个数</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        public int ListCount &#123;</span><br><span class="line">            get </span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">return</span> ListCountValue;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        public void <span class="function"><span class="title">Clear</span></span>() &#123; </span><br><span class="line">            MoveFirst();</span><br><span class="line">            <span class="keyword">while</span> (!IsNull())</span><br><span class="line">            &#123;</span><br><span class="line">                Delete();//若不为空,从尾部删除</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 在当前位置插入数据</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        /// &lt;param name=<span class="string">&quot;DataValue&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">        public void Insert(DoubleLink DataValue) &#123;</span><br><span class="line">            DoubleListNode NewNode = new DoubleListNode(DataValue);</span><br><span class="line">            <span class="keyword">if</span> (IsNull())</span><br><span class="line">            &#123;</span><br><span class="line">                Append(DataValue);  //为空表,则添加</span><br><span class="line">                <span class="built_in">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (IsBof()) &#123;</span><br><span class="line">                ///为头部插入</span><br><span class="line">                NewNode.Next = Head;</span><br><span class="line">                Head.Previous = NewNode;</span><br><span class="line">                Head = NewNode;</span><br><span class="line">                Current = Head;</span><br><span class="line">                ListCountValue += 1;</span><br><span class="line">                <span class="built_in">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            NewNode.Next = Current;</span><br><span class="line">            NewNode.Previois = Current.Previous;//中间插入</span><br><span class="line">            Current.Previous.Next = NewNode;</span><br><span class="line">            Current.Previous = NewNode;</span><br><span class="line">            Current = NewNode;</span><br><span class="line">            ListCountValue+= 1;</span><br><span class="line">        &#125;</span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 升序插入</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        /// &lt;param name=<span class="string">&quot;InsertValue&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">        public void InsertAscending(DoubleLink InsertValue) &#123;</span><br><span class="line">            <span class="keyword">if</span> (IsNull())</span><br><span class="line">            &#123;</span><br><span class="line">                Append(InsertValue);</span><br><span class="line">                <span class="built_in">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            MoveFirst();    //移动到头部</span><br><span class="line">            <span class="keyword">if</span> (InsertValue.Number&lt;GetCurrentValue().Number)</span><br><span class="line">            &#123;</span><br><span class="line">                Insert(InsertValue);</span><br><span class="line">                <span class="built_in">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (InsertValue.Number&lt;GetCurrentValue().Number)</span><br><span class="line">                &#123;</span><br><span class="line">                    Insert(InsertValue);//满足条件则插入退出</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (IsEof())</span><br><span class="line">                &#123;</span><br><span class="line">                    Append(InsertValue);//尾部添加</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                MoveNext();//移动到下一个指针</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 降序插入</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        /// &lt;param name=<span class="string">&quot;InsertValue&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">        public void InsertUnAscending(DoubleLink InsertValue) &#123;</span><br><span class="line">            <span class="keyword">if</span> (IsNull())</span><br><span class="line">            &#123;</span><br><span class="line">                Append(Insert);</span><br><span class="line">                <span class="built_in">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            MoveFirst();</span><br><span class="line">            <span class="keyword">if</span> (InsertValue.Number&gt;GetCurrentValue().Number)</span><br><span class="line">            &#123;</span><br><span class="line">                Insert(InsertValue);</span><br><span class="line">                <span class="built_in">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (InsertValue.Number&gt;GetCurrentValue().Number)</span><br><span class="line">                &#123;</span><br><span class="line">                    Insert(InsertValue);</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (IsEof())</span><br><span class="line">                &#123;</span><br><span class="line">                    Append(InsertValue);</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                MoveNext();//移动到下一个指针</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">using System;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using System.Diagnostics.Metrics;</span><br><span class="line">using System.Linq;</span><br><span class="line">using System.Text;</span><br><span class="line">using System.Threading.Tasks;</span><br><span class="line"></span><br><span class="line">namespace UnilateralismChainTable</span><br><span class="line">&#123;</span><br><span class="line">    public class DoubleLink</span><br><span class="line">    &#123;</span><br><span class="line">        private int number;</span><br><span class="line">        private string name;</span><br><span class="line">        private int counter;</span><br><span class="line"></span><br><span class="line">        public DoubleLink(int num, string Name, int count)</span><br><span class="line">        &#123;</span><br><span class="line">            //获取参数值</span><br><span class="line">            number = num;</span><br><span class="line">            name = Name;</span><br><span class="line">            counter = count;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public int Number &#123; get =&gt; number; private <span class="built_in">set</span> =&gt; number = value; &#125;</span><br><span class="line">        public string Name &#123; get =&gt; name; private <span class="built_in">set</span> =&gt; name = value; &#125;</span><br><span class="line">        public int Counter &#123; get =&gt; counter; private <span class="built_in">set</span> =&gt; counter = value; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">using System;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using System.Linq;</span><br><span class="line">using System.Text;</span><br><span class="line">using System.Threading.Tasks;</span><br><span class="line"></span><br><span class="line">namespace UnilateralismChainTable</span><br><span class="line">&#123;</span><br><span class="line">    public class DoubleListNode</span><br><span class="line">    &#123;</span><br><span class="line">        private DoubleLink goods;</span><br><span class="line"></span><br><span class="line">        public DoubleListNode(DoubleLink bugs)</span><br><span class="line">        &#123;</span><br><span class="line">            goods = bugs;</span><br><span class="line">        &#125;</span><br><span class="line">        public DoubleListNode Previous;</span><br><span class="line">        private DoubleListNode next;</span><br><span class="line"></span><br><span class="line">        public DoubleListNode Next &#123; get =&gt; next; <span class="built_in">set</span> =&gt; next = value; &#125;</span><br><span class="line"></span><br><span class="line">        public DoubleLink Goods &#123; get =&gt; goods; private <span class="built_in">set</span> =&gt; goods = value; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>秘笈心法<br>使用MD5算法对密码进行加密<br>对密码进行加密的算法有很多种,在C#中较常使用的是MD5加密算法,它是一种用于产生数字签名的一项散列算法</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">using System;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using System.Linq;</span><br><span class="line">using System.Security.Cryptography;</span><br><span class="line">using System.Text;</span><br><span class="line">using System.Web;</span><br><span class="line"></span><br><span class="line">/// &lt;summary&gt;</span><br><span class="line">/// MD5Helper 的摘要说明</span><br><span class="line">/// &lt;/summary&gt;</span><br><span class="line">public class MD5Helper</span><br><span class="line">&#123;</span><br><span class="line">   </span><br><span class="line">    public string Encrypt(string strPwd) &#123; </span><br><span class="line">        MD5 md5=new MD5CryptoServiceProvider();</span><br><span class="line">        byte[] data=Encoding.Default.GetBytes(strPwd);//将字符编码为一个字节序列</span><br><span class="line">        byte[] md5data=md5.ComputeHash(data);</span><br><span class="line">        md5.Clear();</span><br><span class="line">        string str = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">for</span> (int i = 0; i &lt; md5data.Length-1; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            str += md5data[i].ToString(<span class="string">&quot;x&quot;</span>).PadLeft(2,<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">return</span> str;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>031.常用算法—-堆栈<br>栈是一种重要的数据结构,从数据结构的角度看,栈也是线性表,其特殊性在于栈的基本操作是线性表操作的子集,它们是操作受限的线性表,因此可以称为限定性的数据结构<br>关键技术<br>栈是限定仅在表尾进行插入或删除操作的线性表,因此对栈来说,表尾端有其特殊含义,称为”栈项(top)”,相应的,表头端称为”栈底(bottom)”.不含元素的空表称为空栈.栈的修改是按照后进先出的原则进行的,因此栈又称为后进先出的线性表,在实现栈的数据结构时一定要注意这个特点.栈的基本操作除了在栈顶进行插入或删除外,还有栈的初始化,判断是否为空以及取栈顶元素等.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line">using Microsoft.VisualBasic.FileIO;</span><br><span class="line">using System;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using System.Linq;</span><br><span class="line">using System.Text;</span><br><span class="line">using System.Threading.Tasks;</span><br><span class="line"></span><br><span class="line">namespace UnilateralismChainTable</span><br><span class="line">&#123;</span><br><span class="line">    public class CStack</span><br><span class="line">    &#123;</span><br><span class="line">        public Clist m_List;//调用链表类</span><br><span class="line">        public <span class="function"><span class="title">CStack</span></span>() &#123; </span><br><span class="line">            m_List= new Clist();</span><br><span class="line">        &#125;</span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 压入堆栈</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        /// &lt;param name=<span class="string">&quot;PushValue&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">        public void Push(int PushValue) &#123;</span><br><span class="line">            m_List.Append(PushValue);</span><br><span class="line">        &#125;</span><br><span class="line">        //弹出堆栈数据,如果为空,则取得2147483647为int的最大值</span><br><span class="line">        public int <span class="function"><span class="title">Pop</span></span>()</span><br><span class="line">        &#123;</span><br><span class="line">            int PopValue;</span><br><span class="line">            <span class="keyword">if</span> (!IsNullStack())</span><br><span class="line">            &#123;</span><br><span class="line">                MoveTop();//移动到顶部</span><br><span class="line">                PopValue = GetCurrentValue();//取得弹出值</span><br><span class="line">                Delete();//删除</span><br><span class="line">                <span class="built_in">return</span> PopValue;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">return</span> 2147483647;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 删除取得当前的节点</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        /// &lt;exception cref=<span class="string">&quot;NotImplementedException&quot;</span>&gt;&lt;/exception&gt;</span><br><span class="line">        private void <span class="function"><span class="title">Delete</span></span>()</span><br><span class="line">        &#123;</span><br><span class="line">           m_List.Delete();</span><br><span class="line">        &#125;</span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 取得当前的值</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        /// &lt;returns&gt;&lt;/returns&gt;</span><br><span class="line">        /// &lt;exception cref=<span class="string">&quot;NotImplementedException&quot;</span>&gt;&lt;/exception&gt;</span><br><span class="line">        private int <span class="function"><span class="title">GetCurrentValue</span></span>()</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">return</span> m_List.GetCurrentValue();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      </span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 判断是否为空的堆栈</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        /// &lt;returns&gt;&lt;/returns&gt;</span><br><span class="line">        /// &lt;exception cref=<span class="string">&quot;NotImplementedException&quot;</span>&gt;&lt;/exception&gt;</span><br><span class="line">        private bool <span class="function"><span class="title">IsNullStack</span></span>()</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (m_List.IsNull())</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;;</span><br><span class="line">            <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 堆栈的个数</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        public int StackListCount</span><br><span class="line">        &#123;</span><br><span class="line">            get &#123;</span><br><span class="line">                <span class="built_in">return</span> m_List.ListCount;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 移动到堆栈的底部</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        public void <span class="function"><span class="title">MoveBottom</span></span>() &#123; </span><br><span class="line">            m_List.MoveFirst();</span><br><span class="line">        &#125;</span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 移动到堆栈的顶部</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        public void <span class="function"><span class="title">MoveTop</span></span>() &#123; </span><br><span class="line">            m_List.MoveLast();</span><br><span class="line">        &#125;</span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 向上移动</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        public void <span class="function"><span class="title">MoveUp</span></span>() &#123; </span><br><span class="line">        m_List.MoveNext();</span><br><span class="line">        &#125;</span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 向下移动</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        public void <span class="function"><span class="title">MoveDown</span></span>()</span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            m_List.MovePrevious();</span><br><span class="line">        &#125;</span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 清空堆栈</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        public void <span class="function"><span class="title">Clear</span></span>() &#123; </span><br><span class="line">        m_List.Clear();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>秘笈心法<br>C#随机数的产生<br>其中int型参数Len为产生随机数的个数</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">using System;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using System.Linq;</span><br><span class="line">using System.Web;</span><br><span class="line"></span><br><span class="line">/// &lt;summary&gt;</span><br><span class="line">/// RandomHelper 的摘要说明</span><br><span class="line">/// &lt;/summary&gt;</span><br><span class="line">public class RandomHelper</span><br><span class="line">&#123;</span><br><span class="line">    public string RandomNum(int Len) &#123;</span><br><span class="line">        string str= <span class="string">&quot;0,1,2,3,4,5,6,7,8,9,&quot;</span>;</span><br><span class="line">        str += <span class="string">&quot;a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,&quot;</span>;</span><br><span class="line">        str += <span class="string">&quot;A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z&quot;</span>;</span><br><span class="line">        string[] S=str.Split(new char[] &#123; <span class="string">&#x27;,&#x27;</span> &#125;);</span><br><span class="line">        string strNum = <span class="string">&quot;&quot;</span>;//用于记录上一个随机数的值,避免产生两个重复值</span><br><span class="line">        int tag = -1;</span><br><span class="line">        Random md=new Random();</span><br><span class="line">        <span class="keyword">for</span> (int i = 1; i &lt;=Len; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (tag==-1)</span><br><span class="line">            &#123;</span><br><span class="line">                md = new Random(i*tag*unchecked((int)DateTime.Now.Ticks));//初始化一个Random实例  </span><br><span class="line">            &#125;</span><br><span class="line">            int mdNum = md.Next(61);//返回小于61的非负随机数</span><br><span class="line">            <span class="keyword">if</span> (tag!=-1&amp;&amp; tag==mdNum)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">return</span> RandomNum(1);</span><br><span class="line">            &#125;</span><br><span class="line">            tag = mdNum;</span><br><span class="line">            strNum += S[mdNum];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">return</span> strNum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>032.常用算法——队列<br>实例说明<br>队列是链表的扩展,它是一种特殊的链表,和堆栈类似,它和堆栈的不同在于,堆栈采用的是后进先出原则,而队列采用的是先进先出原则<br>关键技术<br>和栈相反,队列是先进先出的线性表,其只允许在表的一端进行插入,而在另一端删除元素,在队列中,允许插入的一端称为队尾,允许删除的一端称为队头,在队列的实现过程中主要有两个操作,即入队和出队.<br>1.入队就是在队列的尾部添加数据,队列数据个数加1,尾指针后移.<br>2.出队就是在队列的头部取数据,然后删除该数据,头指针后移.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line">using System;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using System.Linq;</span><br><span class="line">using System.Text;</span><br><span class="line">using System.Threading.Tasks;</span><br><span class="line"></span><br><span class="line">namespace UnilateralismChainTable</span><br><span class="line">&#123;</span><br><span class="line">    public class Queue</span><br><span class="line">    &#123;</span><br><span class="line">        private Clist m_List;</span><br><span class="line">        public <span class="function"><span class="title">Queue</span></span>() &#123; </span><br><span class="line">        m_List= new Clist();</span><br><span class="line">        &#125;</span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 入队</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        /// &lt;param name=<span class="string">&quot;DataValue&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">        public void EnQueue(int DataValue) &#123;</span><br><span class="line">        m_List.Append(DataValue);</span><br><span class="line">        &#125;</span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 出队</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        /// &lt;returns&gt;&lt;/returns&gt;</span><br><span class="line">        public int <span class="function"><span class="title">DeQueue</span></span>() &#123;</span><br><span class="line">            int QueValue;</span><br><span class="line">            <span class="keyword">if</span> (!IsNull())</span><br><span class="line">            &#123;</span><br><span class="line">                m_List.MoveFirst();</span><br><span class="line">                QueValue=m_List.GetCurrentValue();</span><br><span class="line">                m_List.Delete();</span><br><span class="line">                <span class="built_in">return</span> QueValue;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">return</span> 2147483647;</span><br><span class="line">        &#125;</span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 判断队列是否为空</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        /// &lt;returns&gt;&lt;/returns&gt;</span><br><span class="line">        /// &lt;exception cref=<span class="string">&quot;NotImplementedException&quot;</span>&gt;&lt;/exception&gt;</span><br><span class="line">        private bool <span class="function"><span class="title">IsNull</span></span>()</span><br><span class="line">        &#123;</span><br><span class="line">           <span class="built_in">return</span> m_List.IsNull();</span><br><span class="line">        &#125;</span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 清空队列</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        public void <span class="function"><span class="title">Clear</span></span>() &#123;</span><br><span class="line">            m_List.Clear();</span><br><span class="line">        &#125;</span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 取得队列的数据个数</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        public int QueueCount &#123; get &#123; <span class="built_in">return</span> m_List.ListCount; &#125; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">``</span><br><span class="line">秘笈心法</span><br><span class="line">判断IP是否正确</span><br><span class="line">``` bash</span><br><span class="line">using System;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using System.Linq;</span><br><span class="line">using System.Web;</span><br><span class="line"></span><br><span class="line">/// &lt;summary&gt;</span><br><span class="line">/// IPHelper 的摘要说明</span><br><span class="line">/// &lt;/summary&gt;</span><br><span class="line">public class IPHelper</span><br><span class="line">&#123;</span><br><span class="line">    public <span class="function"><span class="title">IPHelper</span></span>()</span><br><span class="line">    &#123;</span><br><span class="line">        //</span><br><span class="line">        // TODO: 在此处添加构造函数逻辑</span><br><span class="line">        //</span><br><span class="line">    &#125;</span><br><span class="line">    public bool IsIP(string ip) &#123;</span><br><span class="line">        bool b = <span class="literal">true</span>;</span><br><span class="line">        string[] lines = new string[4];</span><br><span class="line">        string s = <span class="string">&quot;.&quot;</span>;</span><br><span class="line">        lines = ip.Split(s.ToCharArray(), 4);//分隔字符串</span><br><span class="line">        <span class="keyword">for</span> (int i = 0; i &lt; 4; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (Convert.ToInt32(lines[i])&gt;=255 || Convert.ToInt32(lines[i])&lt;0)</span><br><span class="line">            &#123;</span><br><span class="line">                b = <span class="literal">false</span>;</span><br><span class="line">                <span class="built_in">return</span> b;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">return</span> b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>实例033.常用算法—树的实现<br>实例说明<br>树是以分支关系定义的层次结构,树结构在客观世界中广泛存在.<br>关键技术<br>树的抽象数据类型定义包含树的结构定义和基本操作<br>1.结构定义<br>树是n(n&gt;=1)个节点的有限集,在任意一颗非空树中.<br>(1).有且仅有一个特定的节点称为根的节点<br>(2).当n&gt;1时,其余节点可分为m个互不相交的有限集,其中每一个集合本身又是一棵树,并且称为根的子树.<br>2.基本操作<br>树的基本操作主要包括构造空树,销毁树,清空树,求树的深度,访问节点,插入子树和删除子树等.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br></pre></td><td class="code"><pre><span class="line">using System;</span><br><span class="line">using System.Collections;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using System.Linq;</span><br><span class="line">using System.Text;</span><br><span class="line">using System.Threading.Tasks;</span><br><span class="line"></span><br><span class="line">namespace UnilateralismChainTable</span><br><span class="line">&#123;</span><br><span class="line">    enum Position &#123; LEFT,RIGHT&#125;;</span><br><span class="line">    enum Tag</span><br><span class="line">    &#123;</span><br><span class="line">        LINK,THREAD    //LINK指向孩子,THREAD指向后继</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    public interface IBinNode</span><br><span class="line">    &#123;</span><br><span class="line">        bool isLeaf();</span><br><span class="line">        object Element &#123; get; <span class="built_in">set</span>; &#125;</span><br><span class="line">        IBinNode Left &#123; get; <span class="built_in">set</span>; &#125;</span><br><span class="line">        IBinNode Right &#123; get; <span class="built_in">set</span>; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    //遍历,线索化等操作的接口</span><br><span class="line">    interface ITravelBinTree</span><br><span class="line">    &#123;</span><br><span class="line">        void PreOrderTravel();</span><br><span class="line">        void InOrderTravel();</span><br><span class="line">        void RevOrderTravel();</span><br><span class="line">        void Print(IBinNode t);</span><br><span class="line">    &#125;</span><br><span class="line">    interface IInsertBinTree</span><br><span class="line">    &#123;</span><br><span class="line">        void Insert(IBinNode node, Position pos);</span><br><span class="line">    &#125;</span><br><span class="line">    ///二叉树类</span><br><span class="line">    class BinNodePtr : IBinNode</span><br><span class="line">    &#123;</span><br><span class="line">        private object element;</span><br><span class="line">        private IBinNode left;</span><br><span class="line">        private IBinNode right;</span><br><span class="line"></span><br><span class="line">        public <span class="function"><span class="title">BinNodePtr</span></span>()</span><br><span class="line">        &#123;</span><br><span class="line">            element = null;</span><br><span class="line">            left = right = null;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public BinNodePtr(object element)</span><br><span class="line">        &#123;</span><br><span class="line">            this.element = element;</span><br><span class="line">            this.left = right = null;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        public BinNodePtr(object element, IBinNode lchild, IBinNode rchild)</span><br><span class="line">        &#123;</span><br><span class="line">            this.element = element;</span><br><span class="line">            this.left = lchild;</span><br><span class="line">            this.right= rchild;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public object Element &#123; get =&gt; element; <span class="built_in">set</span> =&gt; element = value; &#125;</span><br><span class="line">        public IBinNode Left &#123; get =&gt; left; <span class="built_in">set</span> =&gt; left = value; &#125;</span><br><span class="line">        public IBinNode Right &#123; get =&gt; right; <span class="built_in">set</span> =&gt; right = value; &#125;</span><br><span class="line"></span><br><span class="line">        public bool <span class="function"><span class="title">isLeaf</span></span>()</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (left == null &amp;&amp; right == null)</span><br><span class="line">                <span class="built_in">return</span> <span class="literal">true</span>;</span><br><span class="line">            <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    class BinNodeLine : BinNodePtr, IBinNode</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        public BinNodeLine(object e, IBinNode left, IBinNode right) : base(e, left, right)</span><br><span class="line">        &#123;</span><br><span class="line">            lTag = rTag = Tag.LINK;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public BinNodeLine(object element) : base(element)</span><br><span class="line">        &#123;</span><br><span class="line">            lTag=rTag=Tag.LINK;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        private Tag lTag;</span><br><span class="line">        private Tag rTag;</span><br><span class="line"></span><br><span class="line">        public Tag LTag &#123; get =&gt; lTag; <span class="built_in">set</span> =&gt; lTag = value; &#125;</span><br><span class="line">        public Tag RTag &#123; get =&gt; rTag;<span class="built_in">set</span>=&gt; rTag = value; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    class TravelBinTree:ITravelBinTree,IInsertBinTree</span><br><span class="line">    &#123;</span><br><span class="line">        const int INIT_TREE_SIZE = 20;</span><br><span class="line">        private IBinNode tree;</span><br><span class="line">        private BinNodeLine <span class="built_in">head</span>;//线索化后的头指针</span><br><span class="line">        private IBinNode prenode;//指向最近访问过的前驱节点</span><br><span class="line">        public <span class="function"><span class="title">TravelBinTree</span></span>() &#123; </span><br><span class="line">        tree=new BinNodePtr();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public TravelBinTree(IBinNode INode)</span><br><span class="line">        &#123;</span><br><span class="line">            this.tree = INode;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public void <span class="function"><span class="title">InOrderTravel</span></span>()</span><br><span class="line">        &#123;</span><br><span class="line">            InOrderTravel(tree);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        private void InOrderTravel(IBinNode tree)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (tree == null) <span class="built_in">return</span>;</span><br><span class="line">            InOrderTravel(tree.Left);</span><br><span class="line">            Print(tree);</span><br><span class="line">            InOrderTravel(tree.Right);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public void Insert(IBinNode node, Position pos)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (node == null)</span><br><span class="line">                throw (new InvalidOperationException(<span class="string">&quot;不能将节点插入树&quot;</span>));</span><br><span class="line">            switch (pos)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">case</span> Position.LEFT:tree.Left = node;</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                <span class="keyword">case</span> Position.RIGHT:tree.Right = node;</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">                default:</span><br><span class="line">                    <span class="built_in">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 按照先序顺序遍历树</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        public void <span class="function"><span class="title">TreeBuilder</span></span>() &#123; </span><br><span class="line">            Stack stk=new Stack(INIT_TREE_SIZE);</span><br><span class="line">            stk.Push(tree);</span><br><span class="line">            Position pos;</span><br><span class="line">            string para;</span><br><span class="line">            pos=Position.LEFT;</span><br><span class="line">            IBinNode baby = new BinNodePtr(), temp=new BinNodePtr();</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                para = Console.ReadLine();</span><br><span class="line">                <span class="keyword">if</span> (para==<span class="string">&quot;&quot;</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span> (pos==Position.RIGHT)</span><br><span class="line">                    &#123;</span><br><span class="line">                        stk.Pop();</span><br><span class="line">                        <span class="keyword">while</span> (stk.Count!=0 &amp;&amp; ((IBinNode)stk.Peek()).Right!=null)</span><br><span class="line">                            stk.Pop();</span><br><span class="line">                        <span class="keyword">if</span> (stk.Count == 0) <span class="built_in">break</span>;</span><br><span class="line"></span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span></span><br><span class="line">                    &#123;</span><br><span class="line">                        pos = Position.RIGHT;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span> (tree.GetType().Equals(baby)==<span class="literal">true</span>)</span><br><span class="line">                        baby = new BinNodePtr(para);</span><br><span class="line">                    temp = (IBinNode)stk.Peek();</span><br><span class="line">                    <span class="keyword">if</span> (pos == Position.LEFT)</span><br><span class="line">                        temp.Left = baby;</span><br><span class="line">                    <span class="keyword">else</span></span><br><span class="line">                        temp.Right = baby;</span><br><span class="line">                    pos = Position.LEFT;</span><br><span class="line">                    stk.Push(baby);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 中序线索化</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        public void <span class="function"><span class="title">InOrderThreading</span></span>() &#123;</span><br><span class="line">            <span class="built_in">head</span> = new BinNodeLine(<span class="string">&quot;&quot;</span>);</span><br><span class="line">            head.RTag = Tag.THREAD;</span><br><span class="line">            head.Right = <span class="built_in">head</span>;</span><br><span class="line">            <span class="keyword">if</span> (tree == null) head.Left = <span class="built_in">head</span>;</span><br><span class="line">            <span class="keyword">else</span> head.Left = tree;prenode = <span class="built_in">head</span>;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        private void InThreading(IBinNode t) &#123;</span><br><span class="line">            <span class="keyword">if</span> (t == null)</span><br><span class="line">                <span class="built_in">return</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                InThreading(t.Left);</span><br><span class="line">        &#125;</span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 先序遍历树,用非递归算法实现</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        public void <span class="function"><span class="title">PreOrderTravel</span></span>() &#123;</span><br><span class="line">            IBinNode temptree;</span><br><span class="line">            Stack stk = new Stack(INIT_TREE_SIZE);</span><br><span class="line">            <span class="keyword">if</span> (tree==null)</span><br><span class="line">                throw (new InvalidOperationException(<span class="string">&quot;访问的树为空.&quot;</span>));</span><br><span class="line">            temptree= tree;</span><br><span class="line">            stk.Push(tree);</span><br><span class="line">            <span class="keyword">while</span> (stk.Count!=0)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">while</span> (temptree!=null)</span><br><span class="line">                &#123;</span><br><span class="line">                    Print(temptree);</span><br><span class="line">                    stk.Push(temptree.Left);</span><br><span class="line">                    temptree=temptree.Left;</span><br><span class="line">                &#125;</span><br><span class="line">                stk.Pop();//空指针退栈</span><br><span class="line">                <span class="keyword">if</span> (stk.Count!=0)</span><br><span class="line">                &#123;</span><br><span class="line">                    temptree = (IBinNode)stk.Pop();</span><br><span class="line">                    stk.Push(temptree.Right);</span><br><span class="line">                    temptree=temptree.Right;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">           </span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public void <span class="function"><span class="title">RevOrderTravel</span></span>()</span><br><span class="line">        &#123;</span><br><span class="line">            RevOrderTravel(tree);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        private void RevOrderTravel(IBinNode tree)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (tree == null) <span class="built_in">return</span>;</span><br><span class="line">            RevOrderTravel(tree.Left);</span><br><span class="line">            RevOrderTravel(tree.Right);</span><br><span class="line">            Print(tree);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">       </span><br><span class="line"></span><br><span class="line">       public void Print(IBinNode t)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(t.Element + <span class="string">&quot;,&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>秘笈心法<br>如何去掉字符串中的所有空格<br>由于空格的ASCII码值是32,因此,在去掉字符串中所有空格时,只需循环访问字符串中的所有字符,并判断它们的ASCII码值是否为32即可.去掉字符串中所有空格的关键代码如下:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">using System;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using System.Linq;</span><br><span class="line">using System.Text;</span><br><span class="line">using System.Threading.Tasks;</span><br><span class="line"></span><br><span class="line">namespace UnilateralismChainTable</span><br><span class="line">&#123;</span><br><span class="line">    public class TrimStrHelper</span><br><span class="line">    &#123;</span><br><span class="line">        /// &lt;summary&gt;</span><br><span class="line">        /// 去掉字符串中的所有空格</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        /// &lt;param name=<span class="string">&quot;str&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">        /// &lt;returns&gt;&lt;/returns&gt;</span><br><span class="line">        public string CheckTrim(string str) &#123;</span><br><span class="line">            string Result = <span class="string">&quot;&quot;</span>;</span><br><span class="line">            CharEnumerator charEnumerator =str.GetEnumerator();</span><br><span class="line">            <span class="keyword">while</span> (charEnumerator.MoveNext())</span><br><span class="line">            &#123;</span><br><span class="line">                byte[] array = new byte[1];</span><br><span class="line">                array=System.Text.Encoding.ASCII.GetBytes(charEnumerator.Current.ToString());</span><br><span class="line">                int asciicode = (short)(array[0]);</span><br><span class="line">                <span class="keyword">if</span> (asciicode!=32)</span><br><span class="line">                &#123;</span><br><span class="line">                    Result += charEnumerator.Current.ToString();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">return</span> Result;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>034.排序算法——选择排序算法<br>实例说明<br>简单选择排序的基本思想是:每一趟在n个记录中选取关键字最小的记录作为有序序列中第一个记录,本实例实现了用选择排序的方法对一组数据进行排序.<br>关键技术<br>选择排序的主要操作是关键字间的比较,显然是从n个数据中进行简单排序的算法为:令I从1至n-1,进行n-1趟选择操作.<br>设计过程<br>1.创建一个控制台程序,将其命名为Choice.<br>2.添加一个类,并将文件命名为SelectionSorter.cs<br>3.主要程序卸代码如下:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">using System;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using System.Linq;</span><br><span class="line">using System.Text;</span><br><span class="line">using System.Threading.Tasks;</span><br><span class="line"></span><br><span class="line">namespace UnilateralismChainTable</span><br><span class="line">&#123;</span><br><span class="line">    public class SelectionSorter</span><br><span class="line">    &#123;</span><br><span class="line">        private int min;</span><br><span class="line">        public void Sort(int[] list) &#123;</span><br><span class="line">            <span class="keyword">for</span> (int i = 0; i &lt; list.Length; i++)   ///遍历数组中的数据,不包含最后一个</span><br><span class="line">            &#123;</span><br><span class="line">                min = i;            //读取当前数据</span><br><span class="line">                <span class="keyword">for</span> (int j = j+1; j &lt; list.Length; j++) //遍历数组中的数据,不包含最后一个</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span> (list[j] &lt; list[min])    //如果当前值是最小值</span><br><span class="line">                        min= j;                 //将最小值放在相应位置</span><br><span class="line">                &#125;</span><br><span class="line">                int t = list[min];</span><br><span class="line">                list[min] = list[t];            //交换数据</span><br><span class="line">                list[i] = t;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>秘笈心法<br>获得字符串中汉字的个数.<br>获得字符串中汉字的个数时,可以首先定义一个与汉字相匹配的正则表达式,然后使用charEnumerator对象的MoveNext方法循环访问字符串中的每个字符,如果访问的字符与定义的正则表达式相匹配,则将其添加到一个数组中,最后获得该数组的项数即为字符串中汉字的个数</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">/// &lt;summary&gt;</span><br><span class="line">       /// 获得字符串中汉字的个数</span><br><span class="line">       /// &lt;/summary&gt;</span><br><span class="line">       /// &lt;param name=<span class="string">&quot;str&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">       /// &lt;returns&gt;&lt;/returns&gt;</span><br><span class="line">       public string GetChineseCount(string str) &#123; </span><br><span class="line">           int count = 0;</span><br><span class="line">           ArrayList itemList=new ArrayList();</span><br><span class="line">           CharEnumerator charEnumerator = str.GetEnumerator();</span><br><span class="line">           Regex regex = new Regex(<span class="string">&quot;^[\u4E00-\u9FA5]&#123;0,&#125;$&quot;</span>);</span><br><span class="line">           <span class="keyword">while</span> (charEnumerator.MoveNext())</span><br><span class="line">           &#123;</span><br><span class="line">               <span class="keyword">if</span> (regex.IsMatch(charEnumerator.Current.ToString(),0))</span><br><span class="line">                   itemList.Add(charEnumerator.Current);</span><br><span class="line">               count=itemList.Count;</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="built_in">return</span> count.ToString();</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure>
<p>035.排序算法——插入排序算法<br>实例说明<br>直接插入排序是一种最简单的排序方法,基本操作是将一个记录插入到已排好序的有序表中,从而得到一个新的,记录数增1的有序表,本实例实现了用插入排序对一组数据进行排序<br>关键技术<br>实现插入排序主要是先找到一个有序序列,然后将下一个关键字插入上述有序序列,然后再从剩下的关键字中选取下一个插入对象,反复执行至整个序列有序.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">/// &lt;summary&gt;</span><br><span class="line">        /// 插入排序</span><br><span class="line">        /// &lt;/summary&gt;</span><br><span class="line">        /// &lt;param name=<span class="string">&quot;list&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">        public void InsertSort(int[] list) &#123;</span><br><span class="line">            <span class="keyword">for</span> (int i = 0; i &lt; list.Length; i++)   ///遍历当前数组,不包含第一个和最后一个</span><br><span class="line">            &#123;</span><br><span class="line">                int t = list[i];    ///获取当前值</span><br><span class="line">                int j = i;          ///记录当前值的标记.</span><br><span class="line">                <span class="keyword">while</span> (j &gt;0&amp;&amp; list[j]&gt;t) &#123;  ///插入法</span><br><span class="line">                    list[j] = list[j-1];    ///交换顺序</span><br><span class="line">                    --j;</span><br><span class="line">                &#125;</span><br><span class="line">                list[j] = t;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
<p>秘笈心法<br>将字母全部转换为大写<br>将字母转换为大写时,需要调用string类的ToUpper方法<br>036.排序算法—-希尔排序算法<br>希尔排序又称”缩小增量排序”,也是一种插入排序类的方法,但在时间效率上较前述几种排序方法有较大的改进.<br>在待排序记录按关键字”基本有序”时,直接插入排序效率就可以大大提高,而且记录较少时效率也较高,希尔排序正是从这两点分析出发对直接插入排序进行改进得到的一种方法.<br>关键技术<br>先将整个待排序记录分割成为若干子序列分别进行直接插入排序,待整个序列中的记录”基本有序”时再对全体记录进行一次直接插入排序.<br>希尔排序的特点是:子序列的构成不是简单的”逐段分割”,而是将相隔某个”增量”的记录组成一个子序列.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">/// &lt;summary&gt;</span><br><span class="line">       /// 希尔排序</span><br><span class="line">       /// &lt;/summary&gt;</span><br><span class="line">       /// &lt;param name=<span class="string">&quot;list&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">       public void ShellSort(int[] list) &#123;</span><br><span class="line">           int inc;</span><br><span class="line">           <span class="keyword">for</span> (inc = 1; inc &lt;= list.Length / 9; inc = 3 * inc + 1) ;//遍历当前数组</span><br><span class="line">           <span class="keyword">for</span> (;inc&gt;0;inc/=3) //遍历当前值</span><br><span class="line">           &#123;</span><br><span class="line">               <span class="keyword">for</span> (int i = inc+1; i &lt;=list.Length; i+=inc)</span><br><span class="line">               &#123;</span><br><span class="line">                   int t = list[i - 1];//获取值</span><br><span class="line">                   int j = i;</span><br><span class="line">                   <span class="keyword">while</span> ((j &gt; inc) &amp;&amp; (list[j-inc-1]&gt;t))  //希尔排序法</span><br><span class="line">                   &#123;</span><br><span class="line">                       list[j - 1] = list[j - inc - 1];    //交换数据</span><br><span class="line">                       j -= inc;</span><br><span class="line">                   &#125;</span><br><span class="line">                   list[j - 1] = t;</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">           </span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure>
<p>秘笈心法<br>将字符串首字母转换为大写<br>将字符串首字母转换为大写时,可以先使用string类的Substring方法将字符串的首字母截取出来,然后调用ToUpper方法将该字母转换为大写.将字符串首字母转换为大写关键代码如下:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">/// &lt;summary&gt;</span><br><span class="line">       /// 将字符串首字母转换为大写</span><br><span class="line">       /// &lt;/summary&gt;</span><br><span class="line">       /// &lt;param name=<span class="string">&quot;str&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">       public string ChangeFirststr(string str) &#123;</span><br><span class="line">           string str1 = str.Substring(0,1);</span><br><span class="line">           string str2 = str.Substring(1, str.Length - 1);</span><br><span class="line">           <span class="built_in">return</span> str1.ToUpper() + str2;</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure>
<p>037.算法应用——按要求生成指定位数编号<br>实例说明<br>实现了按要求生成数字格式的功能<br>关键技术<br>本实例用到了TextBox控件的KeyPress事件<br>1.KeyPress事件<br>在控件有焦点的情况下按下键发生,其语法格式如下:<br>public event KeyPressEventHandler KeyPress<br>2.KeyPressEventArgs事件的Keychar属性<br>获取或设置与按下的键对应的字符<br>public char KeyChar{get;set;}<br>属性值:撰写的ASCII字符.例如,如果用户按下Shift+K快捷键,则该属性返回一个大写的K.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">private void Textbox25_KeyPress(object sender,KeyPressEventArgs e) &#123;</span><br><span class="line">        <span class="keyword">if</span> (e.KeyChar==(Char)Keys.Return) //如果按下Enter键</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (TextBox25.Text.Length&gt;8)  //如果位数大于8</span><br><span class="line">            &#123;</span><br><span class="line">                TextBox25.Text = TextBox25.Text.Substring(0,8);//获取前8位数</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                int j=8-TextBox25.Text.Length;      //确定增加的位数</span><br><span class="line">                <span class="keyword">for</span> (int i = 0; i &lt; j; i++)</span><br><span class="line">                &#123;</span><br><span class="line">                    TextBox25.Text = <span class="string">&quot;0&quot;</span> + TextBox25.Text;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>秘笈心法<br>如何设置小数的保留位数<br>设置小数的保留位数时,用到了Math类的Round方法,该方法用来将小数值舍入到指定精度,其语法格式如下:<br>public static decimal Round(decimal d,int decimals)<br>其中,d表示要舍入的小数,decimals表示返回值中的有效数字位数(精度),设置小数保留位数关键代码如下:<br>textBox2.text=Convert.ToString(Math.Round(Convert.ToDouble(textBox1.Text.Trim()),2))<br>1.4.发布ASP.NET应用程序<br>038.发布ASP.NET应用程序<br>实例说明<br>将Web应用程序上传到服务器前,为了使Web应用程序源代码具有可靠的保密性和安全性,需要进行网站发布,网站发布后,将保留.aspx文件,.cs文件则被编译成.dll文件存放到bin文件夹下.<br>关键技术<br>进行网站发布时,首先要进行预编译网站.为发布进行预编译与就地预编译稍有不同,预编译实际执行的编译过程与通常在浏览器中请求页时发生的动态编译过程相同,预编译器从页产生程序集,包括标记和代码,它同时还编译App_Code,App_GlobalResources,App_LocalResources和App_Themes文件夹中的文件,另外它还可以同时编译单文件Asp.net页和代码隐藏页,发布过程只部署网站文件夹或子文件夹中的文件,而不部署Machine.config文件,因此,目标Web服务器的配置可能与计算机上的配置不同,这可能会影响应用程序的行为<br>设计过程<br>新建一个Web应用程序ReleaseAspNet,默认主页为Default.aspx.在程序中添加一个类文件,将其命名为BaseClass.cs.<br>2.在Default.aspx页面中添加一个Table控件,一个Label控件和一个Button控件,分别用来布局页面,显示文本和执行文本显示功能.<br>3.在BaseClass类中自定义一个方法用来返回一个字符串.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public string <span class="function"><span class="title">TestString</span></span>()&#123;</span><br><span class="line">	<span class="built_in">return</span> <span class="string">&quot;大家好&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在Default.aspx页面的Button1按钮下调用该类并执行显示文本操作.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">protected void Button1_Click(object sender,EventArgs e)&#123;</span><br><span class="line">BaseClass bs=new BaseClass();</span><br><span class="line">this.Label1.Text=bs.TestString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>4.以上步骤用于建立一个网站,实现简单的功能,网站创建完成后,即可对其进行发布,用户可以将网站发布到本地计算机或网络上能够访问的任何位置.需要注意的是,如果要发布到网络,该网络必须是Vs支持的连接协议.<br>把网站发布到本地文件夹,选择”生成”/“发布网站”命令,打开”发布网站”对话框<br>5.单击确定按钮,预编译网站内容,并将输出写入指定的文件夹.”输出”窗口显示进度消息.如果编译时发生一个错误,”输出”窗口中会报告该错误.编译完成后,可对编译后的网站进行测试,用户可为编译后的网站创建一个虚拟目录,通过浏览器对网页进行访问.<br>秘笈心法<br>如何解决Response.Redirect方法传递汉字时出现的错误.<br>使用Response.Redirect方法传递汉字时,有时会发现传递的内容与接收的内容不一致,接收的值丢失了几个字或出现乱码.为了确保传递的汉字可以被正确的接收,可以在传值之前使用Server对象的UrlEncode方法对所传递的汉字进行URL编码.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">/// &lt;summary&gt;</span><br><span class="line">    /// 如何解决Response.Redirect方法传递汉字时出现的错误.</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    public void <span class="function"><span class="title">SetUrlEncode</span></span>() &#123;</span><br><span class="line">        string name = Server.UrlEncode(<span class="string">&quot;如何解决Response.Redirect方法传递汉字&quot;</span>);</span><br><span class="line">        Response.Redirect(<span class="string">&quot;Default2.aspx?name=&quot;</span>+name);</span><br><span class="line">        ///接收值时,使用Server对象的UrlDecode方法对所接收的汉字进行URL解码</span><br><span class="line">      name = Server.UrlDecode(Request.QueryString[<span class="string">&quot;name&quot;</span>]);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>039.使用”复制网站”发布Asp.Net网站<br>设计过程<br>1.在解决方案资源管理器页面选中当前网站,单击鼠标右键,在弹出的快捷菜单那中选择复制网站命令<br>2.单击连接<br>3.选择完要将网站复制到的位置后,选中要复制的网站文件或文件夹,将选中的网站文件或文件夹复制到指定位置.<br>秘笈心法<br>使用Response.BinaryWrite方法输出二进制图像</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">protected void Page_Load(object sender, EventArgs e)</span><br><span class="line">    &#123;</span><br><span class="line">        ///打开图片文件,并保存在文件流中</span><br><span class="line">        FileStream stream = new FileStream(Server.MapPath(@<span class="string">&quot;~/images/1.jpg&quot;</span>),FileMode.Open);</span><br><span class="line">        long FileSize = stream.Length;//获取流的长度</span><br><span class="line">        byte[] Buffer=new byte[(int)FileSize];//定义一个二进制数组</span><br><span class="line">        stream.Read(Buffer,0,(int)FileSize);//从流中读取字节块并将该数据写入给定缓冲区中</span><br><span class="line"></span><br><span class="line">        stream.Close();</span><br><span class="line">        //设定Response类型</span><br><span class="line">        Response.ContentType = <span class="string">&quot;image/jpg&quot;</span>;</span><br><span class="line">        Response.BinaryWrite(Buffer);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h4 id="第二章-Asp-Net前端技术应用开发"><a href="#第二章-Asp-Net前端技术应用开发" class="headerlink" title="第二章 Asp.Net前端技术应用开发"></a>第二章 Asp.Net前端技术应用开发</h4><p>040.利用SMTP服务发送电子邮件<br>关键技术<br>使用Asp.Net应用程序发送电子邮件,应首先在服务器上安装和配置Internet信息服务(IIS)的简单邮件传输协议(SMTP)服务.IIS SMTP服务是一个简单组件,主要用来将电子邮件转发到SMTP服务器进行传递.<br>1.安装SMTP服务<br>在默认情况下,不随IIS安装SMTP服务,必须使用控制面板来安装,安装SMTP服务时将创建一个默认的SMTP配置,用户随后可以使用IIS管理器自定义该配置,SMTP服务的安装步骤如下：<br>(1).选择“开始”/“设置”/“控制面板”/“添加或删除程序“，打开”添加或删除程序“窗口<br>(2).单击对话框左侧的”添加/删除WIndows组件”,打开”Windows组件向导“对话框.<br>(3).选中”应用程序服务器“复选框，单击”详细信息“按钮,打开”应用程序服务器“对话框<br>(4).选中”Internet信息服务(IIS)“复选框,单击”详细信息“按钮,在打开的”Internet信息服务器(IIS)“对话框中选中SMTPService复选框,准备安装SMTP服务.<br>(5).单击”确定”按钮,然后单击”下一步”按钮,安装完成后,单击”完成“按钮,从而完成简单邮件传输协议(SMTP)服务的安装.<br>2.配置SMTP虚拟计算机<br>安装SMTP服务后,系统将会在IIS管理器中创建一个新节点,若要配置SMTP虚拟服务器,必须启动IIS管理器.<br>(1).选择”开始”/“设置”/”控制面板“/“Internet信息服务(IIS)管理器”命令<br>(2).默认设置<br>默认SMTP虚拟服务器具有以下默认设置,如果想创建一个新的虚拟服务器,可以使用”新建虚拟服务器向导”来配置.<br>名称:出现在IIS管理器中的虚拟服务器的名称,可以在IIS管理器中更改虚拟服务器的名称.只需右击该虚拟服务器,在弹出的快捷菜单中选择”重命名”命令即可.<br>IP地址/TCP端口:IP地址均为”未分配”,TCP端口号为25.可以使用”SMTP虚拟服务器属性”,对话框中的”常规选项卡”来更改该配置.如果更改该设置,则必须指定一个没有被其他SMTP虚拟服务器使用的IP地址和TCP端口号组合.TCP端口号25是默认的TCP端口号,也是建议的TCP端口号,多个虚拟服务器可以使用同一个TCP端口号,但是必须为它们配置不同的IP地址.如果不设置唯一的IP地址和TCP端口号组合,则SMTP虚拟服务器将不会启动.<br>默认域:是指在”系统属性”中的”计算机名称”选项卡中列出的域名,一个SMTP虚拟服务器只能有一个默认域,且不能删除该域,若要在IIS管理器中更改域的名称,请双击虚拟服务器,然后双击”域”,在右侧列表中选择”本地(或默认)域”,然后使用鼠标右键单击本地(或默认)域,在弹出的快捷菜单中选择”重命名”命令即可.<br>主目录:C:\Inetpub/Mailroot.主目录是SMTP的根目录,必须是运行SMTP服务计算机的本地目录.<br>3.MailMessage类.<br>MailMessage类主要用于指定邮件的发送地址,收件人地址等.<br>Attachments 获取用于存储附加到此电子邮件的数据的附件集合.<br>Body    获取或设置邮件正文<br>From    获取或设置此电子邮件的发信人地址<br>Sender    获取或设置此电子邮件的发件人地址<br>Subject    获取或设置此电子邮件的主题<br>To    获取包含此电子邮件的收件人的地址集合<br>设计过程<br>用户设置完邮件服务器及邮件的所有信息后,单击”发送”按钮即可完成邮件的发送,”发送”按钮的Click事件代码如下:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">protected void btnSendClick(object sender,EventArgs e)&#123;</span><br><span class="line">	string file=Server.MapPath(<span class="string">&quot;testXML.xml&quot;</span>);</span><br><span class="line">	MailMessage myMail=new System.Net.Mail.MailMessage();</span><br><span class="line">	myMail=new System.Net.Mail.MailMessage(txtSender.Text.Trim(),txtReceiver.Text.Trim(),txtSubject.Text.Trim(),txtContent.Text.Trim());</span><br><span class="line">	<span class="keyword">if</span>(ddlAccessories.Items.Count&gt;0)&#123;</span><br><span class="line">	<span class="keyword">for</span>(int i=0;i&lt;ddlAccessories.Items.Count;i++)&#123;</span><br><span class="line">	System.Net.Mail.Attachment myAttachment=new System.Net.Mail.Attachment(Server.MapPath(ddlAcce ssories.Items[i].Value),System.Net.Mine.MediaTypeNames.Application.Octet);</span><br><span class="line">	System.Net.Mine.ContentDisposition=myAttachment.ContentDisposition;</span><br><span class="line">	disposition.CreationDate=System.IO.File.GetCreationTime(file);</span><br><span class="line">	disposition.ModificationDate=System.IO.File.GetLastWriteTime(file);</span><br><span class="line">	myMail.Attachments.Add(myAttachment);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">System.Net.Mail.SmtpClient client=new System.Net.Mail.SmtpClient(<span class="string">&quot;smtp.163.com&quot;</span>,25);</span><br><span class="line">client.Credentials=new System.Net.NetworkCredential(<span class="string">&quot;wangxiaoke68&quot;</span>,<span class="string">&quot;sxwangxiaoke8568&quot;</span>);</span><br><span class="line">client.Send(myMail);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>秘笈心法<br>040.关于SMTP服务器配置<br>1.安装SMTP服务时,将在C:\Inetpub\Mailroot中创建一个具有消息存储区的默认SMTP服务器配置<br>2.设置SMTP服务时,可以为SMTP服务配置全局设置,还可以为虚拟服务器的单个组件配置设置.IIS SMTP服务只是一个中继代理,电子邮件将转发到SMTP服务器进行传递.<br>041.利用Jmail组件发送邮件<br>关键技术<br>1.Jmail组件的属性和方法<br>Charset     string    字符集<br>Encoding    string    设置附件的编码方式<br>ContentType string    邮件的内容类型<br>ISOEncodeHeaders string     是否将信头编码为iso-8859-1 字符集<br>Priority    int    邮件的优先级<br>From    string    发件人的Email地址<br>FromName string     发件人姓名<br>Subject    string    邮件主题<br>MailServerUserName string 登录邮件服务器的用户名<br>MailServerPassword  string  登录邮件服务器的用户密码<br>Jmail组件的常用方法及说明<br>AddHeader(XHeader,Value) 添加用户定义的信件标头<br>AddRecipient(emailAddress,recipientName,PGPKey) 添加收件人E-mail地址,姓名并对其加密<br>AddRecipientCC(emailAddress,recipientName,PGPKey) 添加抄送人E-mail地址,姓名并对其加密<br>AddRecipientBCC(emailAddress,PGPKey)    添加密送人E-mail地址并对其加密<br>AddAttachment(URL,附件名)    添加附件<br>Send    发送邮件<br>Connect    和邮件服务器建立连接,并接收邮件<br>DeleteMessages    清空邮件服务器中的邮件<br>Disconnect    断开和邮件服务器的连接<br>2.Jmail组件的使用<br>在使用Jmail组件之前,首先要添加对Jmail组件的引用<br>在解决方案资源管理器中找到要添加引用的网站项目,单击鼠标右键,在弹出的快捷菜单中选择”添加引用”命令,在打开的”引用管理器”对话框中选择”浏览”,在其中选择要添加的jmail.dll文件,单击确定,将Jmail组件添加到网站项目的引用中,然后就可以直接在后台代码中使用其属性和方法<br>设计过程<br>用户设置完邮件服务器及邮件的所有信息后,单击发送按钮即可完成邮件的发送.实现该功能时,用户可以自定义一个发送邮件的方法,这样既可以提高代码的重用度,也可以方便代码的管理,然后在发送按钮的Click事件中直接调用该方法即可.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">protected void btnSend_Click(object sender,EventArgs e)&#123;</span><br><span class="line">	sendEmail(txtSender.Text.Trim(),txtSUser.Text.Trim(),txtEUser.Text.Trim(),txtEPwd.Text.Trim(),txtReceiver.Text.Trim(),txtSubject.Text.Trim(),txtContent.Text.Trim(),txtEServer.Text.Trim());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>发送邮件的自定义sendEmail方法如下:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">public void sendEmail(string sender,string senderuser,string euser,string epwd,string receiver,string subject,string body,string eserver)&#123;</span><br><span class="line">	jmail.MessageClass jmMessage=new jmail.MessageClass();</span><br><span class="line">	jmMessage.Charset=<span class="string">&quot;GB3212&quot;</span>;</span><br><span class="line">	jmMessage.ISOEncodeHeaders=<span class="literal">false</span>;</span><br><span class="line">	jmMessage.From=sender;</span><br><span class="line">	jmMessage.FromName=senderuser;</span><br><span class="line">	jmMessage.Subject=subject;</span><br><span class="line">	jmMessage.MailServerUserName=euser;</span><br><span class="line">	jmMessage.MailServerPassword=epwd;</span><br><span class="line">	jmMessage.AddRecipient(receiver,<span class="string">&quot;&quot;</span>,<span class="string">&quot;&quot;</span>);</span><br><span class="line">	<span class="keyword">if</span>(ddlAccessories.Items.Count&gt;0)&#123;</span><br><span class="line">		<span class="keyword">for</span>(int i=0;i&lt;ddlAccessories.Items.Count;i++)&#123;</span><br><span class="line">	string path=ddlAccessories.Items[i].Value;</span><br><span class="line">	jmMessage.AddAttachment(@path,<span class="literal">true</span>,<span class="string">&quot;&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">	jmMessage.Body=body;</span><br><span class="line">	<span class="keyword">if</span>(jmMessage.Send(eserver,<span class="literal">false</span>))&#123;</span><br><span class="line">	Page.RegisterClientScriptBlock(<span class="string">&quot;ok&quot;</span>,<span class="string">&quot;&lt;script language=&quot;</span>javascript<span class="string">&quot;&gt;alert(&#x27;发送成功&#x27;)&lt;/script&gt;&quot;</span>);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">	Page.RegisterClientScriptBlock(<span class="string">&quot;ok&quot;</span>,<span class="string">&quot;&lt;script language=&quot;</span>javascript<span class="string">&quot;&gt;alert(&#x27;发送失败,请仔细检查邮件服务器的设置是否正确!&#x27;)&lt;/script&gt;&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">jmMessage=null;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>秘笈心法<br>页面定时刷新如何实现<br>1.在<head></head>中利用meta标签来定义,页面每隔30s刷新一次<br><Meta http-equiv="Refresh" Content="30"><br>2.在<head></head>中利用Response.AddHeader方法来定义,页面每隔10s刷新一次<br>&lt;%Response.AddHeader(“Refresh”,”10”);%&gt;<br>042.使用POP3协议接收电子邮件<br>使用POP3协议实现电子邮件接收功能时,首先需要客户端与服务器进行连接,在客户端连接到服务器之前,注意把端口设为POP3协议默认端口110号,客户端连接服务器成功后,服务器端返回相应的信息,在返回信息中,回应信息不像SMTP协议那样用丰富多变的数字表示,而是用两个字符表示,+OK或者-ERR.其中,+OK表示连接成功,-ERR表示连接失败,接下来,客户端输入”USER &lt;用户名&gt;”命令,该命令告诉服务器用户的用户名,这里需要注意,有些服务器是区分大小写的,服务器返回+OK后,客户端再输入”PASS &lt;口令&gt;”.用户名与密码都正确,服务器再次返回+OK,同时还返回一些邮箱的统计信息.例如,+OK 42071,不同的服务器返回的信息格式不太一样,所以可以用STAT命令来查看邮箱的情况.STAT命令的回应中有两个数字,分别表示邮件的数量和大小.如果信箱里有信,就可以用RETR命令来获取邮件的正文,RETR命令的格式为:RETR&lt;邮件编号&gt;.如果返回结果的第一行是+OK信息,则表示成功,第二行起便是邮件的正文,最后一行和SMTP协议一样,是一个单独的英文句号,表示邮件的结尾部分.<br>关键技术<br>使用POP3协议接收电子邮件,POP(post Office Protocol,邮局协议)用于电子邮件的接收和发送.现在常用第三版,所以称为POP3,通过POP协议,客户登录到服务器后就可以对自己邮件进行删除,也可以下载到本地操作.<br>POP3常用命令及说明<br>命令        说明<br>USER        此命令与下面的PASS命令都发送成功,将·使状态转换.<br>PASS        用户名所对应的密码<br>APOP        Digest是MD5消息摘要<br>STAT        请求服务器发回关于邮箱统计·资料(邮箱·总数和总字节数)<br>UIDL        回送邮件唯一标识符<br>LIST        回送邮件数量和每个邮件·大小<br>RETR        回送·由参数标识的·邮件·的·全部·文本·<br>DELE        服务器将·由·参数·标识·的·邮件·标记·为·删除,由QUIT命令·执行·<br>RSET        服务器·将重置所有标记为删除的邮件,用于撤销DELE命令<br>TOP        服务器将回送·由·参数·标识·的·邮件·的前·n行·内容·,n是·正整数.<br>NOOP        服务器·返回·一个·肯定·的·响应,不做任何·操作·<br>QUIT        退出<br>注意:SMTP服务器使用的·端口号·一般·为·25,POP服务器·使用·的端口号·一般为110.<br>设计过程·<br>1.新建·一个网站,将其命名为POP3,默认主页为Default.aspx<br>2.在页面·中添加5个TextBox文本框,分别·用于获取POP3服务器IP地址,登录邮箱名,邮箱·密码,读取第几封邮件·和·显示·读取出来的邮件·内容.<br>3.在页面中添加3个Button控件,分别用于连接邮箱,读取信件和退出邮箱.<br>4.首先·添加必要的命名空间.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ Page Language=<span class="string">&quot;C#&quot;</span> AutoEventWireup=<span class="string">&quot;true&quot;</span> CodeFile=<span class="string">&quot;POP3.aspx.cs&quot;</span> Inherits=<span class="string">&quot;POP3&quot;</span> %&gt;</span><br><span class="line"></span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line"></span><br><span class="line">&lt;html xmlns=<span class="string">&quot;http://www.w3.org/1999/xhtml&quot;</span>&gt;</span><br><span class="line">&lt;<span class="built_in">head</span> runat=<span class="string">&quot;server&quot;</span>&gt;</span><br><span class="line">&lt;meta http-equiv=<span class="string">&quot;Content-Type&quot;</span> content=<span class="string">&quot;text/html; charset=utf-8&quot;</span>/&gt;</span><br><span class="line">    &lt;title&gt;&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;form <span class="built_in">id</span>=<span class="string">&quot;form1&quot;</span> runat=<span class="string">&quot;server&quot;</span>&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line"></span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">             &lt;p&gt;</span><br><span class="line">               服务器:</span><br><span class="line">                &lt;asp:TextBox ID=<span class="string">&quot;TextBox1&quot;</span> runat=<span class="string">&quot;server&quot;</span> Height=<span class="string">&quot;16px&quot;</span> Width=<span class="string">&quot;256px&quot;</span>&gt;&lt;/asp:TextBox&gt;</span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">            &lt;p&gt;</span><br><span class="line">               用户名:</span><br><span class="line">                &lt;asp:TextBox ID=<span class="string">&quot;TextBox2&quot;</span> runat=<span class="string">&quot;server&quot;</span> Height=<span class="string">&quot;16px&quot;</span> Width=<span class="string">&quot;256px&quot;</span>&gt;&lt;/asp:TextBox&gt;</span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">            &lt;p&gt;</span><br><span class="line">               密 码 :</span><br><span class="line">                &lt;asp:TextBox ID=<span class="string">&quot;TextBox3&quot;</span> runat=<span class="string">&quot;server&quot;</span> Height=<span class="string">&quot;16px&quot;</span> Width=<span class="string">&quot;256px&quot;</span>&gt;&lt;/asp:TextBox&gt;</span><br><span class="line">                 &amp;nbsp;&amp;nbsp;&amp;nbsp;</span><br><span class="line">                 &lt;asp:Button ID=<span class="string">&quot;Button3&quot;</span> runat=<span class="string">&quot;server&quot;</span> OnClick=<span class="string">&quot;Button3_Click&quot;</span> Text=<span class="string">&quot;连接邮箱&quot;</span> Width=<span class="string">&quot;181px&quot;</span> /&gt;</span><br><span class="line">                 &amp;nbsp;</span><br><span class="line">                 &lt;asp:Button ID=<span class="string">&quot;Button4&quot;</span> runat=<span class="string">&quot;server&quot;</span> OnClick=<span class="string">&quot;Button4_Click&quot;</span> Text=<span class="string">&quot;退出邮箱&quot;</span> Width=<span class="string">&quot;181px&quot;</span> /&gt;</span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">             &lt;p&gt;</span><br><span class="line">               操作:</span><br><span class="line">               读取第几封邮件:</span><br><span class="line">                &lt;asp:TextBox ID=<span class="string">&quot;TextBox4&quot;</span> runat=<span class="string">&quot;server&quot;</span> Height=<span class="string">&quot;16px&quot;</span> Width=<span class="string">&quot;317px&quot;</span>&gt;&lt;/asp:TextBox&gt;</span><br><span class="line"></span><br><span class="line">                  &amp;nbsp;&amp;nbsp;&amp;nbsp;</span><br><span class="line"></span><br><span class="line">                  &lt;asp:Button ID=<span class="string">&quot;Button2&quot;</span> runat=<span class="string">&quot;server&quot;</span> OnClick=<span class="string">&quot;Button2_Click&quot;</span> Text=<span class="string">&quot;读取邮件&quot;</span> Width=<span class="string">&quot;181px&quot;</span> /&gt;</span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">             &lt;p&gt;</span><br><span class="line">                </span><br><span class="line">                 &lt;asp:TextBox ID=<span class="string">&quot;TextBox5&quot;</span> runat=<span class="string">&quot;server&quot;</span> Height=<span class="string">&quot;262px&quot;</span> Width=<span class="string">&quot;777px&quot;</span>&gt;&lt;/asp:TextBox&gt;</span><br><span class="line">                </span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br><span class="line">using System;</span><br><span class="line">using System.Activities.Statements;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using System.IO;</span><br><span class="line">using System.Linq;</span><br><span class="line">using System.Net.Sockets;</span><br><span class="line">using System.ServiceModel.Security.Tokens;</span><br><span class="line">using System.Text;</span><br><span class="line">using System.Web;</span><br><span class="line">using System.Web.UI;</span><br><span class="line">using System.Web.UI.WebControls;</span><br><span class="line"></span><br><span class="line">public partial class POP3 : System.Web.UI.Page</span><br><span class="line">&#123;</span><br><span class="line">    public static string <span class="built_in">pwd</span>;</span><br><span class="line">    public static int k;</span><br><span class="line">    public static TcpClient tcpc;</span><br><span class="line">    public static string popserver;</span><br><span class="line">    public static StreamReader sr;</span><br><span class="line">    public static string strRet;</span><br><span class="line">    public static string[] arrRet;</span><br><span class="line">    protected void Page_Load(object sender, EventArgs e)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// 连接邮箱 </span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    /// &lt;param name=<span class="string">&quot;sender&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">    /// &lt;param name=<span class="string">&quot;e&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">    protected void Button3_Click(object sender, EventArgs e)</span><br><span class="line">    &#123;</span><br><span class="line">        string user=TextBox2.Text.ToString();</span><br><span class="line">        string pass=TextBox3.Text.ToString();</span><br><span class="line">        <span class="built_in">pwd</span> = pass;</span><br><span class="line">        popserver=TextBox1.Text.ToString();</span><br><span class="line">        tcpc= new TcpClient();</span><br><span class="line">        try</span><br><span class="line">        &#123;</span><br><span class="line">            tcpc.Connect(popserver,110);</span><br><span class="line">            sr=new StreamReader(tcpc.GetStream(),Encoding.Default);</span><br><span class="line">            Response.Write(sr.ReadLine()+<span class="string">&quot;&lt;br&gt;&quot;</span>);//mail server的欢迎语</span><br><span class="line">            strRet = Logon(tcpc,user,pass);</span><br><span class="line">            <span class="keyword">if</span> (JudgeString(strRet)!=<span class="string">&quot;+OK&quot;</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                Response.Write(<span class="string">&quot;对不起,没有这个用户/密码 不匹配&quot;</span>);</span><br><span class="line">                <span class="built_in">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            arrRet = StaticMailBox(tcpc);</span><br><span class="line">            <span class="keyword">if</span> (arrRet[0]!=<span class="string">&quot;+OK&quot;</span>) &#123;</span><br><span class="line">                Response.Write(<span class="string">&quot;出错了!&quot;</span>);</span><br><span class="line">                <span class="built_in">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            Response.Write(<span class="string">&quot;当前的用户&lt;font color=blue&gt;&quot;</span>+user+<span class="string">&quot;&lt;/font&gt;的信箱中共有&lt;font color=red&gt;&quot;</span> + arrRet[1]+<span class="string">&quot;&lt;/font&gt;封,共占&lt;font color=red&gt;&quot;</span> + arrRet[2]+<span class="string">&quot;&lt;/font&gt;Byte&quot;</span>);</span><br><span class="line">            k = Convert.ToInt32(arrRet[1]);</span><br><span class="line">            Button2.Enabled= <span class="literal">false</span>;</span><br><span class="line">            Button3.Enabled= <span class="literal">true</span>;</span><br><span class="line">            Button4.Enabled= <span class="literal">true</span>;</span><br><span class="line">            TextBox1.Enabled</span><br><span class="line">                = <span class="literal">true</span>;</span><br><span class="line">            TextBox2.Enabled = <span class="literal">true</span>;</span><br><span class="line">            TextBox3.Enabled= <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        catch (Exception ex)</span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">           Response.Write(<span class="string">&quot;Could not connnect to Server!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// 向POP3服务器发送各种·命令</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    /// &lt;param name=<span class="string">&quot;tcpc&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">    /// &lt;param name=<span class="string">&quot;strCmd&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">    /// &lt;returns&gt;&lt;/returns&gt;</span><br><span class="line">    private string SendPopCmd(TcpClient tcpc,string strCmd) &#123;</span><br><span class="line">        Byte[] arrcmd;</span><br><span class="line">        string strRet;</span><br><span class="line">        StreamReader sr;</span><br><span class="line">        Stream s;</span><br><span class="line">        s=tcpc.GetStream();</span><br><span class="line">        strCmd = strCmd+<span class="string">&quot;\r\n&quot;</span>;</span><br><span class="line">        arrcmd=Encoding.Default.GetBytes(strCmd.ToCharArray());</span><br><span class="line">        s = tcpc.GetStream();</span><br><span class="line">        s.Write(arrcmd,0,strCmd.Length);</span><br><span class="line">        sr = new StreamReader(tcpc.GetStream(),Encoding.Default);</span><br><span class="line">        strRet = sr.ReadLine();</span><br><span class="line">        <span class="built_in">return</span> strRet;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// StaticMailBox方法用于获取指定的邮箱的当前状态信息,包括邮箱中邮件的数量,邮件的总大小信息.</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    /// &lt;param name=<span class="string">&quot;tcpc&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">    /// &lt;returns&gt;&lt;/returns&gt;</span><br><span class="line">    /// &lt;exception cref=<span class="string">&quot;NotImplementedException&quot;</span>&gt;&lt;/exception&gt;</span><br><span class="line">    private string[] StaticMailBox(TcpClient tcpc)</span><br><span class="line">    &#123;</span><br><span class="line">        string strRet;</span><br><span class="line">        strRet = SendPopCmd(tcpc,<span class="string">&quot;stat&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (JudgeString(strRet)!=<span class="string">&quot;+OK&quot;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">return</span> <span class="string">&quot;-ERR -ERR&quot;</span>.Split(<span class="string">&quot;&quot;</span>.ToCharArray());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            string[] arrRet = strRet.Split(<span class="string">&quot;&quot;</span>.ToCharArray());</span><br><span class="line">            <span class="built_in">return</span> arrRet;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// 用于判断向服务器发送命令之后返回的字符开头是-ERR还是+OK,如果开头是-ERR,则返回-ERR,如果是+OK,则返回字符+OK.</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    /// &lt;param name=<span class="string">&quot;strRet&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">    /// &lt;returns&gt;&lt;/returns&gt;</span><br><span class="line">    /// &lt;exception cref=<span class="string">&quot;NotImplementedException&quot;</span>&gt;&lt;/exception&gt;</span><br><span class="line">    private string JudgeString(string strRet)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (strRet.Substring(0,3)!=<span class="string">&quot;+OK&quot;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">return</span> <span class="string">&quot;-ERR&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">return</span> <span class="string">&quot;+OK&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// 对登录用户身份进行验证,通过SendPopCmd方法向服务器发送<span class="string">&quot;user+用户名&quot;</span>和<span class="string">&quot;pass+密码&quot;</span>两条命令,并返回获取的信息.</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    /// &lt;param name=<span class="string">&quot;tcpc&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">    /// &lt;param name=<span class="string">&quot;user&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">    /// &lt;param name=<span class="string">&quot;pass&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">    /// &lt;returns&gt;&lt;/returns&gt;</span><br><span class="line">    private string Logon(TcpClient tcpc, string user, string pass)</span><br><span class="line">    &#123;</span><br><span class="line">        string strRet;</span><br><span class="line">        strRet = SendPopCmd(tcpc,<span class="string">&quot;user&quot;</span>+user);</span><br><span class="line">        strRet= SendPopCmd(tcpc,<span class="string">&quot;pass&quot;</span>+pass);</span><br><span class="line">        <span class="built_in">return</span> strRet;</span><br><span class="line">    &#125;</span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// 读取信件</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    /// &lt;param name=<span class="string">&quot;sender&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">    /// &lt;param name=<span class="string">&quot;e&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">    protected void Button2_Click(object sender, EventArgs e)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (Convert.ToInt32(TextBox4.Text)&gt;k|| Convert.ToInt32(TextBox4.Text)&lt;=0)</span><br><span class="line">        &#123;</span><br><span class="line">            ClientScript.RegisterStartupScript(typeof(Page),<span class="string">&quot;&quot;</span>,<span class="string">&quot;&lt;script&gt;alert(&#x27;输入的索引错误&#x27;)&lt;/script&gt;&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            string[] arrRets;</span><br><span class="line">            arrRets = PopMail(tcpc,Convert.ToInt32(TextBox4.Text));</span><br><span class="line">            TextBox5.Text = $<span class="string">&quot;当前是第&#123;TextBox4.Text&#125;封信\n邮件日期:&#123;arrRets[1]&#125;\n发信人:&#123;arrRets[2]&#125;\n收信人:&#123;arrRets[3]&#125;\n邮件主题:&#123;arrRets[4]&#125;\n邮件内容:&#123;arrRets[5]&#125;\n&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// 接收邮件的各个信息,其中i是要读取的邮件的索引数,通过参数i PopMail方法可以读取指定的邮件</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    /// &lt;param name=<span class="string">&quot;tcpc&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">    /// &lt;param name=<span class="string">&quot;v&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">    /// &lt;returns&gt;&lt;/returns&gt;</span><br><span class="line">    /// &lt;exception cref=<span class="string">&quot;NotImplementedException&quot;</span>&gt;&lt;/exception&gt;</span><br><span class="line">    private string[] PopMail(TcpClient tcpc, int i)</span><br><span class="line">    &#123;</span><br><span class="line">        string strRet;</span><br><span class="line">        string[] arrRet = new string[20];</span><br><span class="line">        bool strBody = <span class="literal">false</span>;</span><br><span class="line">        string[] arrTemp;</span><br><span class="line">        strRet = SendPopCmd(tcpc,<span class="string">&quot;retr&quot;</span>+i.ToString());</span><br><span class="line">        <span class="keyword">if</span> (JudgeString(strRet)!=<span class="string">&quot;+OK&quot;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">return</span> <span class="string">&quot;-ERR -ERR&quot;</span>.Split(<span class="string">&quot;&quot;</span>.ToCharArray());</span><br><span class="line">        &#125;</span><br><span class="line">        StreamReader sr;</span><br><span class="line">        sr = new StreamReader(tcpc.GetStream(),Encoding.Default);</span><br><span class="line">        Response.Write(<span class="string">&quot;\n&lt;BR&gt;&quot;</span>);</span><br><span class="line">        Response.Write(<span class="string">&quot;&lt;font color=red&gt;\n&lt;BR&gt;&quot;</span>);</span><br><span class="line">        arrRet[0] = <span class="string">&quot;+OK&quot;</span>;</span><br><span class="line">        <span class="keyword">while</span> (sr.Peek()!=46)</span><br><span class="line">        &#123;</span><br><span class="line">            strRet = sr.ReadLine();</span><br><span class="line">            arrTemp = strRet.Split(<span class="string">&quot;:&quot;</span>.ToCharArray());</span><br><span class="line">            <span class="keyword">if</span> (strRet == <span class="string">&quot;&quot;</span>)</span><br><span class="line">                strBody = <span class="literal">true</span>;//现在开始接收Body的信息</span><br><span class="line">            <span class="keyword">if</span> (arrTemp[0]==<span class="string">&quot;Date&quot;</span>)</span><br><span class="line">                arrRet[1] = arrTemp[1];//信件的发送日期.</span><br><span class="line">            <span class="keyword">if</span> (arrTemp[0]==<span class="string">&quot;From&quot;</span>)</span><br><span class="line">                arrRet[2] = (arrTemp[1].Substring(arrTemp[1].LastIndexOf(<span class="string">&quot;&lt;&quot;</span>)+1).Replace(<span class="string">&quot;&gt;&quot;</span>,<span class="string">&quot;&quot;</span>));//发信人</span><br><span class="line">            <span class="keyword">if</span> (arrTemp[0] == <span class="string">&quot;To&quot;</span>)</span><br><span class="line">                arrRet[3] = (arrTemp[1].Substring(arrTemp[1].LastIndexOf(<span class="string">&quot;&lt;&quot;</span>) + 1).Replace(<span class="string">&quot;&gt;&quot;</span>, <span class="string">&quot;&quot;</span>));//收信人</span><br><span class="line">            <span class="keyword">if</span> (arrTemp[0] == <span class="string">&quot;Subject&quot;</span>)</span><br><span class="line">                arrRet[4] = arrTemp[1].ToString();//主题</span><br><span class="line">            <span class="keyword">if</span> (strBody)</span><br><span class="line">                arrRet[5] = arrRet[5] + strRet + <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">return</span> arrRet;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>秘笈心法<br>POP3协议接收电子邮件与Jmail组件接收电子邮件的功能对比<br>POP3协议是利用系统本身自带的功能来实现对电子邮件的接收,虽然使用POP3协议接收电子邮件相对简洁,但是其功能不是很完善,存在许多缺点,而利用Jmail组件接收电子邮件相对POP3协议显得更为简洁方便,而且功能相当强大,现在大多数的电子邮件收发系统都是通过Jmail组件来开发的.<br>2.2.高端应用:自定义组件应用.<br>043.自定义GridView数据绑定组件开发<br>实例说明<br>当GridView控件的数据源为空时,不显示表头,界面非常不美观.<br>关键技术<br>1.实现GridView控件未绑定数据源或绑定的数据为空时,使用Table标记静态设置表头信息.<br>2.当GridView控件绑定数据源中的数据为空时,给数据源插入一条空记录.<br>3.自定义GridView控件,在自定义控件内部实现当未绑定数据源或绑定的数据为空时也显示表头.<br>前两种方案的适应性不强,每次应用都要根据实际情况进行编码,而第三种方案只需将自定义的GridView拖动到应用处即可,所以本实例只介绍第三种方案,实现思路是继承ASP.NET自带的GridView控件,并重写Render方法,在Render方法中判断,当自定义GridView控件绑定的数据为空时根据GridView控件的列信息创建表头.<br>设计过程<br>1.EnableEmptyContentRender属性表示当自定义的GridView控件绑定的数据为空时是否显示表头.属性值设置为true时显示表头,false不显示表头,自定义GridView控件的属性代码如下:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br></pre></td><td class="code"><pre><span class="line">using System;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using System.ComponentModel;</span><br><span class="line">using System.Linq;</span><br><span class="line">using System.Web;</span><br><span class="line">using System.Web.UI;</span><br><span class="line">using System.Web.UI.WebControls;</span><br><span class="line"></span><br><span class="line">/// &lt;summary&gt;</span><br><span class="line">/// GridView 的摘要说明</span><br><span class="line">/// &lt;/summary&gt;</span><br><span class="line">public class GridView : System.Web.UI.WebControls.GridView</span><br><span class="line">&#123;</span><br><span class="line">    [Category(<span class="string">&quot;Appearance&quot;</span>)]</span><br><span class="line">    [DefaultValue(<span class="literal">true</span>)]</span><br><span class="line">    [Description(<span class="string">&quot;数据源为空时是否呈现表头&quot;</span>)]</span><br><span class="line">    [TypeConverter(typeof(BooleanConverter))]</span><br><span class="line">    public bool EnableEmptyContentRender</span><br><span class="line">    &#123;</span><br><span class="line">        get &#123;</span><br><span class="line">            <span class="keyword">if</span> (ViewState[<span class="string">&quot;EnableEmptyContentRender&quot;</span>]==null)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">return</span> Convert.ToBoolean(ViewState[<span class="string">&quot;EnableEmptyContentRender&quot;</span>]);</span><br><span class="line">           &#125;</span><br><span class="line">        <span class="built_in">set</span> &#123; ViewState[<span class="string">&quot;EnableEmptyContentRender&quot;</span>] = value; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    [Category(<span class="string">&quot;Appearance&quot;</span>)]</span><br><span class="line">    [DefaultValue(<span class="string">&quot;&quot;</span>)]</span><br><span class="line">    [Description(<span class="string">&quot;数据源为空时表格样式类&quot;</span>)]</span><br><span class="line">    public string EmptyDataTableCssClass &#123;</span><br><span class="line">        get &#123;</span><br><span class="line">            <span class="keyword">if</span> (ViewState[<span class="string">&quot;EmptyDataTableCssClass&quot;</span>]==null)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">return</span> Convert.ToString(ViewState[<span class="string">&quot;EmptyDataTableCssClass&quot;</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">set</span> &#123;</span><br><span class="line">            ViewState[<span class="string">&quot;EmptyDataTableCssClass&quot;</span>] = value;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    [Category(<span class="string">&quot;Appearance&quot;</span>)]</span><br><span class="line">    [DefaultValue(<span class="string">&quot;&quot;</span>)]</span><br><span class="line">    [Description(<span class="string">&quot;数据源为空时标题行样式类&quot;</span>)]</span><br><span class="line">    public string EmptyDataTitleRowCssClass</span><br><span class="line">    &#123;</span><br><span class="line">        get</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (ViewState[<span class="string">&quot;EmptyDataTitleRowCssClass&quot;</span>] == null)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">return</span> Convert.ToString(ViewState[<span class="string">&quot;EmptyDataTitleRowCssClass&quot;</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">set</span></span><br><span class="line">        &#123;</span><br><span class="line">            ViewState[<span class="string">&quot;EmptyDataTitleRowCssClass&quot;</span>] = value;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    [Category(<span class="string">&quot;Appearance&quot;</span>)]</span><br><span class="line">    [DefaultValue(<span class="string">&quot;&quot;</span>)]</span><br><span class="line">    [Description(<span class="string">&quot;数据源为空时内容行样式类&quot;</span>)]</span><br><span class="line">    public string EmptyDataContentRowCssClass</span><br><span class="line">    &#123;</span><br><span class="line">        get</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (ViewState[<span class="string">&quot;EmptyDataContentRowCssClass&quot;</span>] == null)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">return</span> <span class="string">&quot;没有可显示的数据记录.&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">return</span> Convert.ToString(ViewState[<span class="string">&quot;EmptyDataContentRowCssClass&quot;</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">set</span></span><br><span class="line">        &#123;</span><br><span class="line">            ViewState[<span class="string">&quot;EmptyDataContentRowCssClass&quot;</span>] = value;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    public <span class="function"><span class="title">GridView</span></span>()</span><br><span class="line">    &#123;</span><br><span class="line">        //</span><br><span class="line">        // TODO: 在此处添加构造函数逻辑</span><br><span class="line">        //</span><br><span class="line">    &#125;</span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// 重写Control类的Render方法</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    /// &lt;param name=<span class="string">&quot;writer&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">    protected override void Render(HtmlTextWriter writer)</span><br><span class="line">    &#123;</span><br><span class="line">        //如果GridView数据为空</span><br><span class="line">        <span class="keyword">if</span> (EnableEmptyContentRender &amp;&amp; (this.Rows.Count == 0) || this.Rows[0].RowType==System.Web.UI.WebControls.DataControlRowType.EmptyDataRow)</span><br><span class="line">        &#123;</span><br><span class="line">            RenderEmptyContent(writer);//调用自定义呈现方法</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            base.Render(writer);//调用基类呈现方法</span><br><span class="line">        &#125;</span><br><span class="line">       </span><br><span class="line">    &#125;</span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// GridView数据为空时呈现的样式</span><br><span class="line">    /// 1.创建一个Table对象</span><br><span class="line">    /// 2.根据GridView风格设置Table对象的样式属性,使Table对象的样式与GridView的样式保持一致</span><br><span class="line">    /// 3.创建第一个TableRow对象,并设置TableRow对象的样式及高度.</span><br><span class="line">    /// 4.遍历GridView控件的列,根据列信息创建TableRow对象的单元格TableCell,并设置单元格内显示的文本;</span><br><span class="line">    /// 5.创建第二个TableRow对象,并设置TableRow的样式.</span><br><span class="line">    /// 6.创建第二个TableRow对象的单元格,在单元格内显示当GridView数据为空时的提示信息(如“没有可显示的数据记录.”)</span><br><span class="line">    /// 7.将创建的Table对象发送给HtmlTextWriter对象呈现.</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    /// &lt;param name=<span class="string">&quot;writer&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">    /// &lt;exception cref=<span class="string">&quot;NotImplementedException&quot;</span>&gt;&lt;/exception&gt;</span><br><span class="line">    protected virtual void RenderEmptyContent(HtmlTextWriter writer)</span><br><span class="line">    &#123;</span><br><span class="line">        Table t=new Table();    //创建一个Table对象.</span><br><span class="line">        t.GridLines = this.GridLines;   //设置Table的线型与GridView相同</span><br><span class="line">        t.BorderStyle = this.BorderStyle;   //设置边界风格与GridView相同</span><br><span class="line">        t.BorderWidth = 0;</span><br><span class="line">        t.CellPadding = 1;</span><br><span class="line">        t.CellSpacing = 1;</span><br><span class="line">        t.HorizontalAlign = this.HorizontalAlign;   //设置水平对齐风格与GridView相同</span><br><span class="line">        t.Width= this.Width;//设置Table宽度与GridView相同.</span><br><span class="line">        t.CopyBaseAttributes(this);</span><br><span class="line">        t.BorderColor = this.BorderColor;   //设置边界颜色与GridView相同</span><br><span class="line">        t.EnableTheming = this.EnableTheming;   //设置主题是否生效与GridView相同</span><br><span class="line">        t.ForeColor=this.ForeColor; //设置前景色与GridView相同</span><br><span class="line">        t.SkinID= this.SkinID;  //设置皮肤样式与GridView相同</span><br><span class="line">        t.ToolTip = this.ToolTip;   //设置提示信息与GridView相同</span><br><span class="line">        t.Visible=this.Visible;     //设置是否可见与GridView相同</span><br><span class="line">        t.Font.CopyFrom(this.Font); //设置字体对象与GridView相同</span><br><span class="line">        //设置Table的层叠样式表</span><br><span class="line">        t.CssClass =this.EmptyDataTableCssClass!=<span class="string">&quot;&quot;</span>?this.EmptyDataTableCssClass:this.CssClass;</span><br><span class="line">        TableRow row=new TableRow();    //创建Table行</span><br><span class="line">        row.CssClass=this.EmptyDataTableCssClass;//设置行的层叠样式表</span><br><span class="line">        row.Height = 25;</span><br><span class="line">        t.Rows.Add(row);    //将行添加到Table对象中</span><br><span class="line">        //根据GridView中的字段创建Table行的单元格</span><br><span class="line">        foreach (DataControlField field <span class="keyword">in</span> this.Columns)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (field.Visible)</span><br><span class="line">            &#123;</span><br><span class="line">                TableCell cell=new TableCell();//创建单元格</span><br><span class="line">                cell.Text = field.HeaderText;//设置单元格文本</span><br><span class="line">                row.Cells.Add(cell);        //将单元格添加到行中</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        TableRow row2=new TableRow();   //新建第二行</span><br><span class="line">        row2.CssClass = this.EmptyDataContentRowCssClass;   //设置行的层叠样式表</span><br><span class="line">        t.Rows.Add(row2);</span><br><span class="line">        TableCell msgCell=new TableCell();</span><br><span class="line">        <span class="keyword">if</span> (this.EmptyDataTemplate!=null)</span><br><span class="line">        &#123;</span><br><span class="line">            this.EmptyDataTemplate.InstantiateIn(msgCell);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            msgCell.Text=this.EmptyDataText;    //设置空数据提示信息</span><br><span class="line">        &#125;</span><br><span class="line">        msgCell.HorizontalAlign = HorizontalAlign.Center;//设置单元格的水平对齐</span><br><span class="line">        msgCell.ColumnSpan = this.Columns.Count;//设置单元格的列合并</span><br><span class="line">        row2.Cells.Add(msgCell);</span><br><span class="line">        t.RenderControl(writer);    //将Table发送给HTML呈现流</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>秘笈心法<br>如何实现单击表格行打开另一页,并传递参数</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">protected void gvGoodsInfo_RowDataBound(object sender, GridViewRowEventArgs e)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (e.Row.RowType==DataControlRowType.DataRow)</span><br><span class="line">        &#123;</span><br><span class="line">            e.Row.Attributes.Add(<span class="string">&quot;onclick&quot;</span>, <span class="string">&quot;window.open(&#x27;Default.aspx?title=&quot;</span> + e.Row.Cells[1].Text +<span class="string">&quot;&#x27;);&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>044.自定义OurPager分页组件开发<br>关键技术<br>1.自定义分页控件OurPager使用说明<br>分页控件只需设置两个属性,即RecordCount(记录总数)和PageSize(页尺寸)即可自动计算分页的页数并绘制控件呈现<br>以下是在用户管理页的Page_Load事件中设置分页控件属性的代码,首先调用SelectUserInfo方法获得数据源记录总数(第一个参数为-1时,返回列表中的第一行,第一列存储的是数据源的记录总数),其次设置分页控件的RecordCount属性,最后调用自定义方法LoadData加载GridView数据.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">protected void Page_Load(object sender,EventArgs e)&#123;</span><br><span class="line">	List&lt;UserInfo&gt; cntList=new List&lt;UserInfo&gt;();</span><br><span class="line">	cntList=UserInfoService.Instance.SelectUserInfo(-1,OurPager1.PageSize);	//分页控件默认页尺寸为10</span><br><span class="line">	OurPager1.RecordCount=cntList[0].UserID;//取总记录数</span><br><span class="line">	<span class="keyword">if</span>(!this.IsPostBack)&#123;</span><br><span class="line">	LoadData(OurPager1.CurrentPageIndex);	//当前页索引默认为0</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>提示:由于自定义分页控件的PageSize(页尺寸)默认为10,所以当设置RecordCount属性时分页控件就开始自动计算分页的页数并绘制控件呈现.<br>分页控件还提供了一个PageChanged事件,如果已实现该事件,单击分页控件任意按钮时触发该事件,开发者只需在这个事件上编写返回指定页数据的代码即可.<br>在用户管理页(UserList.aspx)中,自定义分页控件的PageChanged事件代码如下:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">protected void OurPager1_PageChanged(object sender,ServerControl.PageArgs e)&#123;</span><br><span class="line">	LoadData(e.NewPageIndex);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在PageChanged事件中,首先从参数对象e的NewPageIndex属性中取出当前页索引,其次调用自定义方法LoadData加载GridView当前页的数据<br>2.使用LINQ实现分页功能<br>本实例中使用LINQ实现返回指定页数据的功能,主要代码如下:<br>SelectUserInfo().Skip((CurrentPageIndex-1)*PageSize).Take(PageSize).ToList();<br>上述代码中,SelectUserInfo表示返回所有的用户信息:Skip((CurrentPageIndex-1)*PageSize)表示跳过当前页之前的所有记录;Take(PageSize)表示取指定数量的记录:ToList表示将取到的数据转换成List<T>类型.<br>3.自定义控件的应用范围<br>本实例采用开发自定义分页控件的方式实现分页方案,如下情况可以选择开发自定义控件:<br>    需要将两个或多个内置的Web控件组合在一起.<br>    需要扩展内置控件的功能时<br>    需要开发与现在任何控件完全不同的控件时<br>4.CompositeControl类<br>如果要开发自定义组合控件,建议将CompositeControl类作为自定义组合控件的超类(基类),与其他创建组合控件的方式相比,其最大的优点是在控件呈现内容的方法中看不到任何HTML,只需重写CreateChildControls方法,在该方法中创建所需要的子控件,并将创建的子控件添加到自定义组合控件的Controls集合中.<br>所有自定义组合控件的子控件触发的事件都会传递到事件冒泡方法OnBubbleEvent中,只需要设置各个子控件的命令名称,在重写OnBubbleEvent方法根据命令名称判断是哪个子控件触发的事件,然后做出相应的处理.<br>下面简单介绍自定义组合控件的代码执行顺序:先执行创建子控件方法CreateChildControls,然后执行呈现内容方法RenderContents将子控件呈现在组合控件上,最后才执行事件冒泡方法OnBubbleEvent,冒泡方法执行的代码涉及重新刷新组合控件内容时调用的基类的RecreateChildControls方法再重新创建一遍子控件即可.<br>5.属性(Attribute)<br>C#允许在类和成员上声明特性,这个特性也是一个类,可在运行时解释类和类成员的行为.这个特性也称为属性Attribute.<br>允许在其上声明属性Attribute的类型有:<br>类<br>类成员:包括常量,字段,方法,属性,事件,索引器,运算符重载,构造函数和析构函数<br>结构<br>接口<br>接口成员:包括方法,属性,事件和索引器<br>枚举和枚举成员<br>委托<br>在代码中指定属性时,将属性名称放在方括号中,简单属性指定如下所示:<br>[MyAttribute]<br>属性Attribute可分为.Net框架提供的属性和自定义属性:.Net框架提供了数百个预先定义好的,内置的属性，这些属性都是从System.Attribute类派生而来,并且这些属性与特定的对象一起使用.例如,System.SerializableAttribute属性(别名是Serializable),应用该属性(Attribute)的类或类成员可将其内容串行到某个存储介质,例如,将对象的内容序列化成XML,需要在该对象的类上应用Seralizable属性.<br>设计过程<br>1.创建自定义分页控件<br>创建自定义分页控件的类,类名为OurPager,OurPager类继承自CompositeControl类.代码如下:<br>[DefaultProperty(“RecordCount”)]<br>[ToolboxData(“&lt;{0}:Ourpager runat=server&gt;&lt;/{0}:OurPager&gt;”)]<br>public class OurPager:CompositeControl{}<br>在OurPager类声明的上面设置了两个属性(Attribute),DefaultProperty属性表示OurPager类的默认属性是RecordCount,ToolboxData属性表示将自定义分页控件从工具箱拖到设计页面时生成的默认标记.在用户管理页中,自定义分页控件的默认标记为:<br>&lt;cc1:OurPager ID=”OurPager1” runat=”server” onpagechanged=”OurPager1_PageChanged”/&gt;<br>2.声明自定义分页控件的属性</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br></pre></td><td class="code"><pre><span class="line">using System;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using System.ComponentModel;</span><br><span class="line">using System.Linq;</span><br><span class="line">using System.Web;</span><br><span class="line">using System.Web.UI;</span><br><span class="line">using System.Web.UI.WebControls;</span><br><span class="line"></span><br><span class="line">/// &lt;summary&gt;</span><br><span class="line">/// OurPager 的摘要说明</span><br><span class="line">/// &lt;/summary&gt;</span><br><span class="line">/// </span><br><span class="line">[DefaultProperty(<span class="string">&quot;RecordCount&quot;</span>)]</span><br><span class="line">[ToolboxData(<span class="string">&quot;&lt;&#123;0&#125;:OurPager runat=server&gt;&lt;/&#123;0&#125;:OurPager&gt;&quot;</span>)]</span><br><span class="line">public class OurPager:CompositeControl</span><br><span class="line">&#123;</span><br><span class="line">    public <span class="function"><span class="title">OurPager</span></span>()</span><br><span class="line">    &#123;</span><br><span class="line">        //</span><br><span class="line">        // TODO: 在此处添加构造函数逻辑</span><br><span class="line">        //</span><br><span class="line">    &#125;</span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// 页数</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    private int PageCount &#123; <span class="built_in">set</span>; get; &#125;</span><br><span class="line">    [Category(<span class="string">&quot;Behavior&quot;</span>)]</span><br><span class="line">    [DefaultValue(0)]</span><br><span class="line">    [Description(<span class="string">&quot;数据源中符合条件的记录数&quot;</span>)]</span><br><span class="line">    [TypeConverter(typeof(Int32Converter))]</span><br><span class="line">    public int RecordCount &#123; get; <span class="built_in">set</span>; &#125;</span><br><span class="line">    [Category(<span class="string">&quot;Behavior&quot;</span>)]</span><br><span class="line">    [DefaultValue(10)]</span><br><span class="line">    [Description(<span class="string">&quot;页尺寸/每页记录数&quot;</span>)]</span><br><span class="line">    [TypeConverter(typeof(Int32Converter))]</span><br><span class="line">    public int PageSize &#123; <span class="built_in">set</span>; get; &#125;</span><br><span class="line"></span><br><span class="line">    [Category(<span class="string">&quot;Behavior&quot;</span>)]</span><br><span class="line">    [DefaultValue(0)]</span><br><span class="line">    [Description(<span class="string">&quot;当前页索引&quot;</span>)]</span><br><span class="line">    [TypeConverter(typeof(Int32Converter))]</span><br><span class="line">    public int CurrentPageIndex &#123; <span class="built_in">set</span>; get; &#125;</span><br><span class="line"></span><br><span class="line">    private LinkButton _btnFirst;</span><br><span class="line">    private Label _lblPage = new Label();</span><br><span class="line">    private TextBox _txtToPage=new TextBox();</span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// 计算页数</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    /// &lt;param name=<span class="string">&quot;recordCount&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">    /// &lt;param name=<span class="string">&quot;pageSize&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">    private void CalculatePageCount(int recordCount, int pageSize) &#123;</span><br><span class="line">        <span class="keyword">if</span> (pageSize==0)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        int pagCnt = 0;</span><br><span class="line">        pagCnt = recordCount / pageSize;    //用记录总数整除页尺寸</span><br><span class="line">        <span class="keyword">if</span> (recordCount%pageSize&gt;0)</span><br><span class="line">        &#123;</span><br><span class="line">            pagCnt++;                       //页数加1</span><br><span class="line">        &#125;</span><br><span class="line">        PageCount = pagCnt;                 //设置页数属性</span><br><span class="line">        RecreateChildControls();            //重新绘制控件</span><br><span class="line">    &#125;</span><br><span class="line">    [Category(<span class="string">&quot;Action&quot;</span>)]</span><br><span class="line">    public event PageChangedHandler PageChanged;</span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// 页改变事件委托</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    /// &lt;param name=<span class="string">&quot;sender&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">    /// &lt;param name=<span class="string">&quot;e&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">    public delegate void PageChangedHandler(object sender,PageArgs e);</span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// 实现创建子控件</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    protected override void <span class="function"><span class="title">CreateChildControls</span></span>() &#123;</span><br><span class="line">        int recCnt = RecordCount;</span><br><span class="line">        int curPageIdx = CurrentPageIndex;</span><br><span class="line">        int pageCnt = PageCount;</span><br><span class="line">        int pagSiz = PageSize;</span><br><span class="line">        Controls.Clear();               //清空子控件</span><br><span class="line">        //5.实现PageChanged事件 在运行时,单击分页控件上的任意按钮(子控件),都会将子控件触发的事件传递到事件冒泡方法OnBubbleEvent中,在CreateChildControls方法中创建子控件对象时已经设置了子控件的命令名称.设置子控件命令名称代码如下:</span><br><span class="line">        _btnFirst = new LinkButton</span><br><span class="line">        &#123;</span><br><span class="line">            Text = <span class="string">&quot;首页&quot;</span>,</span><br><span class="line">            CommandName=((int)PageChangedType.atFirst).ToString(),  //设置子控件的命令名称</span><br><span class="line">            CommandArgument=<span class="string">&quot;&quot;</span></span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        Controls.Add(_btnFirst);            //将首页按钮添加到分页控件</span><br><span class="line">        ChildControlsCreated = <span class="literal">true</span>;        //设置子控件已创建</span><br><span class="line">        CalculateButtonEnable();            //计算分页按钮可见</span><br><span class="line">        CalculateNumericBtnVisible();       //计算页码翻页按钮可见</span><br><span class="line">    &#125;</span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// 所以在分页控件中只需重写基类的OnBubbleEvent方法,在该方法中根据命令判断是哪个子控件触发的事件然后做相应的处理.</span><br><span class="line">    /// 首先判断触发的是不是命令事件,其次从参数中取出子控件类型枚举PageChangedType和命令名称cmdArg;最后调用自定义方法DoPageChanged,由该方法实现事件的详细执行过程</span><br><span class="line">    /// 子控件在创建时都制定了CommandName属性,所以子控件触发的应该是命令事件.</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    /// &lt;param name=<span class="string">&quot;source&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">    /// &lt;param name=<span class="string">&quot;args&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">    /// &lt;returns&gt;&lt;/returns&gt;</span><br><span class="line">    protected override bool OnBubbleEvent(object <span class="built_in">source</span>, EventArgs args)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (args is CommandEventArgs)       //是命令事件</span><br><span class="line">        &#123;</span><br><span class="line">            //取出单击哪类子控件触发的事件</span><br><span class="line">            PageChangedType cmdName=(PageChangedType)Convert.ToInt32(((CommandEventArgs)args).CommandName);</span><br><span class="line">            string cmdArg = ((CommandEventArgs)args).CommandArgument.ToString();</span><br><span class="line">            DoPageChanged(cmdName, cmdArg);     //执行处理自定义分页的过程</span><br><span class="line">            <span class="built_in">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">return</span> base.OnBubbleEvent(<span class="built_in">source</span>, args);    //执行父类的冒泡方法</span><br><span class="line">    &#125;</span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// 在自定义DoPageChanged中,如果判断是单击<span class="string">&quot;首页&quot;</span>按钮触发的事件,将当前页索引(存储在NewPageIndex变量中)设置为1;其次如果分页控件已实现PageChanged事件,那么执行PageChanged事件.</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    /// &lt;param name=<span class="string">&quot;cmdName&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">    /// &lt;param name=<span class="string">&quot;cmdArg&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">    private void DoPageChanged(PageChangedType ty, string cmdArg)</span><br><span class="line">    &#123;</span><br><span class="line">      int currentPageIdx=CurrentPageIndex;</span><br><span class="line">        int pageCnt=PageCount;</span><br><span class="line">        int NewPageIndex = CurrentPageIndex;        //设置新页索引</span><br><span class="line">        switch (ty)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">case</span> PageChangedType.atFirst:</span><br><span class="line">                NewPageIndex = 1;                   //新页索引设为1</span><br><span class="line">                <span class="built_in">break</span>;</span><br><span class="line">                <span class="keyword">case</span> PageChangedType.atLast:</span><br><span class="line">                NewPageIndex = PageCount;</span><br><span class="line">                <span class="built_in">break</span>;</span><br><span class="line"></span><br><span class="line">            default:</span><br><span class="line">                <span class="built_in">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (PageChanged!=null)</span><br><span class="line">        &#123;</span><br><span class="line">            PageArgs args = new PageArgs(NewPageIndex);     //设置页改变事件参数</span><br><span class="line">            PageChanged(this, args);                        //执行页改变事件代码</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        CurrentPageIndex= NewPageIndex;                     //最终确认当前页索引</span><br><span class="line">        CalculateButtonEnable();</span><br><span class="line">        CalculateNumericBtnVisible();</span><br><span class="line">        _lblPage.Text = string.Format(<span class="string">&quot;第&#123;0&#125;页/第&#123;1&#125;页&quot;</span>,NewPageIndex,pageCnt);</span><br><span class="line">        _txtToPage.Text = NewPageIndex.ToString();</span><br><span class="line">        //如果是向前或向后翻页码则要重新创建子控件</span><br><span class="line">        //秘笈心法:强制刷新自定义分页控件</span><br><span class="line">        //涉及重新刷新组合控件内容,调用基类的RecreateChildControls方法再重新创建一遍子控件</span><br><span class="line">        <span class="keyword">if</span> (ty==PageChangedType.atNumeric &amp;&amp; (cmdArg==<span class="string">&quot;back&quot;</span>||cmdArg==<span class="string">&quot;front&quot;</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            RecreateChildControls();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// 4.实现呈现内容的方法</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    /// &lt;param name=<span class="string">&quot;writer&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">    protected override void RenderContents(HtmlTextWriter writer) &#123;</span><br><span class="line">        EnsureChildControls();          //确认子控件是否被创建</span><br><span class="line">        writer.RenderBeginTag(HtmlTextWriterTag.Tr);    //写行的开始标记&lt;<span class="built_in">tr</span>&gt;</span><br><span class="line">        //...</span><br><span class="line">        writer.RenderBeginTag(HtmlTextWriterTag.Td);    //写单元格开始标记&lt;td&gt;</span><br><span class="line">        _btnFirst.RenderControl(writer);                //将首页按钮呈现在分页控件上</span><br><span class="line">        writer.RenderEndTag();                          //写单元格结束标记&lt;/td&gt;</span><br><span class="line">        //...</span><br><span class="line">        writer.RenderEndTag();                          //写行的结束标记</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// 说明:在自定义分页控件中,重写了基类的TagKey属性,将TagKey属性值指定为HtmlTextWriterTag.Table,表示在RenderContents方法中按Table格式呈现子控件</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    protected override HtmlTextWriterTag TagKey =&gt; HtmlTextWriterTag.Table;</span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// </span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    /// &lt;exception cref=<span class="string">&quot;NotImplementedException&quot;</span>&gt;&lt;/exception&gt;</span><br><span class="line">    private void <span class="function"><span class="title">CalculateNumericBtnVisible</span></span>()</span><br><span class="line">    &#123;</span><br><span class="line">        throw new NotImplementedException();</span><br><span class="line">    &#125;</span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// </span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    /// &lt;exception cref=<span class="string">&quot;NotImplementedException&quot;</span>&gt;&lt;/exception&gt;</span><br><span class="line">    private void <span class="function"><span class="title">CalculateButtonEnable</span></span>()</span><br><span class="line">    &#123;</span><br><span class="line">        throw new NotImplementedException();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>2.3.超级网购:网上购物与银行在线支付<br>045.购物商城网创建个人店铺<br>关键技术<br>在创建个人店铺前判断注册用户是否已经创建了个人店铺,如果没有创建,登陆后将会跳转到创建个人店铺页CreatePersonShop.aspx;如果已经创建,则会跳转到个人店铺管理页Shop_Manage.aspx.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">public void CheckIfExist(string username,string password) &#123;</span><br><span class="line">      //创建数据库连接对象</span><br><span class="line">      SqlConnection myconn = new SqlConnection(ConfigurationManager.AppSettings[<span class="string">&quot;ConStr&quot;</span>]);</span><br><span class="line">      //定义一个字符串型的SQL语句</span><br><span class="line">      string strsql = $<span class="string">&quot;select * from Users where UserName=&#x27;&#123;username&#125;&#x27; and Password=&#x27;&#123;password&#125;&#x27;&quot;</span>;</span><br><span class="line">      //声明所创建的数据库连接类conn</span><br><span class="line">      //DBConnection conn = new DBConnection();</span><br><span class="line">      SqlCommand sqlCommand=new SqlCommand(strsql, myconn);</span><br><span class="line"></span><br><span class="line">      SqlDataReader dr = sqlCommand.ExecuteReader();</span><br><span class="line">      <span class="keyword">if</span> (dr.Read())</span><br><span class="line">      &#123;</span><br><span class="line">          //定义一个Session变量</span><br><span class="line">          Session[<span class="string">&quot;username&quot;</span>] = username;</span><br><span class="line">          //定义一个查询操作的SQL语句.</span><br><span class="line">          string sql = $<span class="string">&quot;select count(*) from DianPudetail where DianPuUser=&#x27;&#123;username&#125;&#x27;&quot;</span>;</span><br><span class="line">          SqlCommand mydb=new SqlCommand(sql, myconn);</span><br><span class="line">          ///如果已经创建个人店铺,则跳转到个人店铺管理页</span><br><span class="line">          <span class="keyword">if</span> (mydb.ExecuteScalar()!=null)</span><br><span class="line">          &#123;</span><br><span class="line">              Response.Redirect(<span class="string">&quot;Shop_Mange.aspx&quot;</span>);</span><br><span class="line">          &#125;//如果没有创建个人店铺,则跳转到创建个人店铺页</span><br><span class="line">          <span class="keyword">else</span></span><br><span class="line">          &#123;</span><br><span class="line">              Response.Redirect(<span class="string">&quot;CreatPresonShop.aspx&quot;</span>);</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>在实现上传个人店铺店标时,将上传的店标(图片)以二进制形式存储到数据库中(主要应用到了HttpPostedFile类的InputStream属性,Stream类的Read方法和Byte数据类型).<br>设计过程</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br></pre></td><td class="code"><pre><span class="line">using System;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using System.Configuration;</span><br><span class="line">using System.Data;</span><br><span class="line">using System.Data.SqlClient;</span><br><span class="line">using System.IO;</span><br><span class="line">using System.Linq;</span><br><span class="line">using System.Web;</span><br><span class="line">using System.Web.UI;</span><br><span class="line">using System.Web.UI.WebControls;</span><br><span class="line"></span><br><span class="line">public partial class NetShop : System.Web.UI.Page</span><br><span class="line">&#123;</span><br><span class="line">    protected void Page_Load(object sender, EventArgs e)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    public void <span class="function"><span class="title">CheckIfFirst</span></span>() &#123;</span><br><span class="line">        <span class="keyword">if</span> (!IsPostBack)</span><br><span class="line">        &#123;</span><br><span class="line">            //定义查询店铺类型信息的Sql语句</span><br><span class="line">            string strsql = <span class="string">&quot;select * from PType where parentId=0&quot;</span>;</span><br><span class="line">            //创建命令对象</span><br><span class="line">            SqlConnection myconn = new SqlConnection(ConfigurationManager.AppSettings[<span class="string">&quot;ConStr&quot;</span>]);</span><br><span class="line">            SqlCommand mycomd=new SqlCommand(strsql,myconn);</span><br><span class="line">            //打开数据库连接</span><br><span class="line">           myconn.Open();</span><br><span class="line">            //创建数据阅读器</span><br><span class="line">            SqlDataReader mydr=mycomd.ExecuteReader();</span><br><span class="line">            Select1.DataSource= mydr;</span><br><span class="line">            Select1.DataTextField = <span class="string">&quot;category_name&quot;</span>;</span><br><span class="line">            Select1.DataValueField = <span class="string">&quot;category_ID&quot;</span>;</span><br><span class="line">            Select1.DataBind();//从数据库绑定数据信息</span><br><span class="line">            mydr.Close();//关闭数据阅读器</span><br><span class="line">            myconn.Close();//关闭数据库连接</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    /// &lt;summary&gt;</span><br><span class="line">    /// 提交</span><br><span class="line">    /// &lt;/summary&gt;</span><br><span class="line">    /// &lt;param name=<span class="string">&quot;sender&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">    /// &lt;param name=<span class="string">&quot;e&quot;</span>&gt;&lt;/param&gt;</span><br><span class="line">    protected void Button1_Click(object sender, EventArgs e)</span><br><span class="line">    &#123;</span><br><span class="line">        string shopName = TextBox1.Text;//店铺名称</span><br><span class="line">        string shopClass = Select1.SelectedValue;//店铺类别</span><br><span class="line">        string shopItem = TextBox3.Text;//店铺主营项目</span><br><span class="line">        string shopJieShao=JieShao.Text;//店铺简介</span><br><span class="line">        <span class="keyword">if</span> (shopJieShao==null)</span><br><span class="line">        &#123;</span><br><span class="line">            shopJieShao = <span class="string">&quot;&quot;</span>;//店铺公告</span><br><span class="line">        &#125;</span><br><span class="line">        string strsql = $<span class="string">&quot;select * from DianPuDetail where DianPuName=&#x27;&#123;shopName&#125;&#x27;&quot;</span>;//定义一个查询店铺信息的操作</span><br><span class="line">        SqlConnection myconn = new SqlConnection(ConfigurationManager.AppSettings[<span class="string">&quot;ConStr&quot;</span>]);</span><br><span class="line">        SqlCommand <span class="built_in">command</span> = new SqlCommand(strsql,myconn);</span><br><span class="line">        myconn.Open();</span><br><span class="line">        SqlDataReader dr=command.ExecuteReader();</span><br><span class="line">        string imgPath =uploadFile.PostedFile.FileName;//获取上传图片路径</span><br><span class="line">        string imgName=imgPath.Substring(imgPath.LastIndexOf(<span class="string">&quot;\\&quot;</span>)+ 1);//获取上传文件名称</span><br><span class="line">        string imgExtend = imgPath.Substring(imgPath.LastIndexOf(<span class="string">&quot;.&quot;</span>)+1);//获取上传文件扩展名</span><br><span class="line">        Image imageupload = null;//判断上传路径是否为空</span><br><span class="line">        <span class="keyword">if</span> (uploadFile.PostedFile.FileName!=<span class="string">&quot;&quot;</span>)//判断上传路径是否为空</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (dr.Read())//判断数据库中是否已存在创建的店铺</span><br><span class="line">            &#123;</span><br><span class="line">                Response.Write(<span class="string">&quot;&lt;script&gt;alert(&#x27;抱歉,此店名已经存在!&#x27;);location=&#x27;javascript:history.go(-1)&#x27;&lt;/script&gt;&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            //判断上传图片的格式</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(uploadFile.PostedFile.FileName!=<span class="string">&quot;&quot;</span> &amp;&amp; (Path.GetExtension(uploadFile.PostedFile.FileName)!=<span class="string">&quot;.gif&quot;</span>)&amp;&amp; Path.GetExtension(uploadFile.PostedFile.FileName)!=<span class="string">&quot;.jpg&quot;</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                Response.Write(<span class="string">&quot;&lt;script&gt;alert(&#x27;上传的图片格式必须为gif或jpg!&#x27;)&lt;/script&gt;&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                dr.Close();//关闭数据阅读器</span><br><span class="line">                //获取登录用户名存储在定义的字符串类型的变量username</span><br><span class="line">                string username = Session[<span class="string">&quot;username&quot;</span>].ToString();</span><br><span class="line">                //定义插入的SQL字符串</span><br><span class="line">                string sqlstr = $<span class="string">&quot;insert into DianPuDetail(DianPuName,DianPuUser,DainPuClass,DianPuItem,DianPuJieshao)values(&#x27;&#123;shopName&#125;&#x27;,&#x27;&#123;username&#125;&#x27;,&#x27;&#123;shopClass&#125;&#x27;,&#x27;&#123;shopItem&#125;&#x27;,&#x27;&#123;shopJieShao&#125;&#x27;)&quot;</span>;</span><br><span class="line">                SqlCommand mycomm= new SqlCommand(sqlstr,myconn);</span><br><span class="line">                <span class="keyword">if</span> (mycomm.Connection.State!=System.Data.ConnectionState.Open)</span><br><span class="line">                &#123;</span><br><span class="line">                    myconn.Open();</span><br><span class="line">                &#125;</span><br><span class="line">                mycomm.ExecuteNonQuery();</span><br><span class="line">                ///以下代码实现将上传的图片以二进制的形式存储到数据库中</span><br><span class="line">                <span class="keyword">if</span> (uploadFile.PostedFile.FileName!=<span class="string">&quot;&quot;</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    Stream imagestream;//创建数据流对象</span><br><span class="line">                    int imageLength = this.uploadFile.PostedFile.ContentLength;//获取上传图片的长度</span><br><span class="line">                    Byte[] image = new byte[imageLength];//定义Byte数组</span><br><span class="line">                    HttpPostedFile hp = uploadFile.PostedFile;</span><br><span class="line">                    imagestream = hp.InputStream;</span><br><span class="line">                    //将图片数据放在image对象实例中,其中0代表数组指针的起始位置,imagelength表示要读取流的长度(指针的结束位置)</span><br><span class="line">                    imagestream.Read(image,0,imageLength);</span><br><span class="line">                    //定义更新数据库中存储的二进制图片</span><br><span class="line">                    string sqlstr0 = $<span class="string">&quot;update [DianPuDetail] set [DianPuLogo]=@imgdata where DianPuId=(select top 1 DianPuId from [DianPuDetail] where DianPuUser=&#x27;&#123;username&#125;&#x27; order by DianPuId desc)&quot;</span>; </span><br><span class="line">                    //将图片存储到数据库指定字段中</span><br><span class="line">                    SqlCommand comd=new SqlCommand(sqlstr0,myconn);</span><br><span class="line">                    comd.Parameters.Add(<span class="string">&quot;@imagedata&quot;</span>,SqlDbType.Image);</span><br><span class="line">                    comd.Parameters[<span class="string">&quot;@imagedata&quot;</span>].Value = image;</span><br><span class="line">                    comd.ExecuteReader();</span><br><span class="line">                    myconn.Close();//关闭数据库连接</span><br><span class="line">                &#125;</span><br><span class="line">                Response.Write(<span class="string">&quot;&lt;script language=&#x27;javaScript&#x27;&gt;alert(&#x27;恭喜!!!注册成功!!!&#x27;);location=&#x27;Shop_Manage.aspx&#x27;&lt;/script&gt;&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            Response.Write(<span class="string">&quot;&lt;script&gt;alert(&#x27;上传图片不能为空!&#x27;);location=&#x27;javascript:history.go(-1)&#x27;&lt;/script&gt;&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    protected void Button2_Click(object sender, EventArgs e)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;%@ Page Language=<span class="string">&quot;C#&quot;</span> AutoEventWireup=<span class="string">&quot;true&quot;</span> CodeFile=<span class="string">&quot;NetShop.aspx.cs&quot;</span> Inherits=<span class="string">&quot;NetShop&quot;</span> %&gt;</span><br><span class="line">&lt;%@ Register Assembly=<span class="string">&quot;FreeTextBox&quot;</span> Namespace=<span class="string">&quot;FreeTextBoxControls&quot;</span> TagPrefix=<span class="string">&quot;ftb&quot;</span> %&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line"></span><br><span class="line">&lt;html xmlns=<span class="string">&quot;http://www.w3.org/1999/xhtml&quot;</span>&gt;</span><br><span class="line">&lt;<span class="built_in">head</span> runat=<span class="string">&quot;server&quot;</span>&gt;</span><br><span class="line">&lt;meta http-equiv=<span class="string">&quot;Content-Type&quot;</span> content=<span class="string">&quot;text/html; charset=utf-8&quot;</span>/&gt;</span><br><span class="line">    &lt;title&gt;&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;form <span class="built_in">id</span>=<span class="string">&quot;form1&quot;</span> runat=<span class="string">&quot;server&quot;</span>&gt;</span><br><span class="line">        你的店名:&lt;asp:TextBox ID=<span class="string">&quot;TextBox1&quot;</span> runat=<span class="string">&quot;server&quot;</span> Width=<span class="string">&quot;252px&quot;</span>&gt;&lt;/asp:TextBox&gt;</span><br><span class="line">        &lt;br /&gt;</span><br><span class="line">         你的店标:&lt;asp:FileUpload ID=<span class="string">&quot;uploadFile&quot;</span> runat=<span class="string">&quot;server&quot;</span> onpropertychange=<span class="string">&quot;document.all.img1.src=this.value&quot;</span>/&gt;</span><br><span class="line"></span><br><span class="line">        &lt;br /&gt;</span><br><span class="line">&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;</span><br><span class="line">        &lt;asp:Image ID=<span class="string">&quot;img1&quot;</span> runat=<span class="string">&quot;server&quot;</span> Width=<span class="string">&quot;150px&quot;</span> /&gt;</span><br><span class="line"></span><br><span class="line">        &lt;br /&gt;</span><br><span class="line">        店铺类型:&lt;asp:DropDownList ID=<span class="string">&quot;Select1&quot;</span> runat=<span class="string">&quot;server&quot;</span> Width=<span class="string">&quot;252px&quot;</span>&gt;</span><br><span class="line">        &lt;/asp:DropDownList&gt;</span><br><span class="line">        &lt;br /&gt;</span><br><span class="line">        主营项目:&lt;asp:TextBox ID=<span class="string">&quot;TextBox3&quot;</span> runat=<span class="string">&quot;server&quot;</span> Width=<span class="string">&quot;252px&quot;</span>&gt;&lt;/asp:TextBox&gt;</span><br><span class="line"></span><br><span class="line">        &lt;br /&gt;</span><br><span class="line">        &lt;ftb:FreeTextBox runat=<span class="string">&quot;server&quot;</span> ID=<span class="string">&quot;JieShao&quot;</span>&gt;&lt;/ftb:FreeTextBox&gt;</span><br><span class="line">        &lt;asp:Button ID=<span class="string">&quot;Button1&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&quot;提交&quot;</span> Width=<span class="string">&quot;150px&quot;</span> OnClick=<span class="string">&quot;Button1_Click&quot;</span> /&gt;</span><br><span class="line">&amp;nbsp;&amp;nbsp;&amp;nbsp;</span><br><span class="line">        &lt;asp:Button ID=<span class="string">&quot;Button2&quot;</span> runat=<span class="string">&quot;server&quot;</span> Text=<span class="string">&quot;重置&quot;</span> Width=<span class="string">&quot;150px&quot;</span> OnClick=<span class="string">&quot;Button2_Click&quot;</span> /&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>秘笈心法<br>购物商城网创建个人店铺的设计思路<br>在创建个人店铺前首先需要注册为商铺会员,在登录窗口登录成功后将跳转到创建个人店铺页面CreatePersonShop.aspx,店铺创建成功后,将跳转到个人商铺管理页,在该页中用户可以链接到相关商铺管理页面,如店铺的”我要卖”页面,店铺公告信息发布等.当成为该店铺的会员后再次登录将会直接跳转到个人商铺管理页面.<br>046.网上商城购物车<br>实例说明<br>购物浏览<br>商品信息查看<br>继续购物,结账,清空购物车等<br>后台管理<br>商品浏览页面(Default.aspx)也是该购物车实例的起始页,主要用来实现用户登录及商品显示的功能,在该页中用户可以浏览商品信息,如果用户的身份为已登录的用户,还可以将物品放入购物车内<br>购物车页面(ShoppingCart.aspx)主要将用户选择的商品添加到购物车内,用户可以增加某件购买商品的数量,删除某件商品,继续购物,清空购物车或结账等.<br>后台管理页面(GoodsInfo.aspx)主要添加商品信息,该页中的每项内容都必须填写.管理员添加商品照片时,会将本地图片上传到服务器中,并显示在Image控件上.<br>关键技术<br>验证DataList控件中的TextBox控件允许输入数字和计算购物车中账户余额<br>1.验证DataList控件中的TextBox控件允许输入数字<br>可以通过CompareValidator控件进行验证,也可以通过该控件的Attribute属性设置,当用户松开按键时进行验证,如果不为数字则取消操作.<br>在ShoppingCart.aspx页面的Page_Load事件中,首先定义一个正则表达式使购物车中的更改商品数量的TextBox控件中能输入数字</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">protected void Page_Load(object sender,EventArgs e)&#123;</span><br><span class="line">	//应用正则表达式屏蔽用户输入非数字字符</span><br><span class="line">	TextBox1.Attributes[<span class="string">&quot;onkeyup&quot;</span>]=<span class="string">&quot;value=value.replace(/[^\\d]/g,&quot;</span>)<span class="string">&quot;;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
<p>定义完用于更改商品数量的TextBox控件只能输入数字后,如果该TextBox控件在DataList控件的ItemTemplate模板中,那么就需要对当前项被数据绑定到DataList控件时引发的ItemDataBound事件进行设置,首先要在DataList控件中找到该控件,</p>

                </div>
                <footer class="kratos-entry-footer clearfix">
                    <div class="post-like-donate text-center clearfix">
                        <a class="read-more" href="/qm/c33edf33.html#more" title="AspNet开发1">继续阅读 <i class="fa fa-chevron-circle-right"></i></a>
                    </div>
                </footer>
            </div>
        </article>
    





    <div class="hidden">
        <!-- 加载文章阅读对应的统计功能，评论自带的那种 -->
        
    </div>



        

            </section>

        
                
            

<section id="kratos-widget-area" class="col-md-4 hidden-xs hidden-sm">
    <!-- 文章和页面根据splitter来分割，没有的话就从头开始设置为sticky -->
    
        <div class="sticky-area">
    
    
                <aside id="krw-about" class="widget widget-kratos-about clearfix">
    <div class="photo-background"></div>
    <div class="photo-wrapper clearfix">
        <div class="photo-wrapper-tip text-center">
            <img class="about-photo" src="/images/avatar.webp" />
        </div>
    </div>
    <div class="textwidget">
        <p class="text-center"></p>
    </div>
    <div class="site-meta">
        <a class="meta-item" href="/archives/">
            <span class="title">
                文章
            </span>
            <span class="count">
                28
            </span>
        </a>
        <a class="meta-item" href="/categories/">
            <span class="title">
                分类
            </span>
            <span class="count">
                8
            </span>
        </a>
        <a class="meta-item" href="/tags/">
            <span class="title">
                标签
            </span>
            <span class="count">
                15
            </span>
        </a>
    </div>
</aside>
            
                
  <aside id="krw-categories" class="widget widget-kratos-categories clearfix">
    <h4 class="widget-title"><i class="fa fa-folder"></i>分类目录</h4>
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Asp-Net/">Asp.Net</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/C/">C#</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/WPF/">WPF</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Web%E6%9C%8D%E5%8A%A1/">Web服务</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Windows%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/">Windows应用开发</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Windows%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91/">Windows应用程序开发</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%8D%9A%E5%AE%A2%E6%97%A5%E8%AE%B0/">博客日记</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BA%BF%E4%B8%8A%E8%AF%84%E8%AE%BA/">线上评论</a><span class="category-list-count">2</span></li></ul>
  </aside>


            
                
  <aside id="krw-tags" class="widget widget-kratos-tags clearfix">
    <h4 class="widget-title"><i class="fa fa-tags"></i>标签聚合</h4>
      <div class="tag-clouds">
        <a href="/tags/Aplayer/" style="font-size: 0.6em;">Aplayer</a> <a href="/tags/C/" style="font-size: 0.6em;">C#</a> <a href="/tags/GitHub/" style="font-size: 0.7em;">GitHub</a> <a href="/tags/Gitalk/" style="font-size: 0.6em;">Gitalk</a> <a href="/tags/Hexo/" style="font-size: 0.7em;">Hexo</a> <a href="/tags/Nginx/" style="font-size: 0.6em;">Nginx</a> <a href="/tags/Nodejs/" style="font-size: 0.7em;">Nodejs</a> <a href="/tags/UWP/" style="font-size: 0.75em;">UWP</a> <a href="/tags/WCF/" style="font-size: 0.7em;">WCF</a> <a href="/tags/WPF/" style="font-size: 0.8em;">WPF</a> <a href="/tags/livere/" style="font-size: 0.6em;">livere</a> <a href="/tags/%E5%8D%9A%E5%AE%A2%E7%BE%8E%E5%8C%96/" style="font-size: 0.6em;">博客美化</a> <a href="/tags/%E6%97%A5%E8%AE%B0/" style="font-size: 0.6em;">日记</a> <a href="/tags/%E8%A7%86%E9%A2%91/" style="font-size: 0.6em;">视频</a> <a href="/tags/%E9%9F%B3%E4%B9%90/" style="font-size: 0.65em;">音乐</a>
      </div>
  </aside>

            
                
  <aside id="krw-posts" class="widget widget-kratos-posts">
  <h4 class="widget-title"><i class="fa fa-file"></i>最新文章</h4>
  <div class="tab-content">
      <ul class="list-group">
        
        
          
          
            <a class="list-group-item" href="/qm/4a17b156.html"><i class="fa  fa-book"></i> Hello World</a>
            
          
        
          
          
            <a class="list-group-item" href="/qm/c33edf33.html"><i class="fa  fa-book"></i> AspNet开发1</a>
            
          
        
          
          
            <a class="list-group-item" href="/qm/8cfe4bab.html"><i class="fa  fa-book"></i> 深入浅出Windows应用开发(四)</a>
            
          
        
          
          
            <a class="list-group-item" href="/qm/50fedeca.html"><i class="fa  fa-book"></i> Windows通用应用程序开发(三)</a>
            
          
        
          
          
            <a class="list-group-item" href="/qm/5bdeb856.html"><i class="fa  fa-book"></i> 深入浅出Windows应用程序开发(二)</a>
            
          
        
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
      </ul>
  </div>
  </aside>

            
    </div>
</section>
        
        </div>
    </div>
</div>
<footer>
    <div id="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-6 col-md-offset-3 footer-list text-center">
                    <ul class="kratos-social-icons">
                        
                        <li><a href="mailto:Drfengling@163.com"><i class="fa fa-envelope"></i></a></li>
                        <li><a target="_blank" rel="nofollow" href="https://t.me/CandyUnion"><i class="fa fa-telegram"></i></a></li>
                        
                        
                        
                        <li><a target="_blank" rel="me" href="https://nya.one/@Drfengling"><i class="fa fa fa-share-alt-square"></i></a></li>
                        <li><a target="_blank" rel="nofollow" href="https://github.com/Drfengling"><i class="fa fa-github"></i></a></li>
                        
                    </ul>
                    <ul class="kratos-copyright">
                        <div>
                            <li>&copy; 2023 浅梦博客 版权所有.</li>
                            <li>本站已运行<span id="span_dt">Loading...</span></li>
                        </div>
                        <div>
                            <li>Theme <a href="https://github.com/Candinya/Kratos-Rebirth" target="_blank">Kratos:Rebirth</a></li>
                            <li>Site built with&nbsp;<i class="fa fa-heart throb" style="color:#d43f57"></i>&nbsp;by 浅梦风凌.</li>
                        </div>
                        <div>
                            <li>Powered by <a href="https://hexo.io" target="_blank" rel="nofollow">Hexo</a></li>
                            <li>Hosted on <a href="https://github.io" target="_blank">Github Pages</a></li>
                        </div>
                        <div>
                            <li><a href="https://beian.miit.gov.cn" rel="external nofollow" target="_blank">豫ICP备2022011311号</a></li>
                            
                        </div>
                    </ul>
                </div>
            </div>
        </div>
        <div class="kr-tool text-center">
            <div class="tool">
                
                    <div class="box search-box">
                        <a href="/search/">
                            <span class="fa fa-search"></span>
                        </a>
                    </div>
                
                
                    <div class="box theme-box" id="darkmode-switch">
                        <span class="fa fa-adjust"></span>
                    </div>
                
                
            </div>
            <div class="box gotop-box">
                <span class="fa fa-chevron-up"></span>
            </div>
        </div>
    </div>
</footer>
</div>
</div>

        <script defer src="https://unpkg.com/bootstrap@3.3.4/dist/js/bootstrap.min.js"></script>
<script defer src="https://unpkg.com/nprogress@0.2.0/nprogress.js"></script>
<script>
    if (!window.kr) {
        window.kr = {};
    }
    window.kr.notMobile = (!(navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)));
    window.kr.siteRoot = "/";
</script>

  
<script src="/fancybox/jquery.fancybox.min.js"></script>



    <div>
        <canvas id="snow"></canvas>
        <script async type="text/javascript" src="/js/snow.min.js"></script>
    </div>



<script defer src="https://unpkg.com/clipboard@2.0.6/dist/clipboard.min.js"></script>
<script defer src="/js/kratosr.min.js"></script>
<script defer src="/js/pjax.min.js"></script>



<!-- Extra support for third-party plguins  -->


    </body>

</html>